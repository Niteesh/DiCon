provide('/account/templates_t1_core.js',function(exports){if(!twttr.isMockview){var __hogan_opts = {sectionTags:[{o: '_i', c: 'i'}], disableLambda:true}; twttr.provide('twttr.templates',{ "activity_modal": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div id='activity-modal' style='display: none'>\n  <div class='left-pointer'></div>\n  <a class='dismiss' title=\"Hide\">&times;</a>\n  <p class='header'><span class='new'>New!</span> Activity and @");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("</p>\n  <p class='desc'>\n      View favorites, follows, retweets and more by people you follow in <strong>Activity</strong>.\n  </p>\n  <p class='extra-blurb desc'>\n    View your mentions, tweets that were retweeted and more in <strong>@");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("</strong>.\n  </p>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"bg_img_css": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("<style id=\"user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b("-bg-img\" class=\"js-user-style-bg-img\">\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" {\n");if(t.s(t.f("is_vit_layout",c,p,1),c,p,0,135,290,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("is_mobile",c,p,1),c,p,1,0,0,"")){t.b("      background-color: #3c8fc9;\n");};if(t.s(t.f("is_mobile",c,p,1),c,p,0,231,271,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: #e2e2e2;\n");});c.pop();}});c.pop();}if(!t.s(t.f("is_vit_layout",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("profile_use_background_image",c,p,1),c,p,0,371,529,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("profile_background_image_url",c,p,1),c,p,0,413,489,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          background-image: url(");t.b(t.v(t.f("profile_background_image_url",c,p,0)));t.b(");\n");});c.pop();}});c.pop();}};t.b("  }\n</style>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"details_pane": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"inner-pane\">\n  <div class='pane-toolbar pane-built-in'>\n");if(t.s(t.f("popable",c,p,1),c,p,0,84,180,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <a class='pane-back toolbar-control' href='#'><span>&larr;</span> ");t.b(t.v(t.f("back_label",c,p,0)));t.b("</a>\n");});c.pop();}if(t.s(t.f("closable",c,p,1),c,p,0,210,299,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <a class='pane-close toolbar-control' href='#'>close <span>&times;</span></a>\n");});c.pop();}t.b("    <br style='clear: both' />\n  </div>\n  <div class=\"pane-components\">\n    <div class=\"pane-components-inner\">\n    </div>\n  </div>\n</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"details_pane_container": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div id=\"details-pane-outer\">\n  <div class=\"details-pane-shell\">\n    <div class=\"details-pane\">\n      ");t.b(t.t(t.f("pane",c,p,0)));t.b("\n" + i);t.b("    </div>\n  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"home_page": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"main-content\">\n");if(t.s(t.f("render_page_content",c,p,1),c,p,0,53,3328,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <div class=\"page-header home-header\">\n      <div id=\"main-tweet-box\">\n");t.b(t.rp("posting_tweet_box0",c,p,"        "));t.b("      </div>\n      <ul class=\"stream-tabs\">\n        <li class=\"stream-tab stream-tab-home ");if(t.s(t.f("active_tab_home",c,p,1),c,p,0,269,275,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n          <a class=\"tab-text\" title='All you follow' href=\"");t.b(t.v(t.f("index_path",c,p,0)));t.b("\">Timeline</a>\n        </li>\n\n");if(t.s(t.f("decider_activity_read",c,p,1),c,p,0,435,1026,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("decider_activity_dark_read",c,p,1),c,p,0,477,986,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <li class=\"stream-tab stream-tab-your_activity ");if(t.s(t.f("active_tab_your_activity",c,p,1),c,p,0,566,572,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" title='@");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("' href=\"");t.b(t.v(t.f("your_activity_path",c,p,0)));t.b("\">@");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("</a>\n            </li>\n            <li class=\"stream-tab stream-tab-activity ");if(t.s(t.f("active_tab_activity",c,p,1),c,p,0,836,842,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" title='Activity' href=\"");t.b(t.v(t.f("activity_path",c,p,0)));t.b("\">Activity</a>\n            </li>\n");});c.pop();}});c.pop();}t.b("\n" + i);if(!t.s(t.f("decider_activity_read",c,p,1),c,p,1,0,0,"")){t.b("          <li class=\"stream-tab stream-tab-mentions ");if(t.s(t.f("active_tab_mentions",c,p,1),c,p,0,1165,1171,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <a class=\"tab-text\" title='Mentions' href=\"");t.b(t.v(t.f("mentions_path",c,p,0)));t.b("\">@Mentions</a>\n          </li>\n          <li class=\"stream-tab stream-tab-retweets dropdown-link ");if(t.s(t.f("active_tab_retweets",c,p,1),c,p,0,1392,1398,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <a class=\"tab-text\" href=\"#\">Retweets<i></i></a>\n          </li>\n");};t.b("\n" + i);t.b("        <li class=\"stream-tab stream-tab-searches dropdown-link ");if(t.s(t.f("active_tab_searches",c,p,1),c,p,0,1626,1632,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n          <a class=\"tab-text\" href=\"#\">Searches<i></i></a>\n        </li>\n\n        <li class=\"stream-tab stream-tab-lists dropdown-link ");if(t.s(t.f("active_tab_lists",c,p,1),c,p,0,1815,1821,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n          <a class=\"tab-text\" href=\"#\">Lists<i></i></a>\n        </li>\n");if(t.s(t.f("decider_network_discovery",c,p,1),c,p,0,1953,2211,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <li class=\"stream-tab stream-tab-discovery activity-subtabs ");if(t.s(t.f("active_tab_network_discovery",c,p,1),c,p,0,2057,2063,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <a class=\"tab-text\" title='Discover' href=\"");t.b(t.v(t.f("discovery_path",c,p,0)));t.b("\">Discover</a>\n          </li>\n");});c.pop();}t.b("      </ul>\n    </div>\n");if(t.s(t.f("decider_activity_read",c,p,1),c,p,0,2295,3092,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("decider_activity_dark_read",c,p,1),c,p,0,2333,3056,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("activity_subtabs",c,p,1),c,p,0,2363,3028,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <ul class=\"stream-subtabs stream-subtabs-activity ");if(t.s(t.f("active_tab_activity",c,p,1),c,p,0,2448,2454,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <li class=\"stream-tab stream-subtab-your_activity ");if(t.s(t.f("active_subtab_your_activity",c,p,1),c,p,0,2575,2581,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" href=\"");t.b(t.v(t.f("your_activity_path",c,p,0)));t.b("\">about you</a>\n            </li>\n            <li class=\"stream-tab stream-tab-separator\">&middot;</li>\n            <li class=\"stream-tab stream-subtab-activity ");if(t.s(t.f("active_subtab_activity",c,p,1),c,p,0,2866,2872,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" href=\"");t.b(t.v(t.f("activity_path",c,p,0)));t.b("\">by people you follow</a>\n            </li>\n          </ul>\n");});c.pop();}});c.pop();}});c.pop();}t.b(t.rp("stream_manager1",c,p,"    "));t.b("    ");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,3171,3301,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<script>twttr.tweetsVisibleTime = new Date();if (window.ttft) window.ttft.serverRendered('home');twttr.keynoteTTFTPing();</script>");});c.pop();}t.b("\n" + i);});c.pop();}t.b("</div>\n<div class=\"dashboard\">\n");if(t.s(t.f("render_page_content",c,p,1),c,p,0,3410,3483,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("current_user",c,p,1),c,p,0,3432,3463,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("home_dashboard2",c,p,"      "));});c.pop();}});c.pop();}t.b("</div>\n\n");t.b(t.rp("details_pane_container3",c,p,""));return t.fl(); }, partials: {"posting_tweet_box0": {name:"posting_tweet_box"},"stream_manager1": {name:"stream_manager"},"home_dashboard2": {name:"home_dashboard"},"details_pane_container3": {name:"details_pane_container"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"message_drawer": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"message ");if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b(t.v(t.f("type",c,p,0)));};t.b("\">\n  <div class=\"message-inside\">\n    <span class=\"message-text\">");t.b(t.t(t.f("text",c,p,0)));t.b("</span\n    >");if(t.s(t.f("close_button",c,p,1),c,p,0,180,219,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<a class=\"dismiss\" href=\"#\">&times;</a>");});c.pop();}t.b("\n" + i);t.b("  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"message_notification": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("message",c,p,1),c,p,0,12,435,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div data-sender-id='");t.b(t.v(t.f("sender_screen_name",c,p,0)));t.b("' data-message-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\" class='notification'>\n  <a class='dismiss' href='#'>&times;</a>\n  <h1>New Message from ");t.b(t.t(t.f("sender_screen_name",c,p,0)));t.b("</h1>\n  <div class='message-text'>");t.b(t.t(t.f("text",c,p,0)));t.b("</div>\n  <div class=\"message-notification-reply-box\">\n    <div class=\"message-notification-reply-editor\"></div>\n    <div class=\"message-notification-reply-button button\">Send</div>\n  </div>\n</div>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"more_button": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-item\">\n  <div class=\"more-button-container\">\n    <a class=\"more-button btn\">more</a>\n  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"new_tweets_bar": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-item\">\n  <div class=\"new-tweets-bar js-new-tweets-bar\" data-item-count=\"");t.b(t.v(t.f("count",c,p,0)));t.b("\">\n    \n");if(t.s(t.f("tweets_count_phrase",c,p,1),c,p,0,136,171,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      ");t.b(t.v(t.f("tweets_count_phrase",c,p,0)));t.b("\n" + i);});c.pop();}if(!t.s(t.f("tweets_count_phrase",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_tweet",c,p,1),c,p,0,244,359,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        ");if(t.s(t.f("count_one",c,p,1),c,p,0,267,286,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" new Tweet");});c.pop();}if(t.s(t.f("count_other",c,p,1),c,p,0,316,336,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" new Tweets");});c.pop();}t.b("\n" + i);});c.pop();}if(!t.s(t.f("is_tweet",c,p,1),c,p,1,0,0,"")){t.b("        ");if(t.s(t.f("count_one",c,p,1),c,p,0,415,440,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" new Interaction");});c.pop();}if(t.s(t.f("count_other",c,p,1),c,p,0,470,496,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" new Interactions");});c.pop();}t.b("\n" + i);};};t.b("  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"pill_css": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b(".profile-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,61,111,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("}\n\na:hover .geo-pin, body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .geo-pin {\n  background-color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n}");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"posting_tweet_box": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<form method=\"post\" action=\"/status/update\">\n  <div class=\"tweet-box condensed\">\n    <div class=\"tweet-box-title\">\n      <h2>What’s happening?</h2>\n    </div>\n    <div class=\"text-area\">\n      <div class=\"text-area-editor twttr-editor\">\n        <textarea class=\"twitter-anywhere-tweet-box-editor\" name=\"status\" style=\"width: 482px; height: 36px;\"></textarea>\n      </div>\n    </div>\n  </div>\n</form>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream\">\n  \n  <div class=\"js-stream-items stream-items\" id=\"stream-items-id\"></div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_activity": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<span class='stream-activity-line'><i></i>");t.b(t.t(t.f("sentence",c,p,0)));t.b("</span>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_item": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"js-stream-item stream-item ");t.b(t.v(t.f("item_class",c,p,0)));t.b("\" data-item-id=\"");t.b(t.v(t.f("item_id",c,p,0)));t.b("\" data-item-type=\"");t.b(t.v(t.f("item_type",c,p,0)));t.b("\"");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,136,179,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" id=\"stream-item-");t.b(t.v(t.f("item_type",c,p,0)));t.b("-");t.b(t.v(t.f("item_id",c,p,0)));t.b("\"");});c.pop();}t.b(">\n  ");t.b(t.t(t.f("item_html",c,p,0)));t.b("\n" + i);t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_loading": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-loading\">\n  <div class=\"stream-end-inner\">\n    <span class=\"spinner\" title=\"Loading...\"></span>\n  </div>\n</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_manager": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-manager js-stream-manager-container\"");if(t.s(t.f("page_name_underscore",c,p,1),c,p,0,80,125,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" id=\"");t.b(t.v(t.f("page_name_underscore",c,p,0)));t.b("-stream-manager\"");});c.pop();}t.b(">\n");if(t.s(t.f("tweets",c,p,1),c,p,0,165,711,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <div class=\"stream-title\"></div>\n    <div class=\"stream-container\">\n      <div class=\"stream ");if(t.s(t.f("page_name_underscore",c,p,1),c,p,0,288,319,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("page_name_underscore",c,p,0)));t.b("-stream");});c.pop();}t.b("\">\n        \n        <div class=\"js-stream-items stream-items\" id=\"stream-items-id\">");t.b(t.t(t.f("tweets",c,p,0)));t.b("</div>\n");if(t.s(t.f("show_empty_home",c,p,1),c,p,0,474,538,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <div class=\"component\">");t.b(t.rp("empty_home0",c,p,""));t.b("</div>\n");});c.pop();}if(t.s(t.f("include_stream_footer",c,p,1),c,p,0,593,657,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <div class=\"component\">");t.b(t.rp("stream_end1",c,p,""));t.b("</div>\n");});c.pop();}t.b("\n" + i);t.b("      </div>\n    </div>\n");});c.pop();}if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,749,898,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("tweets",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("profile_page",c,p,1),c,p,0,789,862,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("can_view",c,p,1),c,p,1,0,0,"")){t.b(t.rp("stream2",c,p,"          "));};});c.pop();}};});c.pop();}t.b("</div>\n");return t.fl(); }, partials: {"empty_home0": {name:"empty_home"},"stream_end1": {name:"stream_end"},"stream2": {name:"stream"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_tweet": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n");t.b("\n" + i);if(!t.s(t.f("render_withheld",c,p,1),c,p,1,0,0,"")){t.b("\n" + i);t.b("  \n");if(t.s(t.f("is_current_user_withheld",c,p,1),c,p,0,58,87,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("withheld_message0",c,p,"    "));});c.pop();}t.b("\n" + i);t.b("  <div class=\"tweet original-tweet js-stream-tweet js-actionable-tweet js-hover js-profile-popup-actionable js-original-tweet ");if(t.s(t.f("hidden_by_activity",c,p,1),c,p,0,267,290,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" sub-stream-item-hidden");});c.pop();}if(t.s(t.f("embedded_by_activity",c,p,1),c,p,0,338,356,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" js-activity-tweet");});c.pop();}if(t.s(t.f("spam_threat",c,p,1),c,p,0,397,415,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" spam-threat-tweet");});c.pop();}t.b(" ");t.b(t.rp("common_tweet_classes1",c,p,""));t.b("\" ");t.b(t.rp("tweet_data2",c,p,""));t.b(">\n\n    \n    <i class=\"dogear\"></i>\n\n    \n    <div class=\"content\">\n\n      \n      <div class=\"stream-item-header\">\n");t.b(t.rp("tweet_timestamp3",c,p,"        "));if(t.s(t.f("tweet_spam_experiment_enabled",c,p,1),c,p,0,659,699,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_spam_menu4",c,p,"          "));});c.pop();}t.b(t.rp("tweet_user_block5",c,p,"        "));t.b("      </div>\n\n      \n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,815,949,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <p class=\"js-tweet-text");if(t.s(t.f("is_rtl_tweet",c,p,1),c,p,0,864,879,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" tweet-text-rtl");});c.pop();}t.b("\">\n          ");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("\n" + i);t.b("        </p>\n");});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b("        <p class=\"js-tweet-text\">");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("</p>\n");};t.b("\n" + i);t.b("      \n      <div class=\"stream-item-footer\">\n        \n");t.b(t.rp("tweet_context6",c,p,"        "));t.b("\n" + i);t.b("        \n        <a class=\"details with-icn js-details\" href=\"");t.b(t.v(t.f("permalink_path",c,p,0)));t.b("\">\n          <span class=\"details-icon js-icon-container\"");if(t.s(t.f("place_name",c,p,1),c,p,0,1330,1362,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-placename=\"");t.b(t.v(t.f("place_name",c,p,0)));t.b("\"");});c.pop();}t.b(">\n");if(t.s(t.f("is_reply",c,p,1),c,p,0,1404,1455,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-chat\"></i>\n");});c.pop();}if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,1505,1958,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("has_embedded_photo",c,p,1),c,p,0,1541,1593,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-image\"></i>\n");});c.pop();}if(t.s(t.f("has_embedded_summary",c,p,1),c,p,0,1654,1706,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-embed\"></i>\n");});c.pop();}if(t.s(t.f("has_embedded_player",c,p,1),c,p,0,1768,1820,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-video\"></i>\n");});c.pop();}if(t.s(t.f("has_strong_geo",c,p,1),c,p,0,1876,1926,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-geo\"></i>\n");});c.pop();}});c.pop();}t.b("          </span>\n          <b>\n            <span class=\"expand-stream-item js-view-details\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,2115,2360,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                ");t.b(t.v(t.f("expand_callout_text",c,p,0)));t.b("\n" + i);if(!t.s(t.f("expand_callout_text",c,p,1),c,p,1,0,0,"")){t.b("                  <span class=\"expand-action-wrapper\">\n                    Expand\n                  </span>\n");};});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_reply",c,p,1),c,p,0,2453,2506,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                  View conversation\n");});c.pop();}if(!t.s(t.f("is_reply",c,p,1),c,p,1,0,0,"")){t.b("                  <span class=\"expand-action-wrapper\">\n                    Expand\n                  </span>\n");};};t.b("            </span>\n            <span class=\"collapse-stream-item js-hide-details\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,2849,2906,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                ");t.b(t.v(t.f("collapse_callout_text",c,p,0)));t.b("\n" + i);});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_reply",c,p,1),c,p,0,2999,3052,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                  Hide conversation\n");});c.pop();}if(!t.s(t.f("is_reply",c,p,1),c,p,1,0,0,"")){t.b("                  <span class=\"collapse-action-wrapper\">\n                    Collapse\n                  </span>\n");};};t.b("            </span>\n          </b>\n        </a>\n\n        \n");t.b(t.rp("tweet_actions7",c,p,"        "));t.b("      </div>\n\n      \n");t.b(t.rp("stream_tweet_expansion8",c,p,"      "));t.b("\n" + i);t.b("    </div>\n  </div>\n");};t.b("\n" + i);if(t.s(t.f("render_withheld",c,p,1),c,p,0,3480,3510,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("stream_tweet_withheld9",c,p,"  "));});c.pop();}return t.fl(); }, partials: {"withheld_message0": {name:"withheld_message"},"common_tweet_classes1": {name:"common_tweet_classes"},"tweet_data2": {name:"tweet_data"},"tweet_timestamp3": {name:"tweet_timestamp"},"tweet_spam_menu4": {name:"tweet_spam_menu"},"tweet_user_block5": {name:"tweet_user_block"},"tweet_context6": {name:"tweet_context"},"tweet_actions7": {name:"tweet_actions"},"stream_tweet_expansion8": {name:"stream_tweet_expansion"},"stream_tweet_withheld9": {name:"stream_tweet_withheld"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_tweet_withheld": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet original-tweet withheld-tweet js-stream-tweet js-actionable-tweet js-profile-popup-actionable js-original-tweet ");if(t.s(t.f("hidden_by_activity",c,p,1),c,p,0,153,176,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" sub-stream-item-hidden");});c.pop();}if(t.s(t.f("embedded_by_activity",c,p,1),c,p,0,224,242,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" js-activity-tweet");});c.pop();}t.b(" ");t.b(t.rp("common_tweet_classes0",c,p,""));t.b("\" ");t.b(t.rp("tweet_data1",c,p,""));t.b(">\n  <i class=\"dogear\"></i>\n  <div class=\"content\">\n    <div class=\"stream-item-header\">\n      <a class=\"account-group\">\n        <strong class=\"fullname\">Tweet withheld</strong>\n      </a>\n");t.b(t.rp("tweet_timestamp2",c,p,"      "));t.b("    </div>\n    <p class=\"js-tweet-text\">");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("</p>\n    <div class=\"stream-item-footer\">\n");t.b(t.rp("tweet_context3",c,p,"      "));t.b("    </div>\n");t.b(t.rp("stream_tweet_expansion4",c,p,"    "));t.b("  </div>\n</div>\n");return t.fl(); }, partials: {"common_tweet_classes0": {name:"common_tweet_classes"},"tweet_data1": {name:"tweet_data"},"tweet_timestamp2": {name:"tweet_timestamp"},"tweet_context3": {name:"tweet_context"},"stream_tweet_expansion4": {name:"stream_tweet_expansion"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_actions": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n");t.b("\n");t.b("\n" + i);t.b(" <ul class=\"tweet-actions js-actions\">\n  <li class=\"action-reply-container\">\n    \n");if(!t.s(t.f("change_german_verbs",c,p,1),c,p,1,0,0,"")){t.b("      <a class=\"with-icn js-action-reply\" data-modal=\"tweet-reply\" href=\"#\" title=\"Reply\">\n        <i class=\"sm-reply\"></i>\n        <b>Reply</b>\n      </a>\n");};if(t.s(t.f("change_german_verbs",c,p,1),c,p,0,327,502,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <a class=\"with-icn js-action-reply\" data-modal=\"tweet-reply\" href=\"#\" title=\"Kommentieren\">\n        <i class=\"sm-reply\"></i>\n        <b>Kommentieren</b>\n      </a>\n");});c.pop();}t.b("  </li>\n");if(t.s(t.f("allowed_to_retweet",c,p,1),c,p,0,560,1146,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <li class=\"action-rt-container\">\n      <a class=\"with-icn js-toggle-rt\" data-modal=\"tweet-retweet\" href=\"#\">\n        <i class=\"sm-rt\"></i>\n        \n        \n");if(!t.s(t.f("change_german_verbs",c,p,1),c,p,1,0,0,"")){t.b("          <b><span class=\"undo-retweet\" title=\"Undo retweet\">Retweeted</span><span class=\"retweet\" title=\"Retweet\">Retweet</span></b>\n");};if(t.s(t.f("change_german_verbs",c,p,1),c,p,0,954,1098,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <b><span class=\"undo-retweet\" title=\"Nicht mehr teilen\">Geteilt</span><span class=\"retweet\" title=\"Teilen\">Teilen</span></b>\n");});c.pop();}t.b("      </a>\n    </li>\n");});c.pop();}t.b("  <li class=\"action-del-container\">\n    <a class=\"with-icn js-action-del\" href=\"#\" title=\"Delete\">\n      <i class=\"sm-trash\"></i>\n      <b>Delete</b>\n    </a>\n  </li>\n  <li class=\"action-fav-container\">\n    <a class=\"with-icn js-toggle-fav\" href=\"#\">\n      <i class=\"sm-fav\"></i>\n      \n      \n");if(!t.s(t.f("change_german_verbs",c,p,1),c,p,1,0,0,"")){t.b("        <b><span class=\"unfavorite\" title=\"Undo favorite\">Favorited</span><span class=\"favorite\" title=\"Favorite\">Favorite</span></b>\n");};if(t.s(t.f("change_german_verbs",c,p,1),c,p,0,1690,1846,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <b><span class=\"unfavorite\" title=\"Gefällt mir nicht\">Gefällt mir jetzt</span><span class=\"favorite\" title=\"Favorite\">Gefällt mir</span></b>\n");});c.pop();}t.b("    </a>\n  </li>\n</ul>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_contributor": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("contributor",c,p,1),c,p,0,16,170,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <span class=\"tweet-contributors\">by <a href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" class=\"user-profile-link\" data-screen-name=\"");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\">");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</a></span>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_dogear": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet-dogear\"></div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_labels": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("is_top_tweet",c,p,1),c,p,0,17,225,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <span class=\"tweet-context icon-link\"><i class=\"badge-tweet badge-tweet-top\"></i>");if(t.s(t.f("retweet_count",c,p,1),c,p,0,121,154,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("Retweeted ");t.b(t.v(t.f("retweet_count",c,p,0)));t.b(" times");});c.pop();}if(!t.s(t.f("retweet_count",c,p,1),c,p,1,0,0,"")){t.b("Top Tweet");};t.b("</span>\n");});c.pop();}t.b("\n" + i);if(t.s(t.f("is_sponsored",c,p,1),c,p,0,261,931,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <a href=\"");if(t.s(t.f("retweeting_status",c,p,1),c,p,0,295,329,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("user",c,p,1),c,p,0,304,320,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}});c.pop();}if(!t.s(t.f("retweeting_status",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("user",c,p,1),c,p,0,382,398,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}};t.b("\" class=\"icon-link promoted-arrow tweet-context user-profile-link js-action-profile-promoted\" data-user-id=\"");if(t.s(t.f("user",c,p,1),c,p,0,546,552,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("id",c,p,0)));});c.pop();}t.b("\" title=\"");t.b(t.v(t.f("disclosure_text",c,p,0)));t.b("\"><span><i class=\"badge-tweet badge-tweet-");t.b(t.v(t.f("disclosure_type",c,p,0)));t.b("\"></i><b>Promoted by ");t.b(t.v(t.f("advertiser_name",c,p,0)));t.b("</b></span></a>\n\n");if(t.s(t.f("in_home_page",c,p,1),c,p,0,726,913,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b("      <a class=\"icon-link tweet-feedback dismiss-action js-action-dismiss\"><i></i><b>Dismiss</b></a>\n");};t.b("    ");t.b(t.t(t.f("social_context",c,p,0)));t.b("\n" + i);});c.pop();}});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_meta": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class='tweet-meta'>\n  <span class='icons'>\n");if(t.s(t.f("is_sponsored",c,p,1),c,p,0,69,199,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweet_count",c,p,1),c,p,0,94,176,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <span class='retweet-icon'></span> <em>");t.b(t.v(t.f("retweet_count_text",c,p,0)));t.b("</em>\n");});c.pop();}});c.pop();}t.b("\n" + i);if(!t.s(t.f("decider_activity_read",c,p,1),c,p,1,0,0,"")){if(!t.s(t.f("is_sponsored",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("was_retweeted",c,p,1),c,p,0,299,467,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,332,436,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <span class='retweet-icon'></span> ");if(t.s(t.f("user",c,p,1),c,p,0,389,416,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<em>by ");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</em>");});c.pop();}t.b("\n" + i);});c.pop();}});c.pop();}};};t.b("\n" + i);t.b("    <div class=\"extra-icons\">\n");if(!t.s(t.f("can_expand",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_reply",c,p,1),c,p,0,615,689,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <span class='reply-icon icon js-reply-notice'>@</span>\n");});c.pop();}t.b("        <span class=\"inlinemedia-icons js-icon-container\"></span>\n        ");if(t.s(t.f("show_geo_icon",c,p,1),c,p,0,795,824,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class=\"geo-pin\"></span>");});c.pop();}t.b("\n" + i);};if(t.s(t.f("can_expand",c,p,1),c,p,0,886,922,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_timestamp0",c,p,"        "));});c.pop();}t.b("    </div>\n  </span>\n</div>\n\n");if(t.s(t.f("can_expand",c,p,1),c,p,0,982,1004,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_actions1",c,p,"  "));});c.pop();}return t.fl(); }, partials: {"tweet_timestamp0": {name:"tweet_timestamp"},"tweet_actions1": {name:"tweet_actions"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_source": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<span class=\"tweet-source\">via ");t.b(t.t(t.f("source",c,p,0)));t.b("</span>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_text": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet-text js-tweet-text\">");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_timestamp": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<small class=\"time\">\n    <a href=\"");t.b(t.v(t.f("permalink_path",c,p,0)));t.b("\" class=\"tweet-timestamp js-permalink\" title=\"");t.b(t.v(t.f("explicit_timestamp",c,p,0)));t.b("\" ");if(t.s(t.f("impression_cookie",c,p,1),c,p,0,144,171,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("data-send-impression-cookie");});c.pop();}t.b("><span class=\"_timestamp js-short-timestamp ");if(t.s(t.f("is_relative_timestamp",c,p,1),c,p,0,263,284,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("js-relative-timestamp");});c.pop();}t.b("\" data-time=\"");t.b(t.v(t.f("actual_timestamp",c,p,0)));t.b("\" data-long-form=\"true\">");t.b(t.v(t.f("short_timestamp",c,p,0)));t.b("</span></a>\n</small>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_user_image_48": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,156,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<img height=\"48\" width=\"48\" src='");t.b(t.v(t.f("profile_image_url",c,p,0)));t.b("' alt='");t.b(t.v(t.f("name",c,p,0)));t.b("' class='user-profile-link js-action-profile-avatar' data-user-id='");t.b(t.v(t.f("id",c,p,0)));t.b("'/>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_user_name": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,403,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class='tweet-user-name'>\n  <a class='tweet-screen-name user-profile-link js-action-profile-name' data-user-id='");t.b(t.v(t.f("id",c,p,0)));t.b("' href='");t.b(t.v(t.f("profile_path",c,p,0)));t.b("' title='");t.b(t.v(t.f("name",c,p,0)));t.b("'>");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</a>\n  <span class='tweet-full-name'>");t.b(t.v(t.f("name",c,p,0)));t.b("</span>\n");if(t.s(t.f("show_follow_action",c,p,1),c,p,0,269,371,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("is_current_user",c,p,1),c,p,1,0,0,"")){t.b("    <span class=\"tweet-user-follow\">\n    </span>\n");};});c.pop();}t.b("</span>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"user_css_p1": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("<style id=\"user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\">\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" {\n");if(t.s(t.f("profile_use_background_image",c,p,1),c,p,0,114,301,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-position: left 40px;\n      background-attachment: fixed;\n");if(!t.s(t.f("profile_background_tile",c,p,1),c,p,1,0,0,"")){t.b("        background-repeat: no-repeat;\n");};});c.pop();}if(t.s(t.f("profile_background_color",c,p,1),c,p,0,368,428,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: #");t.b(t.v(t.f("profile_background_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("profile_text_color",c,p,1),c,p,0,485,528,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_text_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" ul.stream-tabs li,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .component .promo strong,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .message-thread-preview:hover .message-count,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .list-membership-container li.create-a-list {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,894,937,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-geo-text,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .user-profile-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" span.user-stat-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a.title-link:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a.user-stats-count:hover span.user-stats-stat,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item:hover a.user-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item:hover .user-meta a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .user-detailed-list-item:hover a.user-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .tweet-activity:hover a.latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover a.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover a.icon-link b,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-feedback,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .promoted-tweet:hover .social-context a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard ul.trends li a:hover span.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence .dashboard-activity-item-entity,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence .dashboard-activity-item-entity .user,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence .dashboard-activity-item-count,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-link:hover .dashboard-activity-item-sentence,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-link:hover .dashboard-activity-item-sentence span.user,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .onebox-user-screen-name:hover {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,2773,2827,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover .tweet-screen-name {\n    color: #333 !important;\n  }\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover .tweet-timestamp {\n    color: #999 !important;\n  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .hovered-stream-item,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #new-tweets-bar,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #new-tweets-bar:active {\n");if(t.s(t.f("rgba_tweet_background_color",c,p,1),c,p,0,3343,3405,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: ");t.b(t.v(t.f("rgba_tweet_background_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("rgba_tweet_border_color",c,p,1),c,p,0,3470,3524,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      border-color: ");t.b(t.v(t.f("rgba_tweet_border_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover {\n    border-top-color: transparent;\n    border-bottom-color: #EBEBEB;\n  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #new-tweets-bar:hover {\n");if(t.s(t.f("rgba_newtweets_background_color",c,p,1),c,p,0,3795,3861,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: ");t.b(t.v(t.f("rgba_newtweets_background_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("rgba_newtweets_border_color",c,p,1),c,p,0,3934,3992,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      border-color: ");t.b(t.v(t.f("rgba_newtweets_border_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .profile-screenname,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .title-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" div.latest-tweet .latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" div.truncated-tweet .latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a.user-stats-count span.user-stats-stat,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .welcome-steps li .active a strong,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence span.user {\n");if(t.s(t.f("profile_text_color",c,p,1),c,p,0,4625,4668,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_text_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-full-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" span.trend-location,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .your-activity h3,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .trends-inner h3,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-rec-inner h3,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .latest-tweet,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .truncated-tweet,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .latest-tweet a.latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .truncated-tweet a.latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-meta,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-meta a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-meta a s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .social-context div,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .dot,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .component .promo,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .component .promo a.definition,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .dismiss,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .ellip,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .facets-media-not-displayed .not-displayed-text,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .copyright,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item a.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard ul.trends li a span.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence {\n");if(t.s(t.f("rgba_text_color",c,p,1),c,p,0,6333,6372,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: ");t.b(t.v(t.f("rgba_text_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #page-container,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .user-sidebar-color,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expando-container .dashboard {\n");if(t.s(t.f("profile_sidebar_fill_color",c,p,1),c,p,0,6605,6668,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      \n      background: #");t.b(t.v(t.f("profile_sidebar_fill_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("rgba_sidebar_color",c,p,1),c,p,0,6727,6781,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      \n      background: ");t.b(t.v(t.f("rgba_sidebar_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .activity:hover .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .hovered-stream-item .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content  {\n");if(t.s(t.f("rgba_tweet_border_color",c,p,1),c,p,0,7300,7365,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      border-color: ");t.b(t.v(t.f("rgba_tweet_border_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover a.twitter-atreply:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.open a.twitter-atreply,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.colorful-links a.twitter-atreply,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover a.twitter-hashtag:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.open a.twitter-hashtag,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.colorful-links a.twitter-hashtag,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover a.twitter-timeline-link:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.open a.twitter-timeline-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.colorful-links a.twitter-timeline-link {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,8225,8279,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .pretty-link s {\n");if(t.s(t.f("profile_pretty_link_color",c,p,1),c,p,0,8430,8480,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_pretty_link_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .pretty-link s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item:hover .user-meta a s {\n");if(t.s(t.f("profile_pretty_link_sidebar_color",c,p,1),c,p,0,8757,8815,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_pretty_link_sidebar_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n");t.b(t.rp("pill_css0",c,p,"  "));t.b("</style>");return t.fl(); }, partials: {"pill_css0": {name:"pill_css"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"user_link": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<a class=\"pretty-link js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"><b>");t.b(t.v(t.f("name",c,p,0)));t.b("</b></a>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"common_tweet_classes": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);if(t.s(t.f("is_sponsored",c,p,1),c,p,0,18,33,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" promoted-tweet");});c.pop();}if(t.s(t.f("is_my_tweet",c,p,1),c,p,0,66,75,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" my-tweet");});c.pop();}if(t.s(t.f("favorited",c,p,1),c,p,0,105,115,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" favorited");});c.pop();}if(t.s(t.f("is_retweeted_by_current_user",c,p,1),c,p,0,162,172,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" retweeted");});c.pop();}if(t.s(t.f("preexpanded",c,p,1),c,p,0,221,234,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" opened-tweet");});c.pop();}t.b("\n" + i);if(t.s(t.f("can_delete_user_tweets",c,p,1),c,p,0,278,288,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("can-delete");});c.pop();}t.b("\n" + i);if(t.s(t.f("has_visible_cards",c,p,1),c,p,0,338,348,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" has-cards");});c.pop();}t.b("\n" + i);if(t.s(t.f("has_native_media",c,p,1),c,p,0,392,409,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" has-native-media");});c.pop();}t.b("\n" + i);if(t.s(t.f("has_retweet_count",c,p,1),c,p,0,453,471,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" with-social-proof");});c.pop();}t.b("\n" + i);if(!t.s(t.f("has_retweet_count",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("tweet_stats",c,p,1),c,p,0,532,550,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" with-social-proof");});c.pop();}};t.b("\n" + i);if(t.s(t.f("has_preloadable_media",c,p,1),c,p,0,615,637,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" has-preloadable-media");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"content": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"content-main js-content-main breakable\">\n  <div id=\"js-promptbird-below-black-bar-hook\"></div>\n  <div id=\"js-empty-timeline-recommendations-module-hook\"></div>\n  <div class=\"content-header js-stream-header\">\n");t.b(t.rp("stream_header0",c,p,"    "));t.b("  </div>\n  <div class=\"stream js-stream-manager-container\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,332,472,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("stream_manager1",c,p,"      "));t.b("      <script>if (window.ttft) window.ttft.serverRendered('");t.b(t.v(t.f("page_name",c,p,0)));t.b("');twttr.keynoteTTFTPing();</script>\n");});c.pop();}t.b("  </div>\n</div>\n");return t.fl(); }, partials: {"stream_header0": {name:"stream_header"},"stream_manager1": {name:"stream_manager"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"dashboard": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"dashboard\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,50,80,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("mini_home_profile0",c,p,"    "));});c.pop();}t.b("</div>\n");return t.fl(); }, partials: {"mini_home_profile0": {name:"mini_home_profile"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"page": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b(t.rp("dashboard0",c,p,""));t.b(t.rp("content1",c,p,""));return t.fl(); }, partials: {"dashboard0": {name:"dashboard"},"content1": {name:"content"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_header": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"header-inner\">\n  <h2>\n    <span class=\"content-header-buttons js-header-button-container\"></span>\n    \n    \n    <span class=\"js-stream-title\">");t.b(t.v(t.f("stream_title",c,p,0)));t.b("</span>&nbsp;<small class=\"view-toggler js-view-toggler\"></small>\n  </h2>\n  ");if(t.s(t.f("header_help",c,p,1),c,p,0,262,319,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<p class=\"js-header-help subheader\">");t.b(t.t(t.f("header_help",c,p,0)));t.b("</p>");});c.pop();}t.b("\n" + i);t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_tweet_expansion": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"expanded-content js-tweet-details-dropdown\">\n");if(!t.s(t.f("on_permalink",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("preexpanded",c,p,1),c,p,0,97,115,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_details0",c,p,""));});c.pop();}};t.b("</div>");return t.fl(); }, partials: {"tweet_details0": {name:"tweet_details"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_context": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n");t.b("\n");t.b("\n");t.b("\n" + i);t.b("<div class=\"context\">\n");if(t.s(t.f("is_sponsored",c,p,1),c,p,0,45,1567,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <span class=\"metadata with-icn js-disclosure js-tooltip\" title=\"");t.b(t.v(t.f("disclosure_text",c,p,0)));t.b("\">\n");if(t.s(t.f("was_retweeted",c,p,1),c,p,0,160,474,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,191,445,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <i class=\"");t.b(t.v(t.f("promoted_badge_class",c,p,0)));t.b("\"></i><a href=\"");if(t.s(t.f("user",c,p,1),c,p,0,260,276,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}t.b("\" class=\"js-action-profile-promoted js-user-profile-link js-promoted-badge\" data-user-id=\"");if(t.s(t.f("user",c,p,1),c,p,0,384,390,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("id",c,p,0)));});c.pop();}t.b("\">Promoted by ");t.b(t.v(t.f("advertiser_name",c,p,0)));t.b("</a>\n");});c.pop();}});c.pop();}if(!t.s(t.f("was_retweeted",c,p,1),c,p,1,0,0,"")){t.b("        <i class=\"");t.b(t.v(t.f("promoted_badge_class",c,p,0)));t.b("\"></i><a href=\"");if(t.s(t.f("user",c,p,1),c,p,0,584,600,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}t.b("\" class=\"js-action-profile-promoted js-user-profile-link js-promoted-badge\" data-user-id=\"");if(t.s(t.f("user",c,p,1),c,p,0,708,714,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("id",c,p,0)));});c.pop();}t.b("\">Promoted by ");t.b(t.v(t.f("advertiser_name",c,p,0)));t.b("</a>\n");};t.b("    </span>\n");if(t.s(t.f("in_home_page",c,p,1),c,p,0,819,1547,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <button type=\"button\" class=\"btn-link dismiss-promoted js-action-dismiss with-icn\"><i class=\"close\"></i><b>");if(!t.s(t.f("abtest_dismiss_text_180_any_bucket",c,p,1),c,p,1,0,0,"")){t.b("Dismiss");};if(t.s(t.f("abtest_dismiss_text_180_dismiss_tweet",c,p,1),c,p,0,1060,1073,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("Dismiss Tweet");});c.pop();}if(t.s(t.f("abtest_dismiss_text_180_remove_tweet",c,p,1),c,p,0,1156,1168,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("Remove Tweet");});c.pop();}if(t.s(t.f("abtest_dismiss_text_180_not_interested",c,p,1),c,p,0,1252,1266,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("Not interested");});c.pop();}t.b("</b></button>\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,1353,1427,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <span class=\"social-context\">");t.b(t.rp("mini_social_proof0",c,p,""));t.b("</span>\n");});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b("        ");t.b(t.t(t.f("social_context",c,p,0)));t.b("\n" + i);};});c.pop();}});c.pop();}if(t.s(t.f("is_top_tweet",c,p,1),c,p,0,1604,1802,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <span class=\"metadata with-icn\">\n      <i class=\"badge-top\"></i>");if(t.s(t.f("retweet_count",c,p,1),c,p,0,1691,1724,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("Retweeted ");t.b(t.v(t.f("retweet_count",c,p,0)));t.b(" times");});c.pop();}if(!t.s(t.f("retweet_count",c,p,1),c,p,1,0,0,"")){t.b("Top Tweet");};t.b("\n" + i);t.b("    </span>\n");});c.pop();}if(!t.s(t.f("is_sponsored",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("was_retweeted",c,p,1),c,p,0,1862,2577,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,1891,2550,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("user",c,p,1),c,p,0,1909,2534,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          \n");if(!t.s(t.f("change_german_verbs",c,p,1),c,p,1,0,0,"")){t.b("            <span class=\"with-icn\"><i class=\"badge-retweeted\"></i><span class=\"js-retweet-text\">Retweeted by <a class=\"pretty-link js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"><b>");t.b(t.v(t.f("name",c,p,0)));t.b("</b></a></span></span>\n");};if(t.s(t.f("change_german_verbs",c,p,1),c,p,0,2258,2501,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <span class=\"with-icn\"><i class=\"badge-retweeted\"></i><span class=\"js-retweet-text\">Von <a class=\"pretty-link js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"><b>");t.b(t.v(t.f("name",c,p,0)));t.b("</b></a> geteilt</span></span>\n");});c.pop();}});c.pop();}});c.pop();}});c.pop();}};t.b("</div>\n");return t.fl(); }, partials: {"mini_social_proof0": {name:"mini_social_proof"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_data": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("data-tweet-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"\n");t.b(t.t(t.f("tweet_impression_id",c,p,0)));t.b("\n" + i);t.b("data-item-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"\n");if(t.s(t.f("current_user_retweet",c,p,1),c,p,0,97,125,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-my-retweet-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("was_retweeted",c,p,1),c,p,0,169,238,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,191,216,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-retweet-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"");});c.pop();}});c.pop();}t.b("\n" + i);if(t.s(t.f("user",c,p,1),c,p,0,266,344,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-screen-name=\"");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\" data-name=\"");t.b(t.v(t.f("name",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("protected",c,p,1),c,p,0,368,390,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-protected=\"true\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("is_sponsored",c,p,1),c,p,0,422,443,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-promoted=\"true\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("show_geo_icon",c,p,1),c,p,0,479,495,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-geo=\"true\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("cards",c,p,1),c,p,0,524,634,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-card-type=\"");if(t.s(t.f("photos",c,p,1),c,p,0,552,557,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("photo");});c.pop();}if(t.s(t.f("summaries",c,p,1),c,p,0,582,589,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("summary");});c.pop();}if(t.s(t.f("players",c,p,1),c,p,0,615,621,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("player");});c.pop();}t.b("\"");});c.pop();}t.b("\n" + i);t.b("data-is-reply-to=\"");t.b(t.v(t.f("is_reply",c,p,0)));t.b("\"\n");if(t.s(t.f("status_data",c,p,1),c,p,0,693,723,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-status=\"");t.b(t.v(t.f("status_data",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,764,954,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("preexpanded",c,p,1),c,p,1,0,0,"")){t.b("data-expanded-footer=\"");t.b(t.t(t.f("escaped_tweet_details",c,p,0)));if(t.s(t.f("deprecated_escape_html_for_tweet_details",c,p,1),c,p,0,874,892,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_details0",c,p,""));});c.pop();}t.b("\"");};});c.pop();}t.b("\n" + i);if(t.s(t.f("possibly_sensitive",c,p,1),c,p,0,1002,1033,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-possibly-sensitive=\"true\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("impression_cookie",c,p,1),c,p,0,1079,1126,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-impression-cookie=\"");t.b(t.v(t.f("impression_cookie",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("mentioned_screen_names",c,p,1),c,p,0,1176,1219,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-mentions=\"");t.b(t.v(t.f("mentioned_screen_names",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("relevance_type",c,p,1),c,p,0,1266,1307,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-relevance-type=\"");t.b(t.v(t.f("relevance_type",c,p,0)));t.b("\"");});c.pop();}t.b("\n");return t.fl(); }, partials: {"tweet_details0": {name:"tweet_details"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_geo_text": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("has_geo",c,p,1),c,p,0,12,259,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("show_geo_map",c,p,1),c,p,1,0,0,"")){t.b("    <div>\n      <a class=\"js-tweet-geo-text tweet-geo-text\" href=\"");t.b(t.v(t.f("place_path",c,p,0)));t.b("\">\n        ");if(t.s(t.f("place_name",c,p,1),c,p,0,139,158,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("from ");t.b(t.v(t.f("place_name",c,p,0)));});c.pop();}if(!t.s(t.f("place_name",c,p,1),c,p,1,0,0,"")){t.b("view location");};t.b("\n" + i);t.b("      </a>\n    </div>\n");};});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_user_block": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,503,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <a class=\"account-group js-account-group js-action-profile js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\">\n    <img class=\"avatar js-action-profile-avatar\" src=\"");t.b(t.v(t.f("profile_image_url",c,p,0)));t.b("\" alt=\"");t.b(t.v(t.f("name",c,p,0)));t.b("\">\n    <strong class=\"fullname js-action-profile-name show-popup-with-id\">");t.b(t.v(t.f("name",c,p,0)));t.b("</strong>\n    <span>&rlm;</span><span class=\"username js-action-profile-name\"><s>@</s><b>");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</b></span>\n");if(t.s(t.f("protected",c,p,1),c,p,0,446,481,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <i class=\"sm-lock\"></i>\n");});c.pop();}t.b("  </a>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"user_css_t1": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("<style id=\"user-style-");t.b(t.v(t.f("style_namespace",c,p,0)));t.b("\" class=\"js-user-style\">\n\n\n\n\n\n\n\n\n\na,\n\n\n\n.btn-link,\n\n\n\n\n  \n  \n\n.pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s,\n.pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" b,\n/* Account Group */\n.metadata a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.account-group");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .fullname,\n\n.stats a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.stats a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" strong,\n\n.profile-modal-header .fullname a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.profile-modal-header .username a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.story-article");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .metadata,\n\n.find-friends-sources li");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .source,\n\n\n\n\n\n.stream-item a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .fullname,\n\n.stream-item .view-all-supplements");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.tweet .time a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .user-dropdown .mark-as-spam-text,\n.tweet-actions a,\n.tweet .details.with-icn b,\n\n.stream-item");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .original-tweet .expand-action-wrapper,\n.opened-tweet.original-tweet  .expand-action-wrapper,\n\n.stream-item");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .original-tweet .details b,\n.stream-item.open .original-tweet .details b,\n\n.simple-tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .details b,\n.simple-tweet.open .details b,\n.simple-tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .details .expand-action-wrapper,\n.simple-tweet.open .details .collapse-action-wrapper,\n.simple-tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .details .simple-details-link,\n\n.client-and-actions a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.dismiss-promoted");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" b,\n\n.tweet .context .pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s,\n.tweet .context .pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" b,\n\n.list .username a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.list-membership-container .create-a-list,\n.list-membership-container .create-a-list");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n\n\n.story-header");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .view-tweets,\n.card .list-details a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.card .card-body");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .attribution,\n.new-tweets-bar,\n.onebox .soccer ul.ticker a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n\n\n.discover-item-actions a,\n\n\n\n.remove-background-btn,\n\n\n\n.stream-item-activity-me .latest-tweet .tweet-row a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,1866,1905,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_link_color",c,p,1),c,p,1,0,0,"")){t.b("    color: #0084B4;\n");};t.b("}\n\n\n\n\n\ns,\n.pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s,\n.stream-item-activity-me .latest-tweet .tweet-row a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s {\n");if(t.s(t.f("profile_pretty_link_color",c,p,1),c,p,0,2145,2191,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    color: #");t.b(t.v(t.f("profile_pretty_link_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_pretty_link_color",c,p,1),c,p,1,0,0,"")){t.b("    color: #66B5D2;\n");};t.b("}\n\n\n\n\n\n.tweet .sm-reply,\n.tweet .sm-rt,\n.tweet .sm-fav,\n.tweet .sm-image,\n.tweet .sm-video,\n.tweet .sm-audio,\n.tweet .sm-geo,\n.tweet .sm-in,\n.tweet .sm-trash,\n.tweet .sm-page,\n.tweet .sm-embed,\n.tweet .sm-summary,\n.tweet .sm-chat,\n\n.tweet .mark-as-spam-flag,\n.tweet .mark-as-spam-silhouette,\n\n.timelines-navigation .active .profile-nav-icon,\n.timelines-navigation .profile-nav-icon");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.sm-top-tweet,\n\n\n.discover-item .js-action-card-search");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .sm-search {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,2815,2865,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    background-color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_link_color",c,p,1),c,p,1,0,0,"")){t.b("    background-color: #6684B4;\n");};t.b("}\n\nbody {\n");if(t.s(t.f("profile_use_background_image",c,p,1),c,p,0,3017,3317,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    background-position: ");if(t.s(t.f("center_background",c,p,1),c,p,0,3065,3071,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("center");});c.pop();}if(!t.s(t.f("center_background",c,p,1),c,p,1,0,0,"")){t.b("left");};t.b(" 40px;\n    background-attachment: fixed;\n    background-repeat: repeat;\n");if(!t.s(t.f("profile_background_tile",c,p,1),c,p,1,0,0,"")){t.b("      background-repeat: no-repeat;\n");};});c.pop();}if(t.s(t.f("profile_background_color",c,p,1),c,p,0,3382,3438,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    background-color: #");t.b(t.v(t.f("profile_background_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_background_color",c,p,1),c,p,1,0,0,"")){t.b("    background-color: #c0deed;\n");};t.b("}\n</style>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"withheld_message": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"withheld-message\">");t.b(t.v(t.f("text",c,p,0)));t.b("  <a href=");if(t.s(t.f("is_withheld_copyright",c,p,1),c,p,0,74,108,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("\"");t.b(t.v(t.f("withheld_copyright_help_path",c,p,0)));t.b("\"");});c.pop();}if(!t.s(t.f("is_withheld_copyright",c,p,1),c,p,1,0,0,"")){t.b("\"");t.b(t.v(t.f("withheld_help_path",c,p,0)));t.b("\"");};t.b(" target=\"_blank\">Learn more</a></div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts) })}exports();});provide("$lib/jquery-1.7.1.js",function(a){(function(a,b){function i(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function m(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(l,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):k.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function n(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function o(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",i=f._data(a,d);i&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),i.fire())},0)}function K(){return!1}function L(){return!0}function T(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function U(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(P.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function V(a){var b=W.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function lb(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function mb(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),i=f._data(b,g),j=g.events;if(j){delete i.handle,i.events={};for(c in j)for(d=0,e=j[c].length;d<e;d++)f.event.add(b,c+(j[c][d].namespace?".":"")+j[c][d].namespace,j[c][d],j[c][d].data)}i.data&&(i.data=f.extend({},i.data))}function nb(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function ob(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function pb(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function qb(a){var b=(a.nodeName||"").toLowerCase();b==="input"?pb(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),pb)}function rb(a){var b=c.createElement("div");return kb.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function sb(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(ib,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function Fb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?Ab:Bb,g=0,i=e.length;if(d>0){if(c!=="border")for(;g<i;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=Cb(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<i;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function ac(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(Sb),e=0,g=d.length,i,j,k;for(;e<g;e++)i=d[e],k=/^\+/.test(i),k&&(i=i.substr(1)||"*"),j=a[i]=a[i]||[],j[k?"unshift":"push"](c)}}}function bc(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var i=a[f],j=0,k=i?i.length:0,l=a===Wb,m;for(;j<k&&(l||!m);j++)m=i[j](c,d,e),typeof m=="string"&&(!l||g[m]?m=b:(c.dataTypes.unshift(m),m=bc(a,c,d,e,m,g)));return(l||!m)&&!g["*"]&&(m=bc(a,c,d,e,"*",g)),m}function cc(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function dc(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||Hb.test(a)?d(a,e):dc(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)dc(a+"["+e+"]",b[e],c,d);else d(a,b)}function ec(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,i,j,k,l;for(j in g)j in d&&(c[g[j]]=d[j]);while(f[0]==="*")f.shift(),i===b&&(i=a.mimeType||c.getResponseHeader("content-type"));if(i)for(j in e)if(e[j]&&e[j].test(i)){f.unshift(j);break}if(f[0]in d)k=f[0];else{for(j in d){if(!f[0]||a.converters[j+" "+f[0]]){k=j;break}l||(l=j)}k=k||l}if(k)return k!==f[0]&&f.unshift(k),d[k]}function fc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,i,j=d.length,k,l=d[0],m,n,o,p,q;for(g=1;g<j;g++){if(g===1)for(i in a.converters)typeof i=="string"&&(e[i.toLowerCase()]=a.converters[i]);m=l,l=d[g];if(l==="*")l=m;else if(m!=="*"&&m!==l){n=m+" "+l,o=e[n]||e["* "+l];if(!o){q=b;for(p in e){k=p.split(" ");if(k[0]===m||k[0]==="*"){q=e[k[1]+" "+l];if(q){p=e[p],p===!0?o=q:q===!0&&(o=p);break}}}}!o&&!q&&f.error("No conversion from "+n.replace(" "," to ")),o!==!0&&(c=o?o(c):q(p(c)))}}return c}function lc(){try{return new a.XMLHttpRequest}catch(b){}}function mc(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function vc(){return setTimeout(wc,0),uc=f.now()}function wc(){uc=b}function xc(a,b){var c={};return f.each(tc.concat.apply([],tc.slice(0,b)),function(){c[this]=a}),c}function yc(a){if(!nc[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){oc||(oc=c.createElement("iframe"),oc.frameBorder=oc.width=oc.height=0),b.appendChild(oc);if(!pc||!oc.createElement)pc=(oc.contentWindow||oc.contentDocument).document,pc.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),pc.close();d=pc.createElement(a),pc.body.appendChild(d),e=f.css(d,"display"),b.removeChild(oc)}nc[a]=e}return nc[a]}function Bc(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function K(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(K,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,i)},f=a.jQuery,g=a.$,i,j=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=/\S/,l=/^\s+/,m=/\s+$/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/gi,x=/^-ms-/,y=function(a,b){return(b+"").toUpperCase()},z=d.userAgent,A,B,C,D=Object.prototype.toString,E=Object.prototype.hasOwnProperty,F=Array.prototype.push,G=Array.prototype.slice,H=String.prototype.trim,I=Array.prototype.indexOf,J={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,i,k,l;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=j.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,l=d?d.ownerDocument||d:c,k=n.exec(a),k?e.isPlainObject(d)?(a=[c.createElement(k[1])],e.fn.attr.call(a,d,!0)):a=[l.createElement(k[1])]:(k=e.buildFragment([g[1]],[l]),a=(k.cacheable?e.clone(k.fragment):k.fragment).childNodes),e.merge(this,a);i=c.getElementById(g[2]);if(i&&i.parentNode){if(i.id!==g[2])return f.find(a);this.length=1,this[0]=i}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return G.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?F.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),B.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:F,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,i,j=arguments[0]||{},k=1,l=arguments.length,m=!1;typeof j=="boolean"&&(m=j,j=arguments[1]||{},k=2),typeof j!="object"&&!e.isFunction(j)&&(j={}),l===k&&(j=this,--k);for(;k<l;k++)if((a=arguments[k])!=null)for(c in a){d=j[c],f=a[c];if(j===f)continue;m&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,i=d&&e.isArray(d)?d:[]):i=d&&e.isPlainObject(d)?d:{},j[c]=e.extend(m,i,f)):f!==b&&(j[c]=f)}return j},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;B.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(B)return;B=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",C,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",C),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&K()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):J[D.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!E.call(a,"constructor")&&!E.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||E.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(o.test(b.replace(p,"@").replace(q,"]").replace(r,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&k.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(x,"ms-").replace(w,y)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,i=a.length,j=i===b||e.isFunction(a);if(d){if(j){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<i;)if(c.apply(a[g++],d)===!1)break}else if(j){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<i;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:H?function(a){return a==null?"":H.call(a)}:function(a){return a==null?"":a.toString().replace(l,"").replace(m,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?F.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(I)return I.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,i=[],j=0,k=a.length,l=a instanceof e||k!==b&&typeof k=="number"&&(k>0&&a[0]&&a[k-1]||k===0||e.isArray(a));if(l)for(;j<k;j++)f=c(a[j],j,d),f!=null&&(i[i.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(i[i.length]=f);return i.concat.apply([],i)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=G.call(arguments,2),g=function(){return a.apply(c,f.concat(G.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,i){var j=a.length;if(typeof c=="object"){for(var k in c)e.access(a,k,c[k],f,g,d);return a}if(d!==b){f=!i&&f&&e.isFunction(d);for(var l=0;l<j;l++)g(a[l],c,f?d.call(a[l],l,g(a[l],c)):d,i);return a}return j?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=s.exec(a)||t.exec(a)||u.exec(a)||a.indexOf("compatible")<0&&v.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),A=e.uaMatch(z),A.browser&&(e.browser[A.browser]=!0,e.browser.version=A.version),e.browser.webkit&&(e.browser.safari=!0),k.test(" ")&&(l=/^[\s\xA0]+/,m=/[\s\xA0]+$/),i=e(c),c.addEventListener?C=function(){c.removeEventListener("DOMContentLoaded",C,!1),e.ready()}:c.attachEvent&&(C=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",C),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||i(a):{};var c=[],d=[],e,j,k,l,m,n=function(b){var d,e,g,i,j;for(d=0,e=b.length;d<e;d++)g=b[d],i=f.type(g),i==="array"?n(g):i==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&p.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!e}};return p};var j=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},i={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return j.done(a).fail(b).progress(c),this},always:function(){return j.done.apply(j,arguments).fail.apply(j,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?j[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===j?d:this,[g])}):j[a](d[e])})}).promise()},promise:function(a){if(a==null)a=i;else for(var b in i)a[b]=i[b];return a}},j=i.promise({}),k;for(k in g)j[k]=g[k].fire,j[k+"With"]=g[k].fireWith;return j.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(j,j),j},when:function(a){function m(a){return function(c){b[a]=arguments.length>1?j.call(arguments,0):c,--g||k.resolveWith(k,b)}}function n(a){return function(b){e[a]=arguments.length>1?j.call(arguments,0):b,k.notifyWith(l,e)}}var b=j.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,i=d,k=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),l=k.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(m(c),k.reject,n(c)):--g;g||k.resolveWith(k,b)}else k!==a&&k.resolveWith(k,d?[a]:[]);return l}}),f.support=function(){var b,d,e,g,i,j,k,l,m,n,o,p,q,r=c.createElement("div"),s=c.documentElement;r.setAttribute("className","t"),r.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=r.getElementsByTagName("*"),e=r.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),i=g.appendChild(c.createElement("option")),j=r.getElementsByTagName("input")[0],b={leadingWhitespace:r.firstChild.nodeType===3,tbody:!r.getElementsByTagName("tbody").length,htmlSerialize:!!r.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:j.value==="on",optSelected:i.selected,getSetAttribute:r.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},j.checked=!0,b.noCloneChecked=j.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!i.disabled;try{delete r.test}catch(t){b.deleteExpando=!1}!r.addEventListener&&r.attachEvent&&r.fireEvent&&(r.attachEvent("onclick",function(){b.noCloneEvent=!1}),r.cloneNode(!0).fireEvent("onclick")),j=c.createElement("input"),j.value="t",j.setAttribute("type","radio"),b.radioValue=j.value==="t",j.setAttribute("checked","checked"),r.appendChild(j),l=c.createDocumentFragment(),l.appendChild(r.lastChild),b.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=j.checked,l.removeChild(j),l.appendChild(r),r.innerHTML="",a.getComputedStyle&&(k=c.createElement("div"),k.style.width="0",k.style.marginRight="0",r.style.width="2px",r.appendChild(k),b.reliableMarginRight=(parseInt((a.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)===0);if(r.attachEvent)for(p in{submit:1,change:1,focusin:1})o="on"+p,q=o in r,q||(r.setAttribute(o,"return;"),q=typeof r[o]=="function"),b[p+"Bubbles"]=q;return l.removeChild(r),l=g=i=k=r=j=null,f(function(){var a,d,e,g,i,j,k,l,n,o,p,s=c.getElementsByTagName("body")[0];if(!s)return;k=1,l="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",n="visibility:hidden;border:0;",o="style='"+l+"border:5px solid #000;padding:0;'",p="<div "+o+"><div></div></div>"+"<table "+o+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=n+"width:0;height:0;position:static;top:0;margin-top:"+k+"px",s.insertBefore(a,s.firstChild),r=c.createElement("div"),a.appendChild(r),r.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",m=r.getElementsByTagName("td"),q=m[0].offsetHeight===0,m[0].style.display="",m[1].style.display="none",b.reliableHiddenOffsets=q&&m[0].offsetHeight===0,r.innerHTML="",r.style.width=r.style.paddingLeft="1px",f.boxModel=b.boxModel=r.offsetWidth===2,typeof r.style.zoom!="undefined"&&(r.style.display="inline",r.style.zoom=1,b.inlineBlockNeedsLayout=r.offsetWidth===2,r.style.display="",r.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=r.offsetWidth!==2),r.style.cssText=l+n,r.innerHTML=p,d=r.firstChild,e=d.firstChild,i=d.nextSibling.firstChild.firstChild,j={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},e.style.position="fixed",e.style.top="20px",j.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",j.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=s.offsetTop!==k,s.removeChild(a),r=a=null,f.extend(b,j)}),b}();var k=/^(?:\{.*\}|\[.*\])$/,l=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!n(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,i,j,k=f.expando,l=typeof c=="string",m=a.nodeType,n=m?f.cache:a,o=m?a[k]:a[k]&&k,p=c==="events";if((!o||!n[o]||!p&&!e&&!n[o].data)&&l&&d===b)return;o||(m?a[k]=o=++f.uuid:o=k),n[o]||(n[o]={},m||(n[o].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?n[o]=f.extend(n[o],c):n[o].data=f.extend(n[o].data,c);return g=i=n[o],e||(i.data||(i.data={}),i=i.data),d!==b&&(i[f.camelCase(c)]=d),p&&!i[c]?g.events:(l?(j=i[c],j==null&&(j=i[f.camelCase(c)])):j=i,j)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,i=f.expando,j=a.nodeType,k=j?f.cache:a,l=j?a[i]:i;if(!k[l])return;if(b){d=c?k[l]:k[l].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?n:f.isEmptyObject)(d))return}}if(!c){delete k[l].data;if(!n(k[l]))return}f.support.deleteExpando||!k.setInterval?delete k[l]:k[l]=null,j&&(f.support.deleteExpando?delete a[i]:a.removeAttribute?a.removeAttribute(i):a[i]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,i=null;if(typeof a=="undefined"){if(this.length){i=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var j=0,k=e.length;j<k;j++)g=e[j].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),m(this[0],g,i[g]));f._data(this[0],"parsedAttrs",!0)}}return i}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(i=this.triggerHandler("getData"+d[1]+"!",[d[0]]),i===b&&this.length&&(i=f.data(this[0],a),i=m(this[0],a,i)),i===b&&d[1]?this.data(d[0]):i):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),o(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),o(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function n(){--i||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark",m;while(g--)if(m=f.data(e[g],j,b,!0)||(f.data(e[g],k,b,!0)||f.data(e[g],l,b,!0))&&f.data(e[g],j,f.Callbacks("once memory"),!0))i++,m.add(n);return n(),d.promise()}});var p=/[\n\t\r]/g,q=/\s+/,r=/\r/g,s=/^(?:button|input)$/i,t=/^(?:button|input|object|select|textarea)$/i,u=/^a(?:rea)?$/i,v=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=f.support.getSetAttribute,x,y,z;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,i,j;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(i=0,j=b.length;i<j;i++)~g.indexOf(" "+b[i]+" ")||(g+=b[i]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,i,j,k;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(q);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){i=(" "+g.className+" ").replace(p," ");for(j=0,k=c.length;j<k;j++)i=i.replace(" "+c[j]+" "," ");g.className=f.trim(i)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,i=f(this),j=b,k=a.split(q);while(e=k[g++])j=d?j:!i.hasClass(e),i[j?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(p," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length){if(g)return c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(r,""):d==null?"":d);return}return e=f.isFunction(a),this.each(function(d){var g=f(this),i;if(this.nodeType!==1)return;e?i=a.call(this,d,g.val()):i=a,i==null?i="":typeof i=="number"?i+="":f.isArray(i)&&(i=f.map(i,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,i,"value")===b)this.value=i})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,i=[],j=a.options,k=a.type==="select-one";if(g<0)return null;c=k?g:0,d=k?g+1:j.length;for(;c<d;c++){e=j[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(k)return b;i.push(b)}}return k&&!i.length&&j.length?f(j[g]).val():i},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,i,j,k=a.nodeType;if(!a||k===3||k===8||k===2)return;if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);j=k!==1||!f.isXMLDoc(a),j&&(c=c.toLowerCase(),i=f.attrHooks[c]||(v.test(c)?y:x));if(d!==b){if(d===null){f.removeAttr(a,c);return}return i&&"set"in i&&j&&(g=i.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d)}return i&&"get"in i&&j&&(g=i.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)},removeAttr:function(a,b){var c,d,e,g,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(q),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(w?e:c),v.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(s.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return x&&f.nodeName(a,"button")?x.get(a,b):b in a?a.value:null},set:function(a,b,c){if(x&&f.nodeName(a,"button"))return x.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;return i=j!==1||!f.isXMLDoc(a),i&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):t.test(a.nodeName)||u.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,y={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},w||(z={name:!0,id:!0},x=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(z[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=x.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:x.get,set:function(a,b,c){b===""&&(b="false"),x.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var A=/^(?:textarea|input|select)$/i,B=/^([^\.]*)?(?:\.(.+))?$/,C=/\bhover(\.\S+)?\b/,D=/^key/,E=/^(?:mouse|contextmenu)|click/,F=/^(?:focusinfocus|focusoutblur)$/,G=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,H=function(a){var b=G.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},I=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},J=function(a){return f.event.special.hover?a:a.replace(C,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var i,j,k,l,m,n,o,p,q,r,s,t;if(a.nodeType===3||a.nodeType===8||!c||!d||!(i=f._data(a)))return;d.handler&&(q=d,d=q.handler),d.guid||(d.guid=f.guid++),k=i.events,k||(i.events=k={}),j=i.handle,j||(i.handle=j=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(j.elem,arguments)},j.elem=a),c=f.trim(J(c)).split(" ");for(l=0;l<c.length;l++){m=B.exec(c[l])||[],n=m[1],o=(m[2]||"").split(".").sort(),t=f.event.special[n]||{},n=(g?t.delegateType:t.bindType)||n,t=f.event.special[n]||{},p=f.extend({type:n,origType:m[1],data:e,handler:d,guid:d.guid,selector:g,quick:H(g),namespace:o.join(".")},q),s=k[n];if(!s){s=k[n]=[],s.delegateCount=0;if(!t.setup||t.setup.call(a,e,o,j)===!1)a.addEventListener?a.addEventListener(n,j,!1):a.attachEvent&&a.attachEvent("on"+n,j)}t.add&&(t.add.call(a,p),p.handler.guid||(p.handler.guid=d.guid)),g?s.splice(s.delegateCount++,0,p):s.push(p),f.event.global[n]=!0}a=null},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),i,j,k,l,m,n,o,p,q,r,s,t;if(!g||!(p=g.events))return;b=f.trim(J(b||"")).split(" ");for(i=0;i<b.length;i++){j=B.exec(b[i])||[],k=l=j[1],m=j[2];if(!k){for(k in p)f.event.remove(a,k+b[i],c,d,!0);continue}q=f.event.special[k]||{},k=(d?q.delegateType:q.bindType)||k,s=p[k]||[],n=s.length,m=m?new RegExp("(^|\\.)"+m.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(o=0;o<s.length;o++)t=s[o],(e||l===t.origType)&&(!c||c.guid===t.guid)&&(!m||m.test(t.namespace))&&(!d||d===t.selector||d==="**"&&t.selector)&&(s.splice(o--,1),t.selector&&s.delegateCount--,q.remove&&q.remove.call(a,t));s.length===0&&n!==s.length&&((!q.teardown||q.teardown.call(a,m)===!1)&&f.removeEvent(a,k,g.handle),delete p[k])}f.isEmptyObject(p)&&(r=g.handle,r&&(r.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var i=c.type||c,j=[],k,l,m,n,o,p,q,r,s,t;if(F.test(i+f.event.triggered))return;i.indexOf("!")>=0&&(i=i.slice(0,-1),l=!0),i.indexOf(".")>=0&&(j=i.split("."),i=j.shift(),j.sort());if((!e||f.event.customEvent[i])&&!f.event.global[i])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(i,c):new f.Event(i),c.type=i,c.isTrigger=!0,c.exclusive=l,c.namespace=j.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+j.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=i.indexOf(":")<0?"on"+i:"";if(!e){k=f.cache;for(m in k)k[m].events&&k[m].events[i]&&f.event.trigger(c,d,k[m].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),q=f.event.special[i]||{};if(q.trigger&&q.trigger.apply(e,d)===!1)return;s=[[e,q.bindType||i]];if(!g&&!q.noBubble&&!f.isWindow(e)){t=q.delegateType||i,n=F.test(t+i)?e:e.parentNode,o=null;for(;n;n=n.parentNode)s.push([n,t]),o=n;o&&o===e.ownerDocument&&s.push([o.defaultView||o.parentWindow||a,t])}for(m=0;m<s.length&&!c.isPropagationStopped();m++)n=s[m][0],c.type=s[m][1],r=(f._data(n,"events")||{})[c.type]&&f._data(n,"handle"),r&&r.apply(n,d),r=p&&n[p],r&&f.acceptData(n)&&r.apply(n,d)===!1&&c.preventDefault();return c.type=i,!g&&!c.isDefaultPrevented()&&(!q._default||q._default.apply(e.ownerDocument,d)===!1)&&(i!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&p&&e[i]&&(i!=="focus"&&i!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(o=e[p],o&&(e[p]=null),f.event.triggered=i,e[i](),f.event.triggered=b,o&&(e[p]=o)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),i=!c.exclusive&&!c.namespace,j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?I(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(i||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,i=d.button,j=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&j&&(a.relatedTarget=j===a.target?d.toElement:j),!a.which&&i!==b&&(a.which=i&1?1:i&2?3:i&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,i=f.event.fixHooks[a.type]||{},j=i.props?this.props.concat(i.props):this.props;a=f.Event(g);for(d=j.length;d;)e=j[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),i.filter?i.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?L:K):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=L;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=L;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=L,this.stopPropagation()},isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,i;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,i=e.handler.apply(this,arguments),a.type=b;return i}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(A.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;A.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),A.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var i,j;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(j in a)this.on(j,c,d,a[j],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=K;else if(!e)return this;return g===1&&(i=e,e=function(a){return f().off(a),i.apply(this,arguments)},e.guid=i.guid||(i.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=K),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),D.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),E.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var i=0,j=e.length;i<j;i++){var k=e[i];if(k){var l=!1;k=k[a];while(k){if(k[d]===c){l=e[k.sizset];break}k.nodeType===1&&!g&&(k[d]=c,k.sizset=i);if(k.nodeName.toLowerCase()===b){l=k;break}k=k[a]}e[i]=l}}}function y(a,b,c,e,f,g){for(var i=0,j=e.length;i<j;i++){var k=e[i];if(k){var l=!1;k=k[a];while(k){if(k[d]===c){l=e[k.sizset];break}if(k.nodeType===1){g||(k[d]=c,k.sizset=i);if(typeof b!="string"){if(k===b){l=!0;break}}else if(n.filter(b,[k]).length>0){l=k;break}}k=k[a]}e[i]=l}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,i=!1,j=!0,k=/\\/g,l=/\r\n/g,m=/\W/;[0,0].sort(function(){return j=!1,0});var n=function(b,d,e,f){e=e||[],d=d||c;var i=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var j,k,l,m,o,r,s,u,v=!0,w=n.isXML(d),x=[],y=b;do{a.exec(""),j=a.exec(y);if(j){y=j[3],x.push(j[1]);if(j[2]){m=j[3];break}}}while(j);if(x.length>1&&q.exec(b))if(x.length===2&&p.relative[x[0]])k=z(x[0]+x[1],d,f);else{k=p.relative[x[0]]?[d]:n(x.shift(),d);while(x.length)b=x.shift(),p.relative[b]&&(b+=x.shift()),k=z(b,k,f)}else{!f&&x.length>1&&d.nodeType===9&&!w&&p.match.ID.test(x[0])&&!p.match.ID.test(x[x.length-1])&&(o=n.find(x.shift(),d,w),d=o.expr?n.filter(o.expr,o.set)[0]:o.set[0]);if(d){o=f?{expr:x.pop(),set:t(f)}:n.find(x.pop(),x.length!==1||x[0]!=="~"&&x[0]!=="+"||!d.parentNode?d:d.parentNode,w),k=o.expr?n.filter(o.expr,o.set):o.set,x.length>0?l=t(k):v=!1;while(x.length)r=x.pop(),s=r,p.relative[r]?s=x.pop():r="",s==null&&(s=d),p.relative[r](l,s,w)}else l=x=[]}l||(l=k),l||n.error(r||b);if(g.call(l)==="[object Array]")if(!v)e.push.apply(e,l);else if(d&&d.nodeType===1)for(u=0;l[u]!=null;u++)l[u]&&(l[u]===!0||l[u].nodeType===1&&n.contains(d,l[u]))&&e.push(k[u]);else for(u=0;l[u]!=null;u++)l[u]&&l[u].nodeType===1&&e.push(k[u]);else t(l,e);return m&&(n(m,i,e,f),n.uniqueSort(e)),e};n.uniqueSort=function(a){if(v){i=j,a.sort(v);if(i)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},n.matches=function(a,b){return n(a,null,null,b)},n.matchesSelector=function(a,b){return n(b,null,null,[a]).length>0},n.find=function(a,b,c){var d,e,f,g,i,j;if(!a)return[];for(e=0,f=p.order.length;e<f;e++){i=p.order[e];if(g=p.leftMatch[i].exec(a)){j=g[1],g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(k,""),d=p.find[i](g,b,c);if(d!=null){a=a.replace(p.match[i],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},n.filter=function(a,c,d,e){var f,g,i,j,k,l,m,o,q,r=a,s=[],t=c,u=c&&c[0]&&n.isXML(c[0]);while(a&&c.length){for(i in p.filter)if((f=p.leftMatch[i].exec(a))!=null&&f[2]){l=p.filter[i],m=f[1],g=!1,f.splice(1,1);if(m.substr(m.length-1)==="\\")continue;t===s&&(s=[]);if(p.preFilter[i]){f=p.preFilter[i](f,t,d,s,e,u);if(!f)g=j=!0;else if(f===!0)continue}if(f)for(o=0;(k=t[o])!=null;o++)k&&(j=l(k,f,o,t),q=e^j,d&&j!=null?q?g=!0:t[o]=!1:q&&(s.push(k),g=!0));if(j!==b){d||(t=s),a=a.replace(p.match[i],"");if(!g)return[];break}}if(a===r){if(g!=null)break;n.error(a)}r=a}return t},n.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var o=n.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(l,"");for(a=a.firstChild;a;a=a.nextSibling)e+=o(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=o(c));return e},p=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!m.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,i;f<g;f++)if(i=a[f]){while((i=i.previousSibling)&&i.nodeType!==1);a[f]=e||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}e&&n.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!m.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&n.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=y;typeof b=="string"&&!m.test(b)&&(b=b.toLowerCase(),d=b,g=x),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=y;typeof b=="string"&&!m.test(b)&&(b=b.toLowerCase(),d=b,g=x),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(k,"")+" ";if(f)return a;for(var g=0,i;(i=b[g])!=null;g++)i&&(e^(i.className&&(" "+i.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(i):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(k,"")},TAG:function(a,b){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||n.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&n.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(k,"");return!f&&p.attrMap[g]&&(a[1]=p.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(k,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var g=n.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=n(b[3],null,null,c)}else if(p.match.POS.test(b[0])||p.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!n(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=p.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||o([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var i=0,j=g.length;i<j;i++)if(g[i]===a)return!1;return!0}n.error(e)},CHILD:function(a,b){var c,e,f,g,i,j,k,l=b[1],m=a;switch(l){case"only":case"first":while(m=m.previousSibling)if(m.nodeType===1)return!1;if(l==="first")return!0;m=a;case"last":while(m=m.nextSibling)if(m.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){j=0;for(m=g.firstChild;m;m=m.nextSibling)m.nodeType===1&&(m.nodeIndex=++j);g[d]=f}return k=a.nodeIndex-e,c===0?k===0:k%c===0&&k/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=n.attr?n.attr(a,c):p.attrHandle[c]?p.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&n.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=p.setFilters[e];if(f)return f(a,c,b,d)}}},q=p.match.POS,r=function(a,b){return"\\"+(b-0+1)};for(var s in p.match)p.match[s]=new RegExp(p.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[s]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[s].source.replace(/\\(\d+)/g,r));var t=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(u){t=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var v,w;c.documentElement.compareDocumentPosition?v=function(a,b){return a===b?(i=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(v=function(a,b){if(a===b)return i=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,j=b.parentNode,k=g;if(g===j)return w(a,b);if(!g)return-1;if(!j)return 1;while(k)e.unshift(k),k=k.parentNode;k=j;while(k)f.unshift(k),k=k.parentNode;c=e.length,d=f.length;for(var l=0;l<c&&l<d;l++)if(e[l]!==f[l])return w(e[l],f[l]);return l===c?w(a,f[l],-1):w(e[l],b,1)},w=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(p.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},p.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(p.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=n,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;n=function(b,e,f,g){e=e||c;if(!g&&!n.isXML(e)){var i=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(i&&(e.nodeType===1||e.nodeType===9)){if(i[1])return t(e.getElementsByTagName(b),f);if(i[2]&&p.find.CLASS&&e.getElementsByClassName)return t(e.getElementsByClassName(i[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return t([e.body],f);if(i&&i[3]){var j=e.getElementById(i[3]);if(!j||!j.parentNode)return t([],f);if(j.id===i[3])return t([j],f)}try{return t(e.querySelectorAll(b),f)}catch(k){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var l=e,m=e.getAttribute("id"),o=m||d,q=e.parentNode,r=/^\s*[+~]/.test(b);m?o=o.replace(/'/g,"\\$&"):e.setAttribute("id",o),r&&q&&(e=e.parentNode);try{if(!r||q)return t(e.querySelectorAll("[id='"+o+"'] "+b),f)}catch(s){}finally{m||l.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)n[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}n.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(a))try{if(e||!p.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return n(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?n.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?n.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:n.contains=function(){return!1},n.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var z=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=p.match.PSEUDO.exec(a))f+=d[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;for(var i=0,j=g.length;i<j;i++)n(a,g[i],e,c);return n.filter(f,e)};n.attr=f.attr,n.selectors.attrMap={},f.find=n,f.expr=n.selectors,f.expr[":"]=f.expr.filters,f.unique=n.uniqueSort,f.text=n.getText,f.isXMLDoc=n.isXML,f.contains=n.contains}();var M=/Until$/,N=/^(?:parents|prevUntil|prevAll)/,O=/,/,P=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,R=f.expr.match.POS,S={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,i,j;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(i=g;i<e.length;i++)for(j=0;j<g;j++)if(e[j]===e[i]){e.splice(i--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(U(this,a,!1),"not",a)},filter:function(a){return this.pushStack(U(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?R.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var i=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:i});g=g.parentNode,i++}return c}var j=R.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(j?j.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(T(c[0])||T(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return M.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!S[a]?f.unique(e):e,(this.length>1||O.test(d))&&N.test(a)&&(e=e.reverse()),this.pushStack(e,a,Q.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var W="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",X=/ jQuery\d+="(?:\d+|null)"/g,Y=/^\s+/,Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ab=/<([\w:]+)/,bb=/<tbody/i,cb=/<|&#?\w+;/,db=/<(?:script|style)/i,eb=/<(?:script|object|embed|option|style)/i,fb=new RegExp("<(?:"+W+")","i"),gb=/checked\s*(?:[^=]|=\s*.checked.)/i,hb=/\/(java|ecma)script/i,ib=/^\s*<!(?:\[CDATA\[|\-\-)/,jb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},kb=V(c);jb.optgroup=jb.option,jb.tbody=jb.tfoot=jb.colgroup=jb.caption=jb.thead,jb.th=jb.td,f.support.htmlSerialize||(jb._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(X,""):null;if(typeof a=="string"&&!db.test(a)&&(f.support.leadingWhitespace||!Y.test(a))&&!jb[(ab.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Z,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,i,j,k=a[0],l=[];if(!f.support.checkClone&&arguments.length===3&&typeof k=="string"&&gb.test(k))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(k))return this.each(function(e){var g=f(this);a[0]=k.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){j=k&&k.parentNode,f.support.parentNode&&j&&j.nodeType===11&&j.childNodes.length===this.length?e={fragment:j}:e=f.buildFragment(a,this,l),i=e.fragment,i.childNodes.length===1?g=i=i.firstChild:g=i.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var m=0,n=this.length,o=n-1;m<n;m++)d.call(c?lb(this[m],g):this[m],e.cacheable||n>1&&m<o?f.clone(i,!0,!0):i)}l.length&&f.each(l,sb)}return this}}),f.buildFragment=function(a,b,d){var e,g,i,j,k=a[0];return b&&b[0]&&(j=b[0].ownerDocument||b[0]),j.createDocumentFragment||(j=c),a.length===1&&typeof k=="string"&&k.length<512&&j===c&&k.charAt(0)==="<"&&!eb.test(k)&&(f.support.checkClone||!gb.test(k))&&(f.support.html5Clone||!fb.test(k))&&(g=!0,i=f.fragments[k],i&&i!==1&&(e=i)),e||(e=j.createDocumentFragment(),f.clean(a,j,e,d)),g&&(f.fragments[k]=i?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var i=0,j=e.length;i<j;i++){var k=(i>0?this.clone(!0):this).get();f(e[i])[b](k),d=d.concat(k)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,i=f.support.html5Clone||!fb.test("<"+a.nodeName)?a.cloneNode(!0):rb(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){nb(a,i),d=ob(a),e=ob(i);for(g=0;d[g];++g)e[g]&&nb(d[g],e[g])}if(b){mb(a,i);if(c){d=ob(a),e=ob(i);for(g=0;d[g];++g)mb(d[g],e[g])}}return d=e=null,i},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var i=[],j;for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!cb.test(l))l=b.createTextNode(l);else{l=l.replace(Z,"<$1></$2>");var m=(ab.exec(l)||["",""])[1].toLowerCase(),n=jb[m]||jb._default,o=n[0],p=b.createElement("div");b===c?kb.appendChild(p):V(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var q=bb.test(l),r=m==="table"&&!q?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!q?p.childNodes:[];for(j=r.length-1;j>=0;--j)f.nodeName(r[j],"tbody")&&!r[j].childNodes.length&&r[j].parentNode.removeChild(r[j])}!f.support.leadingWhitespace&&Y.test(l)&&p.insertBefore(b.createTextNode(Y.exec(l)[0]),p.firstChild),l=p.childNodes}var s;if(!f.support.appendChecked)if(l[0]&&typeof (s=l.length)=="number")for(j=0;j<s;j++)qb(l[j]);else qb(l);l.nodeType?i.push(l):i=f.merge(i,l)}if(d){g=function(a){return!a.type||hb.test(a.type)};for(k=0;i[k];k++)if(e&&f.nodeName(i[k],"script")&&(!i[k].type||i[k].type.toLowerCase()==="text/javascript"))e.push(i[k].parentNode?i[k].parentNode.removeChild(i[k]):i[k]);else{if(i[k].nodeType===1){var t=f.grep(i[k].getElementsByTagName("script"),g);i.splice.apply(i,[k+1,0].concat(t))}d.appendChild(i[k])}}return i},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&f.noData[j.nodeName.toLowerCase()])continue;c=j[f.expando];if(c){b=d[c];if(b&&b.events){for(var k in b.events)e[k]?f.event.remove(j,k):f.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}g?delete j[f.expando]:j.removeAttribute&&j.removeAttribute(f.expando),delete d[c]}}}});var tb=/alpha\([^)]*\)/i,ub=/opacity=([^)]*)/,vb=/([A-Z]|^ms)/g,wb=/^-?\d+(?:px)?$/i,xb=/^-?\d/,yb=/^([\-+])=([\-+.\de]+)/,zb={position:"absolute",visibility:"hidden",display:"block"},Ab=["Left","Right"],Bb=["Top","Bottom"],Cb,Db,Eb;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Cb(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,i,j=f.camelCase(c),k=a.style,l=f.cssHooks[j];c=f.cssProps[j]||j;if(d===b)return l&&"get"in l&&(g=l.get(a,!1,e))!==b?g:k[c];i=typeof d,i==="string"&&(g=yb.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),i="number");if(d==null||i==="number"&&isNaN(d))return;i==="number"&&!f.cssNumber[j]&&(d+="px");if(!l||!("set"in l)||(d=l.set(a,d))!==b)try{k[c]=d}catch(m){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(Cb)return Cb(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?Fb(a,b,d):(f.swap(a,zb,function(){e=Fb(a,b,d)}),e)},set:function(a,b){if(!wb.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return ub.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(tb,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=tb.test(g)?g.replace(tb,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=Cb(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(Db=function(a,b){var c,d,e;return b=b.replace(vb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),c}),c.documentElement.currentStyle&&(Eb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!wb.test(f)&&xb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),Cb=Db||Eb,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var Gb=/%20/g,Hb=/\[\]$/,Ib=/\r?\n/g,Jb=/#.*$/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Mb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb=/\?/,Qb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Rb=/^(?:select|textarea)/i,Sb=/\s+/,Tb=/([?&])_=[^&]*/,Ub=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Vb=f.fn.load,Wb={},Xb={},Yb,Zb,$b=["*/"]+["*"];try{Yb=e.href}catch(_b){Yb=c.createElement("a"),Yb.href="",Yb=Yb.href}Zb=Ub.exec(Yb.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&Vb)return Vb.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var i="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),i="POST"));var j=this;return f.ajax({url:a,type:i,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),j.html(g?f("<div>").append(c.replace(Qb,"")).find(g):c)),d&&j.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Rb.test(this.nodeName)||Lb.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(Ib,"\r\n")}}):{name:b.name,value:c.replace(Ib,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cc(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),cc(a,b),a},ajaxSettings:{url:Yb,isLocal:Mb.test(Zb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":$b},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:ac(Wb),ajaxTransport:ac(Xb),ajax:function(a,c){function x(a,c,m,n){if(t===2)return;t=2,r&&clearTimeout(r),q=b,o=n||"",w.readyState=a>0?4:0;var p,s,v,x=c,y=m?ec(d,w,m):b,z,A;if(a>=200&&a<300||a===304){if(d.ifModified){if(z=w.getResponseHeader("Last-Modified"))f.lastModified[l]=z;if(A=w.getResponseHeader("Etag"))f.etag[l]=A}if(a===304)x="notmodified",p=!0;else try{s=fc(d,y),x="success",p=!0}catch(B){x="parsererror",v=B}}else{v=x;if(!x||a)x="error",a<0&&(a=0)}w.status=a,w.statusText=""+(c||x),p?i.resolveWith(e,[s,x,w]):i.rejectWith(e,[w,x,v]),w.statusCode(k),k=b,u&&g.trigger("ajax"+(p?"Success":"Error"),[w,d,p?s:v]),j.fireWith(e,[w,x]),u&&(g.trigger("ajaxComplete",[w,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,i=f.Deferred(),j=f.Callbacks("once memory"),k=d.statusCode||{},l,m={},n={},o,p,q,r,s,t=0,u,v,w={readyState:0,setRequestHeader:function(a,b){if(!t){var c=a.toLowerCase();a=n[c]=n[c]||a,m[a]=b}return this},getAllResponseHeaders:function(){return t===2?o:null},getResponseHeader:function(a){var c;if(t===2){if(!p){p={};while(c=Kb.exec(o))p[c[1].toLowerCase()]=c[2]}c=p[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return t||(d.mimeType=a),this},abort:function(a){return a=a||"abort",q&&q.abort(a),x(0,a),this}};i.promise(w),w.success=w.done,w.error=w.fail,w.complete=j.add,w.statusCode=function(a){if(a){var b;if(t<2)for(b in a)k[b]=[k[b],a[b]];else b=a[w.status],w.then(b,b)}return this},d.url=((a||d.url)+"").replace(Jb,"").replace(Ob,Zb[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(Sb),d.crossDomain==null&&(s=Ub.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]==Zb[1]&&s[2]==Zb[2]&&(s[3]||(s[1]==="http:"?80:443))==(Zb[3]||(Zb[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bc(Wb,d,c,w);if(t===2)return!1;u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Nb.test(d.type),u&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(Pb.test(d.url)?"&":"?")+d.data,delete d.data),l=d.url;if(d.cache===!1){var y=f.now(),z=d.url.replace(Tb,"$1_="+y);d.url=z+(z===d.url?(Pb.test(d.url)?"&":"?")+"_="+y:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(l=l||d.url,f.lastModified[l]&&w.setRequestHeader("If-Modified-Since",f.lastModified[l]),f.etag[l]&&w.setRequestHeader("If-None-Match",f.etag[l])),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+$b+"; q=0.01":""):d.accepts["*"]);for(v in d.headers)w.setRequestHeader(v,d.headers[v]);if(!d.beforeSend||d.beforeSend.call(e,w,d)!==!1&&t!==2){for(v in{success:1,error:1,complete:1})w[v](d[v]);q=bc(Xb,d,c,w);if(!q)x(-1,"No Transport");else{w.readyState=1,u&&g.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(r=setTimeout(function(){w.abort("timeout")},d.timeout));try{t=1,q.send(m,x)}catch(A){if(!(t<2))throw A;x(-1,A)}}return w}return w.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)dc(g,a[g],c,e);return d.join("&").replace(Gb,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var gc=f.now(),hc=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+gc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(hc.test(b.url)||e&&hc.test(b.data))){var g,i=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,j=a[i],k=b.url,l=b.data,m="$1"+i+"$2";return b.jsonp!==!1&&(k=k.replace(hc,m),b.url===k&&(e&&(l=l.replace(hc,m)),b.data===l&&(k+=(/\?/.test(k)?"&":"?")+b.jsonp+"="+i))),b.url=k,b.data=l,a[i]=function(a){g=[a]},d.always(function(){a[i]=j,g&&f.isFunction(j)&&a[i](g[0])}),b.converters["script json"]=function(){return g||f.error(i+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(_,f){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(_,a){if(a||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,a||f(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ic=a.ActiveXObject?function(){for(var a in kc)kc[a](0,1)}:!1,jc=0,kc;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&lc()||mc()}:lc,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var i=c.xhr(),j,k;c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(k in c.xhrFields)i[k]=c.xhrFields[k];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)i.setRequestHeader(k,e[k])}catch(_){}i.send(c.hasContent&&c.data||null),d=function(_,a){var e,k,l,m,n;try{if(d&&(a||i.readyState===4)){d=b,j&&(i.onreadystatechange=f.noop,ic&&delete kc[j]);if(a)i.readyState!==4&&i.abort();else{e=i.status,l=i.getAllResponseHeaders(),m={},n=i.responseXML,n&&n.documentElement&&(m.xml=n),m.text=i.responseText;try{k=i.statusText}catch(o){k=""}!e&&c.isLocal&&!c.crossDomain?e=m.text?200:404:e===1223&&(e=204)}}}catch(p){a||g(-1,p)}m&&g(e,k,m,l)},!c.async||i.readyState===4?d():(j=++jc,ic&&(kc||(kc={},f(a).unload(ic)),kc[j]=d),i.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var nc={},oc,pc,qc=/^(?:toggle|show|hide)$/,rc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,sc,tc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],uc;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(xc("show",3),a,b,c);for(var g=0,i=this.length;g<i;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",yc(d.nodeName)));for(g=0;g<i;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(xc("hide",3),a,b,c);var d,e,g=0,i=this.length;for(;g<i;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<i;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(xc("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,i,j,k,l,m,n,o,p;b.animatedProperties={};for(j in a){g=f.camelCase(j),j!==g&&(a[g]=a[j],delete a[j]),i=a[g],f.isArray(i)?(b.animatedProperties[g]=i[1],i=a[g]=i[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(i==="hide"&&d||i==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||yc(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(j in a)k=new f.fx(this,b,j),i=a[j],qc.test(i)?(p=f._data(this,"toggle"+j)||(i==="toggle"?d?"show":"hide":0),p?(f._data(this,"toggle"+j,p==="show"?"hide":"show"),k[p]()):k[i]()):(l=rc.exec(i),m=k.cur(),l?(n=parseFloat(l[2]),o=l[3]||(f.cssNumber[j]?"":"px"),o!=="px"&&(f.style(this,j,(n||1)+o),m=(n||1)/k.cur()*m,f.style(this,j,m+o)),l[1]&&(n=(l[1]==="-="?-1:1)*n+m),k.custom(m,n,o)):k.custom(m,i,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function i(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&i(this,g,b);else g[b=a+".run"]&&g[b].stop&&i(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:xc("show",1),slideUp:xc("hide",1),slideToggle:xc("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function i(a){return e.step(a)}var e=this,g=f.fx;this.startTime=uc||vc(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},i()&&f.timers.push(i)&&!sc&&(sc=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=uc||vc(),g=!0,i=this.elem,j=this.options;if(a||e>=j.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),j.animatedProperties[this.prop]=!0;for(b in j.animatedProperties)j.animatedProperties[b]!==!0&&(g=!1);if(g){j.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){i.style["overflow"+b]=j.overflow[a]}),j.hide&&f(i).hide();if(j.hide||j.show)for(b in j.animatedProperties)f.style(i,b,j.orig[b]),f.removeData(i,"fxshow"+b,!0),f.removeData(i,"toggle"+b,!0);d=j.complete,d&&(j.complete=!1,d.call(i))}return!1}return j.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/j.duration,this.pos=f.easing[j.animatedProperties[this.prop]](this.state,c,0,1,j.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(sc),sc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var zc=/^t(?:able|d|h)$/i,Ac=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var i=e.body,j=Bc(e),k=g.clientTop||i.clientTop||0,l=g.clientLeft||i.clientLeft||0,m=j.pageYOffset||f.support.boxModel&&g.scrollTop||i.scrollTop,n=j.pageXOffset||f.support.boxModel&&g.scrollLeft||i.scrollLeft,o=c.top+m-k,p=c.left+n-l;return{top:o,left:p}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,i=g.documentElement,j=g.body,k=g.defaultView,l=k?k.getComputedStyle(b,null):b.currentStyle,m=b.offsetTop,n=b.offsetLeft;while((b=b.parentNode)&&b!==j&&b!==i){if(f.support.fixedPosition&&l.position==="fixed")break;c=k?k.getComputedStyle(b,null):b.currentStyle,m-=b.scrollTop,n-=b.scrollLeft,b===d&&(m+=b.offsetTop,n+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!zc.test(b.nodeName))&&(m+=parseFloat(c.borderTopWidth)||0,n+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(m+=parseFloat(c.borderTopWidth)||0,n+=parseFloat(c.borderLeftWidth)||0),l=c}if(l.position==="relative"||l.position==="static")m+=j.offsetTop,n+=j.offsetLeft;return f.support.fixedPosition&&l.position==="fixed"&&(m+=Math.max(i.scrollTop,j.scrollTop),n+=Math.max(i.scrollLeft,j.scrollLeft)),{top:m,left:n}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),i=f.css(a,"top"),j=f.css(a,"left"),k=(d==="absolute"||d==="fixed")&&f.inArray("auto",[i,j])>-1,l={},m={},n,o;k?(m=e.position(),n=m.top,o=m.left):(n=parseFloat(i)||0,o=parseFloat(j)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(l.top=b.top-g.top+n),b.left!=null&&(l.left=b.left-g.left+o),"using"in b?b.using.call(a,l):e.css(l)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=Ac.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!Ac.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=Bc(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=Bc(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],i=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||i&&i["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var j=f.css(e,d),k=parseFloat(j);return f.isNumeric(k)?k:j}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window),a()}),provide("libwrap/jquery",function(a){using(window.twttr&&window.twttr.isT1?"$lib/jquery-1.7.1.js":"$lib/jquery-1.5.2.js",function(){a(jQuery)})}),provide("$lib/json2.js",function(exports){this.JSON||(this.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,i,j=b[a];j&&typeof j=="object"&&typeof j.toJSON=="function"&&(j=j.toJSON(a)),typeof rep=="function"&&(j=rep.call(b,a,j));switch(typeof j){case"string":return quote(j);case"number":return isFinite(j)?String(j):"null";case"boolean":case"null":return String(j);case"object":if(!j)return"null";gap+=indent,i=[];if(Object.prototype.toString.apply(j)==="[object Array]"){f=j.length;for(c=0;c<f;c+=1)i[c]=str(c,j)||"null";return e=i.length===0?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+g+"]":"["+i.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,j),e&&i.push(quote(d)+(gap?": ":":")+e))}else for(d in j)Object.hasOwnProperty.call(j,d)&&(e=str(d,j),e&&i.push(quote(d)+(gap?": ":":")+e));return e=i.length===0?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+g+"}":"{"+i.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports()}),provide("libwrap/json",function(a){using("$lib/json2.js",function(){a(JSON)})}),provide("$lib/hogan.js",function(a){var b={},c=!1;typeof window!="undefined"&&(c=window.$.browser.msie&&parseInt(window.$.browser.version,10)<=7),function(a,b){function c(a,b){function c(){}function d(){}c.prototype=a,d.prototype=a.subs;var e=new c;e.subs=new d;for(var f in b)e.subs[f]=b[f];return e}function k(a){return String(a===null||a===undefined?"":a)}function l(a){return a=k(a),j.test(a)?a.replace(d,"&amp;").replace(e,"&lt;").replace(f,"&gt;").replace(g,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,c,d,e){a=a||{},this.r=a.main||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:"",this.partials=a.partials||{},this.subs=a.subs||{}},a.Template.prototype={r:function(a,b,c){return""},v:l,t:k,render:function(b,c,d){return this.ri([b],c||{},d)},ri:function(a,b,c){return this.r(a,b,c)},ep:function(a,b){var d=this.partials[a],e=b[d.name];if(d.instance&&d.base==e)return d.instance;if(typeof e=="string"){if(!this.c)throw new Error("No compiler available.");e=this.c.compile(e,this.options)}return e?(this.partials[a].base=e,d.subs&&(e=c(e,d.subs)),this.partials[a].instance=e,e):null},rp:function(a,b,c,d){var e=this.ep(a,c);return e?e.ri(b,c,d):""},rs:function(a,b,c){var d=a[a.length-1];if(!m(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var i;return m(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ms(a,b,c,d,e,f,g)),i=a===""||!!a,!d&&i&&b&&b.push(typeof a=="object"?a:b[b.length-1]),i)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if(a==="."&&m(b[b.length-2]))return b[b.length-1];for(var i=1;i<e.length;i++)f&&typeof f=="object"&&f[e[i]]!=null?(g=f,f=f[e[i]]):f="";return d&&!f?!1:(!d&&typeof f=="function"&&(b.push(g),f=this.mv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var i=b.length-1;i>=0;i--){f=b[i];if(f&&typeof f=="object"&&f[a]!=null){e=f[a],g=!0;break}}return g?(!d&&typeof e=="function"&&(e=this.mv(e,b,c)),e):d?!1:""},ls:function(a,b,c,d,e){var f=this.options.delimiters;return this.options.delimiters=e,this.b(this.ct(k(a.call(b,d)),b,c)),this.options.delimiters=f,!1},ct:function(a,b,c){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(a,this.options).render(b,c)},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ms:function(a,b,c,d,e,f,g){var i=b[b.length-1],j=a.call(i);return typeof j=="function"?d?!0:this.ls(j,i,c,this.text.substring(e,f),g):j},mv:function(a,b,c){var d=b[b.length-1],e=a.call(d);return typeof e=="function"?this.ct(k(e.call(d)),d,c):e},sub:function(a,b,c){var d=this.subs[a];d&&d(b,c,this)}};var d=/&/g,e=/</g,f=/>/g,g=/\'/g,i=/\"/g,j=/[&<>\"\']/,m=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}}(b,c),function(a){function g(a){a.n.substr(a.n.length-1)==="}"&&(a.n=a.n.substring(0,a.n.length-1))}function i(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function j(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function l(b,c,d,e){var f=[],g=null,i=null,j=null;i=d[d.length-1];while(b.length>0){j=b.shift();if(!(!i||i.tag!="<"||j.tag in k))throw new Error("Illegal content in < super tag.");if(a.tags[j.tag]<=a.tags.$||m(j,e))d.push(j),j.nodes=l(b,j.tag,d,e);else{if(j.tag=="/"){if(d.length===0)throw new Error("Closing tag without opener: /"+j.n);g=d.pop();if(j.n!=g.n&&!n(j.n,g.n,e))throw new Error("Nesting error: "+g.n+" vs. "+j.n);return g.end=j.i,f}j.tag=="\n"&&(j.last=b.length==0||b[0].tag=="\n")}f.push(j)}if(d.length>0)throw new Error("missing closing tag: "+d.pop().n);return f}function m(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c].o==a.n)return a.tag="#",!0}function n(a,b,c){for(var d=0,e=c.length;d<e;d++)if(c[d].c==a&&c[d].o==b)return!0}function o(a){var b=[];for(var c in a)b.push('"'+r(c)+'": function(c,p,t) {'+a[c]+"}");return"{ "+b.join(",")+" }"}function q(a,b,c){for(var d in a)b[d]=new Function("c","p","t",a[d])}function r(a){return a.replace(f,"\\\\").replace(c,'\\"').replace(d,"\\n").replace(e,"\\r")}function s(a){return~a.indexOf(".")?"d":"f"}function t(a,b){var c=a.n+p++;return b.partials[c]={name:a.n},b.code+='t.b(t.rp("'+r(c)+'",c,p,"'+(a.indent||"")+'"));',c}function u(a,b){b.code+="t.b(t.t(t."+s(a.n)+'("'+r(a.n)+'",c,p,0)));'}function v(a){return"t.b("+a+");"}var b=/\S/,c=/\"/g,d=/\n/g,e=/\r/g,f=/\\/g;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},a.scan=function(d,e){function x(){q.length>0&&(r.push({tag:"_t",text:new String(q)}),q="")}function y(){var c=!0;for(var d=u;d<r.length;d++){c=a.tags[r[d].tag]<a.tags._v||r[d].tag=="_t"&&r[d].text.match(b)===null;if(!c)return!1}return c}function z(a,b){x();if(a&&y())for(var c=u,d;c<r.length;c++)r[c].text&&((d=r[c+1])&&d.tag==">"&&(d.indent=r[c].text.toString()),r.splice(c,1));else b||r.push({tag:"\n"});s=!1,u=r.length}function A(a,b){var c="="+w,d=a.indexOf(c,b),e=i(a.substring(a.indexOf("=",b)+1,d)).split(" ");return v=e[0],w=e[1],d+c.length-1}var f=d.length,k=0,l=1,m=2,n=k,o=null,p=null,q="",r=[],s=!1,t=0,u=0,v="{{",w="}}";e&&(e=e.split(" "),v=e[0],w=e[1]);for(t=0;t<f;t++)n==k?j(v,d,t)?(--t,x(),n=l):d.charAt(t)=="\n"?z(s):q+=d.charAt(t):n==l?(t+=v.length-1,p=a.tags[d.charAt(t+1)],o=p?d.charAt(t+1):"_v",o=="="?(t=A(d,t),n=k):(p&&t++,n=m),s=t):j(w,d,t)?(r.push({tag:o,n:i(q),otag:v,ctag:w,i:o=="/"?s-w.length:t+v.length}),q="",t+=w.length-1,n=k,o=="{"&&(w=="}}"?t++:g(r[r.length-1]))):q+=d.charAt(t);return z(s,!0),r};var k={_t:!0,"\n":!0,$:!0,"/":!0};a.stringify=function(b,c,d){var e=[],f="{main: function (c,p,i) { "+a.wrapMain(b.code)+" }, partials: {";for(var g in b.partials)e.push('"'+r(g)+'": {name:"'+r(b.partials[g].name)+'"}');return f+=e.join(",")+"}, subs: "+o(b.subs)+" }",f};var p=0;a.generate=function(b,c,d){p=0;var e={code:"",subs:{},partials:{}};return a.walk(b,e),d.asString?this.stringify(e,c,d):this.makeTemplate(e,c,d)},a.wrapMain=function(a){return'var t=this;t.b(i=i||"");'+a+"return t.fl();"},a.template=a.Template,a.makeTemplate=function(a,b,c){var d={main:new Function("c","p","i",this.wrapMain(a.code)),subs:{},partials:{}};d.partials=a.partials;for(var e in d.partials)q(d.partials[e].subs,d.partials[e].subs);return q(a.subs,d.subs),new this.template(d,b,this,c)},a.codegen={"#":function(b,c){c.code+="if(t.s(t."+s(b.n)+'("'+r(b.n)+'",c,p,1),'+"c,p,0,"+b.i+","+b.end+',"'+b.otag+" "+b.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){",a.walk(b.nodes,c),c.code+="});c.pop();}"},"^":function(b,c){c.code+="if(!t.s(t."+s(b.n)+'("'+r(b.n)+'",c,p,1),c,p,1,0,0,"")){',a.walk(b.nodes,c),c.code+="};"},">":t,"<":function(b,c){var d={partials:c.partials,code:"",subs:{},inPartial:!0};a.walk(b.nodes,d),c.partials[t(b,c)].subs=d.subs},$:function(b,c){var d={subs:{},code:"",partials:c.partials};a.walk(b.nodes,d),c.subs[b.n]=d.code,c.inPartial||(c.code+='t.sub("'+r(b.n)+'",c,p);')},"\n":function(a,b){b.code+=v('"\\n"'+(a.last?"":" + i"))},_v:function(a,b){b.code+="t.b(t.v(t."+s(a.n)+'("'+r(a.n)+'",c,p,0)));'},_t:function(a,b){b.code+=v('"'+r(a.text)+'"')},"{":u,"&":u},a.walk=function(b,c){var d;for(var e=0,f=b.length;e<f;e++)d=a.codegen[b[e].tag],d&&d(b[e],c);return c},a.parse=function(a,b,c){return c=c||{},l(a,"",[],c.sectionTags||[])},a.cache={},a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda].join("||")},a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];return e?e:(e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c),this.cache[d]=e)}}(b);var d=function(a){function b(b,c,d,e){var f=c,g=this.partials[b],i=this.f(g.name,c,d,0);return i&&(f=f.concat(i)),a.Template.prototype.rp.call(this,b,f,d,e)}function c(b,c,d,e){var f=c[c.length-1],g=a.Template.prototype.f.call(this,b,c,d,e);if(g===!1){var i=f.lookup_missing_property?f:c[0];i.lookup_missing_property&&(g=i.lookup_missing_property(b,f),!e&&typeof g=="function"&&(g=this.lv(g,c,d)))}return g}function e(b,c,d){var e=a.parse.call(this,b,c,d),g="";for(var i=0;i<e.length;i++)if(e[i].tag=="_v"&&e[i].n.indexOf("%TRANSLATION-HINT")==0){var j=e.splice(i,1)[0];i--,g=j.n.substring(j.n.indexOf("mode=")+"mode=".length)}return f(e,g,c,d)}function f(b,c,d,e){var j=[];for(var k=0;k<b.length;k++)if(b[k].tag=="#"&&b[k].n=="_i"){var l=i(d.substring(b[k].i,b[k].end),c);l.tag=="raw"?j.push(l):Array.prototype.push.apply(j,a.parse(a.scan(l,e.delimiters),d,e))}else b[k].tag=="#"||b[k].tag=="^"?(b[k].nodes=f(b[k].nodes,c,d,e),j.push(b[k])):j.push(b[k]);return g(j)}function g(a){if(a.length==0)return a;var b=[a[0]];for(var c=1;c<a.length;c++)b[b.length-1].tag!="_t"||a[c].tag!="\n"&&a[c].tag!="_t"?b.push(a[c]):b[b.length-1].text+=a[c].text||"\n";return b}function i(a,b){var c={text:a,mode:b},d=typeof _!="undefined"?_(c):c.text;return d?d:a}var d=function(d,e,f,g){this.rp=b,this.f=c,a.Template.call(this,d,e,f,g)};d.prototype=a.Template.prototype;var j,k=function(){};return k.prototype=a,j=new k,j.template=d,j.parse=e,{twitterHogan:j,TwitterTemplate:d,to_html:function(a,b,c,e){a instanceof d||(a=j.compile(a,{sectionTags:[{o:"_i",c:"i"}]}));var f=a.render(b,c);if(!e)return f;e(f)}}}(b);typeof window!="undefined"&&(window.Mustache=d),typeof module!="undefined"&&(module.exports={Mustache:d,Hogan:b}),a()}),provide("libwrap/hogan",function(a){using("$lib/hogan.js",function(){a(Mustache)})}),provide("run/base",function(a){using("libwrap/jquery").as(function(b,c){function e(a,b){var c=window,d=a.split(".");for(var e=0,f=d.length;e<f;e++){var g=d[e];typeof c[g]=="undefined"&&(c[g]={}),c=c[g]}if(b)for(var i in b)c[i]=b[i];return c}window.h=function(a){var b=$("<div/>"),c=function(a){return a?b.text(a).html().replace(/\"/gi,"&quot;"):a};return h=function(a){return c(a)},c(a)},c.browser.msie&&c.browser.version==="7.0"&&(c.cleanData=function(a){var b,d,e=c.cache,f=c.event.special,g=c.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&c.noData[j.nodeName.toLowerCase()])continue;d=j[c.expando];if(d){b=e[d];if(b&&b.events){for(var k in b.events)f[k]?c.event.remove(j,k):c.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}g?delete j[c.expando]:j.removeAttribute&&j.removeAttribute(c.expando.toLowerCase()),delete e[d]}}});var d=/\[native code\]/;e("twttr",{provide:e,augmentObject:function(a,b){for(var c in b)a[c]=b[c];return a},aug:function(){return twttr.augmentObject.apply({},arguments)},augmentString:function(a,b){var c=window,d=a.split(".");for(var e=0,f=d.length;e<f;++e)c=c[d[e]]=c[d[e]]||(typeof d[e+1]!="undefined"?{}:b);return c},each:function(a,b,c){for(var d=0,e=a.length;d<e;++d)c?b.call(c,a[d],d,a):b(a[d],d,a)},localize:function(a,b){return typeof a[twttr.pageLocale]=="undefined"?b:a[twttr.pageLocale]},filter:function(a,b,c){var d;if(twttr.is.array(a)){var e=[];for(var f=0,g=a.length;f<g;++f){d=c?b.call(c,a[f],f,a):b(a[f],f,a);if(!d)continue;e.push(a[f])}return e}if(twttr.is.object(a)){var h={};for(var i in a){d=c?b.call(c,i,a[i],a):b(i,a[i],a);if(!d)continue;h[i]=a[i]}return h}},map:function(a,b,c,d){var e=twttr.is.array(a)?[]:{};d&&d=="array"&&(e=[]);for(var f in a)e[f]=c?b.call(c,a[f],f,a):b(a[f],f,a);return e},every:function(a,b,c){var d;for(var e=0,f=a.length;e<f;++e){d=c?b.call(c,a[e],e,a):b(a[e],e,a);if(!d)return!1}return!0},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(a,b,c){return $.each(a,function(a,d){b=c(b,a,d)}),b},exists:function(a,b){return!twttr.is.object(a)||!twttr.is.def(b)?null:twttr.is.def(twttr.at(b,a))},merge:function(){var a=c.makeArray(arguments);return a.length===1?a[0]:(twttr.is.bool(a[a.length-1])&&a.unshift(a.pop()),c.extend.apply(null,a))},extend:function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.uber=b.prototype,b.prototype.constructor==Object.prototype.constructor&&(b.prototype.constructor=b)},method:function(a,b){return this.prototype[a]=b,this},methods:function(a){this.prototype._namespace=this._namespace;for(var b in a)this.prototype[b]=a[b],twttr.is.fn(a[b])&&(this.prototype[b]._methodName=b);return this},statics:function(a){return twttr.aug(this,a)},at:function(b,c){var d=b.split("."),e=c||window;while(d.length>0){e=e[d.shift()];if(typeof e=="undefined")return undefined}return e},klass:function(a,b){typeof a!="string"&&(b=a,a={}["this evaluates to undefined"]);var c=b||function(){f.uberclass&&f.uberclass.apply(this,arguments)},e=[],f=function(){if(!(!twttr.development&&!twttr.isTestEnv||this!=window&&!d.test(this.constructor)))throw new Error((a?a:"(unnamed)")+" constructor must be called with the 'new' keyword");var b=this;c.apply(this,arguments),twttr.each(e,function(a){new a(f,b)})};if(a){twttr.augmentString(a,f);var g=a.split(".").pop();f.name=g.toLowerCase(),f._namespace=a,f._name=g}return f.lazyLoad=function(a){return e.push(a),f},f.method=twttr.method,f.methods=twttr.methods,f.statics=twttr.statics,f._isKlass=!0,c._methodName="constructor",f.subclassOf=function(a){if(!a._isKlass)throw"You should not be subclassing something that is not a twttr.klass";twttr.extend(f,a);for(var b in a)f.hasOwnProperty(b)||(f[b]=a[b]);return f.uberclass=a,f},f.mixin=function(){for(var b=0;b<arguments.length;b++){var c=arguments[b];twttr.is.def(c)?c.call(f,f):console.warn("you have an undefined mixin coming from "+a)}return f},f},magic:function(a,b){return twttr.is.string(a)?twttr.augmentString(a,b):twttr.aug(a,b)},bind:function(a,b,c){return function(){return b.apply(a,c?c.concat(Array.prototype.slice.apply(arguments)):arguments)}}}),twttr.deprecateAccess=function(a,b,c){c=c||{};if(!twttr.deprecateAccess.isActive||typeof console=="undefined"||typeof a.__defineGetter__!="function"||typeof a.__defineSetter__!="function"||typeof a.__lookupGetter__!="function"||typeof a.__lookupSetter__!="function")return;if(a.__lookupGetter__(b)||a.__lookupSetter__(b))return;!!c.now!=!!c.daysRemaining&&console&&console.error("To deprecate "+b+", you must provide both a now property and a daysRemaining property, or neither");var d=a[b],e,g=new Date(c.now+c.daysRemaining*1e3*60*60*24),i=g<new Date,j=function(){if(e||f)return;e=!0;var d=['The property "'+b+'" on ',a,"is deprecated."];c.replacement&&d.push("  Please use "+c.replacement+" instead."),c.daysRemaining&&c.now&&d.push("\nTHIS CODE WILL SELF-DESTRUCT ON "+g.toString()),c.message&&d.push("\nMessage: "+message),d.push("\nPlease remove the usage at ",{stack:(new Error).stack}),console[i?"error":"warn"].apply(console,d)};a.__defineGetter__(b,function(){return j(),d}),a.__defineSetter__(b,function(a){j(),d=a})},twttr.deprecateAccess.activate=function(a){typeof a=="undefined"&&(a=!0),twttr.deprecateAccess.isActive=a};var f=!1;twttr.unwarnedAccess=function(a,b){f=!0;var c=a[b];return f=!1,c},twttr.klass.mixin=function(a,b){return twttr.magic(a,b)},e("twttr.is",{element:function(a){return!!a&&!!(this.def(a.nodeType)||a.document&&a.document.nodeType)},bool:function(a){return typeof a=="boolean"},nil:function(a){return a===null},def:function(a){return typeof a!="undefined"},number:function(a){return typeof a=="number"&&isFinite(a)},fn:function(a){return typeof a=="function"},array:function(a){return a?this.number(a.length)&&this.fn(a.splice):!1},string:function(a){return typeof a=="string"},blank:function(a){return a===""},falsy:function(a){return!a},object:function(a){return!(!a||typeof a!="object"&&!this.fn(a))},regex:function(a){return Object.prototype.toString.apply(a)==="[object RegExp]"},inArray:function(a,b){var c=b.length,d=0;for(d=0;d<c;d++)if(b[d]===a)return!0;return!1}}),twttr.provide("twttr.assets",{getPathFromAbsoluteURL:function(a,b){if(!twttr.cdnBase)return a;if(a.indexOf("/unversioned_dev_assets/")===0)return a;var c;if(a.match(/^https?:/)){function d(a){var b=a.split("://")[1];return b.split("/").slice(1).join("/")}c=d(a)}else console.warn("A relative path (%o) was passed to getPathFromAbsoluteURL, which expects an absolute URL; you should use twttr.assets.path instead",a),c=a;return this.path(c,b)},path:function(a,b){if(!twttr.cdnBase)return a;if(a.match(/^https?:/))return typeof console!="undefined"&&console.warn&&console.warn("A fully qualified URL (%o) was passed to twttr.assets.path, which expects a relative path; returning it unchanged",a),a;b=b||{};var c=typeof b.isSSL=="undefined"?twttr.proto=="https":b.isSSL,d=typeof b.isVersioned=="undefined"?!0:b.isVersioned,e,f,g;return d?e=twttr.cdnBase.versioned:e=twttr.cdnBase.unversioned,c?(f=e.ssl,e.ssl_akamai&&twttr.decider.isAvailable("ssl_cdn_akamai_fraction")&&(f=e.ssl_akamai)):f=e.http,a[0]!=="/"&&(a="/"+a),g=f[twttr.assets.stringToBucket(a,f.length)],g+a},stringToBucket:function(a,b){if(!b)throw new Error("Missing numberOfBuckets argument");var c=a.split("/"),d=c[c.length-1],e=0;for(var f=0;f<d.length;f++)e+=d.charCodeAt(f);return e%b}}),a(twttr)})}),provide("_",function(a){using("util").as(function(b){var c=b.util.params().lang=="en-xx",_=window._=function(a,b){var c=a,e;return twttr.is.object(a)&&(c=a.text,e=a.mode),c=d(c,e),b==null?c:Mustache.to_html(c,b)};_.pseudoTranslate=function(a){str="[";var b=0;for(var c=0;c<a.length;c++)a[c]==">"||a[c]=="}"?b--:(a[c]=="<"||a[c]=="{")&&b++,b>0?str+=a[c]:str+=a[c].replace(/a/g,"åä").replace(/e/g,"éê").replace(/i/g,"ïí").replace(/o/g,"öø").replace(/u/g,"ü");return str+="]",str};var d=function(a,b){var d=a;if(!!twttr.i18n){var e=undefined;b?e=twttr.i18n[b+":"+a]||twttr.i18n[a]:e=twttr.i18n[a],e&&(d=e)}return c?_.pseudoTranslate(d):d};a(_)})}),provide("EventProvider",function(a){using().as(function(b){twttr.provide("twttr.EventProvider",{events:null,_provider:function(){return this._eventProvider||(this._eventProvider=$("<div/>")),this._eventProvider},_createEvent:function(a){this.events||(this.events={}),this.events[a]||(this.events[a]=new $.Event(a))},trigger:function(){this._createEvent(arguments[0]);var a=this._provider();a.trigger.apply(a,arguments)},bind:function(){this._createEvent(arguments[0]);var a=this._provider();a.bind.apply(a,arguments)},one:function(){this._createEvent(arguments[0]);var a=this._provider();a.one.apply(a,arguments)},unbind:function(){var a=this._provider();a.unbind.apply(a,arguments)},_signalProvider:function(){return this._signalProviderObj||(this._signalProviderObj={fired:{},queues:{}}),this._signalProviderObj},signal:function(a){var b=this._signalProvider();if(!b.fired[a]){b.fired[a]=!0;var c=b.queues[a]||[];for(var d=0;d<c.length;d++)c[d].call(null);delete b.queues[a]}},waitForSignal:function(a,b){var c=this._signalProvider();c.fired[a]?b.call():(c.queues[a]||(c.queues[a]=[]),c.queues[a].push(b))}}),a(twttr.EventProvider)})}),provide("bluejs/init",function(a){using(function(){twttr.anywhere=twttr.anywhere||{},twttr.anywhere.api=twttr.anywhere.api||{},twttr.anywhere.remote=twttr.anywhere.remote||{};var b=["models","util","proxies","mixins"];for(var c=0,d=b.length;c<d;++c)twttr.anywhere.api[b[c]]={};twttr.anywhere.api.config={useLocalStorage:!1,cacheObjects:!0,includeEntities:!1},twttr.anywhere.api.updateConfig=function(a){twttr.aug(twttr.anywhere.api.config,a)},twttr.anywhere.api.initialize=function(a){this.updateConfig(a),twttr.anywhere.api.globalEvents=twttr.aug({},twttr.EventProvider);for(var b in twttr.anywhere.api.models){if(b=="Base")continue;(function(){twttr.anywhere.api.proxies[b]=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.models[b],function(a){this.event=a})})()}twttr.anywhere.api.util.BaseCollection._name="twttr.anywhere.proxies.Collection",twttr.anywhere.api.proxies.Collection=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.util.BaseCollection,function(a){this.event=a}),delete twttr.anywhere.api.util.BaseCollection._name,twttr.anywhere.api.config.useLocalStorage&&window.localStorage?twttr.anywhere.api.cache=new twttr.anywhere.api.util.LocalStorageCache:twttr.anywhere.api.cache=new twttr.anywhere.api.util.RequestCache},a()})}),provide("bluejs/config/endpoints",function(a){using(function(){var b="i",c="1",d=twttr.anywhere.api.endpoints={"blocks/blocking/ids":{url:"blocks/blocking/ids",type:"GET"},":user/:list_id/subscribers/create":{url:":user/:list_id/subscribers",type:"POST",optional_parameters:!0},"promoted_content/:event_type/log":{url:"promoted_content/:event_type/log",type:"GET",optional_parameters:!0},":user/lists":{url:":user/lists",type:"GET",optional_parameters:!0},"lists/all":{url:"lists/all",type:"GET",optional_parameters:!0},"geo/search":{url:"geo/search",type:"GET",optional_parameters:!0},"followers/ids":{url:"followers/ids",type:"GET",optional_parameters:!0},"users/show":{url:"users/show",type:"GET",optional_parameters:!0},"urls/resolve":{url:"urls/resolve",type:"GET",optional_parameters:!0},"account/settings":{url:"account/settings",type:"GET"},"account/update_profile_background_image":{url:"account/update_profile_background_image",type:"POST",optional_parameters:!0},"users/recommendations/hide":{url:"users/recommendations/hide",type:"POST",optional_parameters:!0},"friendships/update":{url:"friendships/update",type:"POST",optional_parameters:!0},":user/lists/memberships":{url:":user/lists/memberships",type:"GET",optional_parameters:!0},"lists/destroy":{url:"lists/destroy",type:"POST",optional_parameters:!0},"saved_searches/show/:id":{url:"saved_searches/show/:id",type:"GET",optional_parameters:!0},"friendships/show":{url:"friendships/show",type:"GET",optional_parameters:!0},"lists/statuses":{url:"lists/statuses",type:"GET",optional_parameters:!0},"statuses/friends":{url:"statuses/friends",type:"GET",optional_parameters:!0},"users/lookup":{url:"users/lookup",type:"GET",optional_parameters:!0},"statuses/show":{url:"statuses/show",type:"GET",optional_parameters:!0},"statuses/user_timeline":{url:"statuses/user_timeline",type:"GET",optional_parameters:!0},"statuses/profile_timeline":{url:"statuses/profile_timeline",type:"GET",optional_parameters:!0},"statuses/network_timeline":{url:"statuses/network_timeline",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"statuses/media_timeline":{url:"statuses/media_timeline",type:"GET",optional_parameters:!0},"statuses/:id/retweeted_by/ids":{url:"statuses/:id/retweeted_by/ids",type:"GET",optional_parameters:!0},"trends/available":{url:"trends/available",type:"GET",optional_parameters:!0},":user/:id/subscribers/destroy":{url:":user/:id/subscribers",type:"DELETE",optional_parameters:!0},":user/:id/members/destroy":{url:":user/:id/members",type:"DELETE",optional_parameters:!0},"lists/members/destroy":{url:"lists/members/destroy",type:"POST",optional_parameters:!0},"account/update_delivery_device":{url:"account/update_delivery_device",type:"POST",optional_parameters:!0},"direct_messages/new":{url:"direct_messages/new",type:"POST",optional_parameters:!0},"users/suggestions/random":{url:"users/suggestions/random",type:"GET",optional_parameters:!0},"geo/nearby_places":{url:"geo/nearby_places",type:"GET",optional_parameters:!0},"blocks/blocking":{url:"blocks/blocking",type:"GET",optional_parameters:!0},"friendships/accept":{url:"friendships/accept",type:"POST",optional_parameters:!0},"statuses/update":{url:"statuses/update",type:"POST",optional_parameters:!0},"statuses/update_with_media":{url:"statuses/update_with_media",type:"POST",host:twttr.domains.upload,use_host_in_prod:!0,optional_parameters:!0},"saved_searches/create":{url:"saved_searches/create",type:"POST",optional_parameters:!0},":user/:list_id/subscribers":{url:":user/:list_id/subscribers",type:"GET",optional_parameters:!0},"statuses/retweeted_to_me":{url:"statuses/retweeted_to_me",type:"GET",optional_parameters:!0},":user/:list_id/subscribers/:id":{url:":user/:list_id/subscribers/:id",type:"GET",optional_parameters:!0},"statuses/retweets/:id":{url:"statuses/retweets/:id",type:"GET",optional_parameters:!0},"statuses/public_timeline":{url:"statuses/public_timeline",type:"GET"},"statuses/friends_timeline":{url:"statuses/friends_timeline",type:"GET",optional_parameters:!0},"trends/weekly":{url:"trends/weekly",type:"GET",optional_parameters:!0},"account/update_profile_image":{url:"account/update_profile_image",type:"POST",optional_parameters:!0},"users/profile_image/:screen_name":{url:"users/profile_image/:screen_name",type:"GET",optional_parameters:!0},"users/suggestions":{url:"users/suggestions",type:"GET",optional_parameters:!0},"friendships/cancel":{url:"friendships/cancel",type:"POST",optional_parameters:!0},"statuses/sample":{url:"statuses/sample",type:"GET",optional_parameters:!0},"account/update_profile":{url:"account/update_profile",type:"POST",optional_parameters:!0},"notifications/follow":{url:"notifications/follow",type:"POST",optional_parameters:!0},"geo/place":{url:"geo/place",type:"POST",optional_parameters:!0},"lists/show":{url:"lists/show",type:"GET",optional_parameters:!0},"statuses/followers":{url:"statuses/followers",type:"GET",optional_parameters:!0},"friendships/accept_all":{url:"friendships/accept_all",type:"POST"},"help/test":{url:"help/test",type:"GET"},":user/lists/subscriptions":{url:":user/lists/subscriptions",type:"GET",optional_parameters:!0},"direct_messages/destroy":{url:"direct_messages/destroy",type:"POST",optional_parameters:!0},"statuses/home_timeline":{url:"statuses/home_timeline",type:"GET",optional_parameters:!0},":user/:list_id/members/:id":{url:":user/:list_id/members/:id",type:"GET",optional_parameters:!0},report_spam:{url:"report_spam",type:"POST",optional_parameters:!0},"related_results/show/:id":{url:"related_results/show/:id",type:"GET",optional_parameters:!0},"account/rate_limit_status":{url:"account/rate_limit_status",type:"GET"},"urls/shorten":{url:"urls/shorten",type:"GET",optional_parameters:!0},"geo/reverse_geocode":{url:"geo/reverse_geocode",type:"GET",optional_parameters:!0},"trends/daily":{url:"trends/daily",type:"GET",optional_parameters:!0},"account/verify_credentials":{url:"account/verify_credentials",type:"GET"},":user/lists/create":{url:":user/lists",type:"POST",optional_parameters:!0},"account/update_profile_colors":{url:"account/update_profile_colors",type:"POST",optional_parameters:!0},"users/suggestions/:slug/members":{url:"users/suggestions/:slug/members",type:"GET",optional_parameters:!0},"geo/similar_places":{url:"geo/similar_places",type:"GET",optional_parameters:!0},"blocks/create":{url:"blocks/create",type:"POST",optional_parameters:!0},":user/:list_id/members":{url:":user/:list_id/members",type:"GET",optional_parameters:!0},"friends/ids":{url:"friends/ids",type:"GET",optional_parameters:!0},"favorites/destroy/:id":{url:"favorites/destroy/:id",type:"POST",optional_parameters:!0},"geo/id/:id":{url:"geo/id/:id",type:"GET",optional_parameters:!0},"statuses/retweet":{url:"statuses/retweet",type:"GET",optional_parameters:!0},"favorites/:id":{url:"favorites/:id",type:"GET",optional_parameters:!0},"statuses/retweeted_by_me":{url:"statuses/retweeted_by_me",type:"GET",optional_parameters:!0},":user/:list_id/members/create":{url:":user/:list_id/members",type:"POST",optional_parameters:!0},"lists/members/create":{url:"lists/members/create",type:"POST",optional_parameters:!0},"users/search":{url:"users/search",type:"GET",optional_parameters:!0},"users/typeahead_social":{url:"search/typeahead",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"users/typeahead_global":{url:"search/typeahead",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"statuses/filter":{url:"statuses/filter",type:"POST",optional_parameters:!0},"friendships/create":{url:"friendships/create",type:"POST",optional_parameters:!0},"friendships/create_all":{url:"friendships/create_all",type:"POST",optional_parameters:!0},"account/settings/create":{url:"account/settings",type:"POST",optional_parameters:!0},"trends/current":{url:"trends/current",type:"GET",optional_parameters:!0},"users/suggestions/:slug":{url:"users/suggestions/:slug",type:"GET",optional_parameters:!0},"statuses/firehose":{url:"statuses/firehose",type:"GET",optional_parameters:!0},saved_searches:{url:"saved_searches",type:"GET"},direct_messages:{url:"direct_messages",type:"GET",optional_parameters:!0},"friendships/deny_all":{url:"friendships/deny_all",type:"POST"},"lists/update":{url:"lists/update",type:"POST",optional_parameters:!0},"blocks/destroy":{url:"blocks/destroy",type:"POST",optional_parameters:!0},"friendships/exists":{url:"friendships/exists",type:"GET",optional_parameters:!0},"users/contributors":{url:"users/contributors",type:"GET",optional_parameters:!0},"statuses/mentions":{url:"statuses/mentions",type:"GET",optional_parameters:!0},"favorites/create/:id":{url:"favorites/create/:id",type:"POST",optional_parameters:!0},trends:{url:"trends",type:"GET"},"trends/:woeid":{url:"trends/:woeid",type:"GET",optional_parameters:!0,internal_auth:!0},"urls/shorten_multiple":{url:"urls/shorten_multiple",type:"GET",optional_parameters:!0},"statuses/destroy":{url:"statuses/destroy",type:"POST",optional_parameters:!0},"statuses/retweet/:id":{url:"statuses/retweet/:id",type:"POST",optional_parameters:!0},"direct_messages/sent":{url:"direct_messages/sent",type:"GET",optional_parameters:!0},"blocks/exists":{url:"blocks/exists",type:"GET",optional_parameters:!0},"saved_searches/destroy/:id":{url:"saved_searches/destroy/:id",type:"POST",optional_parameters:!0},"statuses/retweets_of_me":{url:"statuses/retweets_of_me",type:"GET",optional_parameters:!0},"friendships/deny":{url:"friendships/deny",type:"POST",optional_parameters:!0},"friendships/destroy":{url:"friendships/destroy",type:"POST",optional_parameters:!0},"account/end_session":{url:"account/end_session",type:"POST"},"notifications/leave":{url:"notifications/leave",type:"POST",optional_parameters:!0},"statuses/:id/retweeted_by":{url:"statuses/:id/retweeted_by",type:"GET",optional_parameters:!0},"users/recommendations":{url:"users/recommendations",type:"GET",optional_parameters:!0},"account/view_possibly_sensitive":{url:"account/view_possibly_sensitive",type:"GET",optional_parameters:!0,internal:!0},"account/update_view_possibly_sensitive":{url:"account/update_view_possibly_sensitive",type:"GET",optional_parameters:!0,internal:!0},"account/personalization_settings":{url:"account/personalization_settings",type:"GET",optional_parameters:!0,internal:!0},"account/update_personalization_settings":{url:"account/update_personalization_settings",type:"POST",optional_parameters:!0,internal:!0},"account/has_dismissed_geo_promo":{url:"account/has_dismissed_geo_promo",type:"GET",optional_parameters:!0,internal:!0},"account/update_has_dismissed_geo_promo":{url:"account/update_has_dismissed_geo_promo",type:"GET",optional_parameters:!0,internal:!0},"account/geo_location":{url:"account/geo_location",type:"POST",optional_parameters:!0,internal:!0},"account/email_status":{url:"account/email_status",type:"GET",optional_parameters:!0,internal:!0},"users/send_recommendation_rating":{url:"users/send_recommendation_rating",type:"POST",optional_parameters:!0,internal:!0},"users/send_invites_by_email":{url:"users/send_invites_by_email",type:"POST",optional_parameters:!0,internal:!0},"users/following_followers_of":{url:"users/following_followers_of",type:"GET",optional_parameters:!0,internal:!0},"users/follows_in_common_with":{url:"users/follows_in_common_with",type:"GET",optional_parameters:!0,internal:!0},"users/update_discoverability":{url:"users/update_discoverability",type:"POST",optional_parameters:!0,internal:!0},"users/show_for_profile":{url:"users/show_for_profile",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/services":{url:"find_sources/contacts/services",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/matches":{url:"find_sources/contacts/matches",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/others":{url:"find_sources/contacts/others",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/follow_all":{url:"find_sources/contacts/follow_all",type:"POST",optional_parameters:!0,internal:!0},"find_sources/contacts/add_to_list":{url:"find_sources/contacts/add_to_list",type:"POST",optional_parameters:!0,internal:!0},"promos/random_json_promo":{url:"promos/random_json_promo",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},search:{url:"phoenix_search",type:"GET",optional_parameters:!0,internal:!0,mime_type:"phoenix"},"i/search":{url:"search",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"i/discovery":{url:"discovery",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"api/related_results/show/:id":{url:"api/related_results/show/:id",type:"GET",optional_parameters:!0,internal:!0},"friendships/incoming":{url:"friendships/incoming",type:"GET",optional_parameters:!0},"friend_requests/accept":{url:"friend_requests/accept",type:"POST",optional_parameters:!0,internal:!0},"friend_requests/deny":{url:"friend_requests/deny",type:"POST",optional_parameters:!0,internal:!0},"friendships/set_shares":{url:"friendships/set_shares",type:"POST",optional_parameters:!0,internal:!0},"bouncers/reset":{url:"bouncers/reset",type:"POST",optional_parameters:!0,internal:!0},"account/resend_confirmation_email":{url:"account/resend_confirmation_email",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},"download/apps":{url:"download/apps",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},"download/send_link":{url:"download/send_link",type:"POST",optional_parameters:!0,internal:!0},"devices/list":{url:"devices/list",type:"GET",internal:!0},"devices/carriers":{url:"devices/carriers",type:"GET",internal:!0},"devices/create":{url:"devices/create",type:"POST",optional_parameters:!0,internal:!0,mime_type:""},"devices/destroy":{url:"devices/destroy",type:"POST",optional_parameters:!0,internal:!0,mime_type:""},"statuses/flag_possibly_sensitive":{url:"statuses/flag_possibly_sensitive",type:"POST",optional_parameters:!0},"statuses/update_possibly_sensitive":{url:"statuses/update_possibly_sensitive",type:"POST",optional_parameters:!0},"promoted_content/home_timeline":{url:"promoted_content/home_timeline",type:"GET"},"promoted_content/feedback":{url:"promoted_content/feedback",type:"POST",optional_parameters:!0},"statuses/oembed":{url:"statuses/oembed",optional_parameters:!0},"direct_messages/conversations":{url:"direct_messages/conversations",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"direct_messages/conversation_with":{url:"direct_messages/conversation_with",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"users/get_prompt":{url:"users/get_prompt",type:"GET",internal:!0,optional_parameters:!0},"users/dismiss_prompt":{url:"users/dismiss_prompt",type:"POST",internal:!0,optional_parameters:!0},"statuses/following_timeline":{url:"statuses/following_timeline",type:"GET",optional_parameters:!0},"search/facets":{url:"search/facets",type:"GET",optional_parameters:!0,internal:!0},"search/image_facets":{url:"search/image_facets",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"search/video_facets":{url:"search/video_facets",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"activity/activity_by_user":{url:"activity/by_user",optional_parameters:!0,version:b},"activity/activity_of_me":{url:"activity/about_me",optional_parameters:!0,version:b},"activity/activity_by_people_i_follow":{url:"activity/by_friends",optional_parameters:!0,version:b},"statuses/:id/activity":{url:"statuses/:id/activity",optional_parameters:!1,version:b},"statuses/:id/activity/summary":{url:"statuses/:id/activity/summary",optional_parameters:!1,version:b},"government_search/by_zip":{url:"government_search/by_zip",optional_parameters:!0,version:b,internal_auth:!0}};a(d)})}),provide("bluejs/util/request_helpers",function(a){using(function(){function d(a,c){return function(d,e,f){delete b[a];if(!d||e===0||e>=600)c({error:!0,status:0,reason:"No response or network disconnected."});else{var g=f.getResponseHeader("X-Twitter-Identity");g&&(d._identity=g),c(d)}}}function e(a,c){return function(d,e){function g(a){try{return JSON.parse(a)}catch(b){return{}}}delete b[a];var f="An error occured";d.status==401?f="Access denied":d.status==403&&(f="Permission denied"),c({error:!0,status:d.status,response:g(d.responseText),reason:f,xhr:d})}}function g(a,b){var c=a.split("/"),d=0,e=$.map(c,function(a){return a.indexOf(":")===0?b[d++]:a});return e.join("/")}function i(a,c){if(c.headers){var d=c.headers;c.headers=null,c.beforeSend=function(a){for(var b in d)a.setRequestHeader(b,d[b])}}var e=$.ajax(c);b[a]=e}function j(a,b){var c,d,e={dataType:"json",type:a.type||"get",url:""};a.use_host_in_prod&&(e.use_host_in_prod=!0),e.type=e.type.toLowerCase(),a.domain?e.url+=a.domain:(e.url+="/",a.internal||(e.url+=twttr.is.def(a.version)?a.version:"1",e.url+="/")),e.url+=a.url,c=b.slice(0,a.url.split(":").length-1),c.length>0&&(e.url=g(e.url,c)),a.mime_type!==""&&(e.url+=a.mime_type?"."+a.mime_type:".json"),e.data={};if(a.optional_parameters){d=b.slice(c.length);if(d.length>1)throw new"Optional parameter list is longer than expected";e.data=d[0]}if(e.type==="delete"||e.type==="put")e.data._method=a.type.toLowerCase(),e.type="post";a.headers&&(e.headers=a.headers),a.host&&(e.host=a.host);if(a.internal_auth||e.type!=="get")e.data.post_authenticity_token=twttr.anywhere.api.config.postAuthenticityToken;return e}var b={},c=/localhost\.twitter\.com/,f=function(){var a=0,b,f;return window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?(b=function(){return new twttr.anywhere.remote.server.contentWindow.XMLHttpRequest},f=function(a){return function(){return new twttr.anywhere.api.util.RemoteRequest.hosts[a].contentWindow.XMLHttpRequest}}):(b=function(){try{return new twttr.anywhere.remote.server.contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}},f=function(a){return function(){try{return new twttr.anywhere.api.util.RemoteRequest.hosts[a].contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}}),function(g,j,k){var l=++a;return j.success=d(l,k),j.error=e(l,k),j.data=j.data||{},j.headers=j.headers||{},j.headers["X-PHX"]="true",j.host&&(twttr.domains.local.match(c)||j.use_host_in_prod)?(j.xhr=f(j.host),delete j.host,delete j.use_host_in_prod):g||(j.xhr=b),i(l,j),l}}();window.isTestMode&&(twttr.anywhere.api.buildRequestOptions=j),twttr.anywhere.api.makeRequest=function(a,b,c){return f(a.internal,j(a,b),c)},twttr.anywhere.api.cancelApiRequest=function(a){var c=b[a];c&&c.abort()},a({makeRequest:twttr.anywhere.api.makeRequest,cancelApiRequest:twttr.anywhere.api.cancelApiRequest})})}),provide("bluejs/util/local_storage_cache",function(a){using(function(){var b={"users/show":{},"account/verify_credentials":{},"users/lookup":{}},c=.5,d=twttr.klass("twttr.anywhere.api.util.LocalStorageCache",function(){}).methods({clear:function(){for(var a in twttr.storage.getAll(/twitter_anywhere_cache_/))twttr.storage.expire(a)},put:function(a,d,e){if(a in b){var f=this._createKey(a,d);return twttr.storage.setWithExpiry(f,JSON.stringify(e),c),!0}return!1},get:function(a,b){var c=this._createKey(a,b),d;return(d=twttr.storage.get(c))?JSON.parse(d):null},expire:function(a){for(var b in twttr.storage.getAll(/twitter_anywhere_cache_/))b.match(a)&&twttr.storage.expire(b)},writeThroughCallback:function(a,b,c){return twttr.bind(this,function(d){this.put(a,b,d),c(d)})},_createKey:function(a,b){return"twitter_anywhere_cache_"+JSON.stringify([a,b])}});a(d)})}),provide("bluejs/util/object_cache",function(a){using(function(){var b=twttr.klass("twttr.anywhere.api.util.ObjectCache",function(a,b){this.store={},this.size=0,this.options=b||{},this.keys=this.options.keys||[{name:"id",type:"number"},{name:"id",type:"string"}],this.keyNames={};for(var c=0;c<this.keys.length;c++)this.keyNames[this.keys[c].type]=this.keys[c].name;this.shouldCacheAssociated=!!this.options.cacheAssociated,this.shouldExpireAssociated=!!this.options.expireAssociated,this.klass=a,this.constructor._instances.push(this),a._cache=this}).statics({_capacity:7e3,_instances:[],_currentSize:0,_epoch:new Date,_maxAge:3e5,isAtCapacity:function(){return this._currentSize===this._capacity},eject:function(){var a=this._instances[0];for(var b=1,c=this._instances.length;b<c;++b)this._instances[b].size>a.size&&(a=this._instances[b]);a.eject()},sweeper:function(){var a;for(var b=0,c=this._instances.length;b<c;++b){a=this._instances[b];for(var d in a)a[d].createdAt-this._epoch>this._maxAge&&a[d].expire()}},flush:function(){for(var a=0,b=this._instances.length;a<b;++a)this._instances[a].flush()}}).methods({_persist:function(a,b){this.store[a]={value:b.data(),accessCount:1,lastAccess:new Date},this.size++,this.constructor._currentSize++},_touch:function(a){var b=new Date;this.store[a].accessCount++,this.store[a].createdAt=b,this.store[a].lastAccess=b-this.constructor._epoch},_eject:function(){this.size--,this.constructor._currentSize--},eject:function(){var a,b=new Date-this.constructor._epoch;for(var c in this.store)this.store[c].lastAccess<b&&(a=c,b=this.store[c].lastAccess);delete this.store[a],this._eject()},flush:function(){this.constructor._currentSize-=this.size,this.store={},this.size=0},get:function(a){var b=typeof a,c=this.keyNames[b];b==="string"&&(a=a.toLowerCase());var d=c+"_"+a;return this.store[d]?(this._touch(d),new this.klass(this.store[d].value)):null},getMulti:function(a){var b=[],c=[];for(var d=0,e=a.length;d<e;++d){var f=this.get(a[d]);f?b.push(f):c.push(a[d])}return{hits:new twttr.anywhere.api.util.BaseCollection(b),misses:c}},cache:function(a,b){b=b||{};var c=this.shouldCacheAssociated;twttr.is.def(b.shouldCacheAssociated)&&(c=b.shouldCacheAssociated),this.constructor.isAtCapacity()&&this.constructor.eject();var d,e,f;for(var g=0,i=this.keys.length;g<i;++g)f=this.keys[g].name,d=a[f]||"",this.keys[g].type==="string"&&(d=d.toLowerCase()),e=f+"_"+d,this._persist(e,a);if(c){var j=a.constructor._registry;if(j)for(var k in j){var l=a[k];l&&this.cacheAssociated(l)}}return a},cacheAssociated:function(a){if(a instanceof twttr.anywhere.api.util.BaseCollection&&a.length()){a=a.array;var b=a[0].constructor._cache;if(b)for(var c=0,d=a.length;c<d;++c)b.cache(a[c])}else{var b=a.constructor._cache;b&&b.cache(a)}},expire:function(a,b){b=b||{};var c=this.shouldExpireAssociated;twttr.is.def(b.shouldExpireAssociated)&&(c=b.shouldExpireAssociated);var d,e;for(var f=0,g=this.keys.length;f<g;++f)e=a[this.keys[f]]+"",d=d||this.store[e],delete this.store[e],this._eject();if(d){if(c){var i=a.constructor._registry;if(i)for(var j in i){var k=a[j];k&&this.expireAssociated(k)}}return!0}return!1},expireAssociated:function(a){if(a instanceof twttr.anywhere.api.util.BaseCollection&&a.length()){a=a.array;var b=a[0].constructor._cache;if(b)for(var c=0,d=a.length;c<d;++c)b.expire(a[c])}else{var b=a.constructor._cache;b&&b.expire(a)}}});twttr.augmentString("twttr.anywhere.api.util.expireObject",function(a){this.constructor._cache.expire(this,a)}),twttr.augmentString("twttr.anywhere.api.util.cacheObject",function(a){this.constructor._cache.cache(this,a)}),a(b)})}),provide("bluejs/util/request_cache",function(a){using(function(){var b={},c=twttr.klass("twttr.anywhere.api.util.RequestCache",function(){this.store={}}).statics({DEFAULT_TTL:3e5}).methods({clear:function(){this.store={}},inject:function(a,b,c,d){var e={response:c,timestamp:new Date};return d&&(e.RTL=d),this.store[twttr.anywhere.api.util._createRequestKey(a,b)]=e,!0},put:function(a,c,d,e){return a in b?this.inject.apply(this,arguments):!1},get:function(a,b){var c=twttr.anywhere.api.util._createRequestKey(a,b),d,e=this.store[c];if(e){if(!(e.RTL!==undefined&&e.RTL===0||new Date-e.timestamp>this.constructor.DEFAULT_TTL))return e.RTL!==undefined&&e.RTL--,e.response;delete this.store[c]}return null},expire:function(a){for(var b in this.store)b.match(a)&&delete this.store[b]},writeThroughCallback:function(a,b,c){return twttr.bind(this,function(d){this.put(a,b,d),c(d)})}});a(c)})}),provide("bluejs/util/helpers",function(a){using(function(){twttr.klass("twttr.anywhere.api.util.EventChain",function(){}).methods(twttr.EventProvider);var b={cast:!0,cancel:!0,success:!0,complete:!0,timeout:!0,error:!0,before:!0,eventName:!0,cacheOptions:!0},c=["phxcom"];twttr.augmentObject(twttr.anywhere.api.util,{chain:new twttr.anywhere.api.util.EventChain,noop:function(){},defaultTrigger:"current_user",camelize:function(){var a={};return function(b){var c=a[b];return c||(c=b.replace(/_(.)/g,function(a,b){return b.toUpperCase()}),a[b]=c),c}}(),filterOptions:function(a,b){var d={},e=a.concat(c);for(var f=0,g=e.length;f<g;++f){var i=e[f];twttr.is.def(b[i])&&(d[i]=b[i])}return d},underscore:function(){var a={};return function(b){var c=a[b];return c||(c=b.replace(/([a-z])([A-Z])/g,function(a,b,c){return(b+"_"+c).toLowerCase()}),a[b]=c),c}}(),buildCollection:function(a,b){var c=new twttr.anywhere.api.util.BaseCollection;for(var d=0,e=b.length;d<e;++d)c.push(new a(b[d]));return c},traverse:function(a,b){if(!b.length)return a;var c=b.shift();if(twttr.is.def(a[c])&&!twttr.is.nil(a[c]))return twttr.anywhere.api.util.traverse(a[c],b);var d=twttr.anywhere.api.util.traverseCurrentTrends(a,c);return d?d:null},traverseCurrentTrends:function(a,b){if(b=="current_trends")for(key in a)if(a.hasOwnProperty(key))return a[key];return null},cleanParams:function(a){var c={};for(var d in a)b[d]||(c[d]=a[d]);return c},optify:function(a){var b={success:twttr.anywhere.api.util.noop,error:twttr.anywhere.api.util.noop,complete:twttr.anywhere.api.util.noop};return a?twttr.is.fn(a)?twttr.merge({},b,{success:a}):twttr.merge({},b,a):b},useStringIdentifier:function(a,b){var c=b+"_str";if(!a)return;a[c]?(a[b]=a[c].toString(),delete a[c]):a[b]&&(a[b]=a[b].toString())},normalizePromotedTweet:function(a){if(a.promoted_content){var b=a.promoted_content;delete a.promoted_content,a=$.extend(a,b),a.socialContext=a.social_context,delete a.social_context}else if(a.entities&&a.entities.promoted_content){var b=a.entities.promoted_content;delete a.entities.promoted_content,a=$.extend(a,b)}return a},serializeArgs:function(a){var b="";for(var c=0,d=a.length;c<d;++c){var e=a[c],f=[];if(typeof e=="object"){for(var g in e)f.push(g);f.sort();for(var i=0,j=f.length;i<j;++i)b+=f[i]+e[f[i]]}else b+=JSON.stringify(e)}return b},_createRequestKey:function(a,b){return JSON.stringify([a,twttr.anywhere.api.util.serializeArgs(b)])},sanitize:function(a){if(!a)return a;var b=["\0","‎","‏","\u2028","\u2029","‪","‫","‬","‭","‮","￾","﻿","￿"],c;for(c=0;c<b.length;c++)a=a.replace(new RegExp(b[c],"g"),"");return a},returnClassFromType:function(a){return twttr.is.array(a)?[twttr.anywhere.api.models[a[0]]]:twttr.anywhere.api.models[a]},genEventName:function(){return"chain_"+(new Date).getTime()+Math.random()*1e3},proxyNameFromType:function(a){return a===undefined?null:a===null||twttr.is.array(a)?"Collection":a},makeRemoteRequest:function(a,b,c,d){var e=this,f,g=b;d=d||{},f=typeof c=="function"?{success:c}:c,(new twttr.anywhere.api.util.RemoteRequest(twttr.merge({methodName:a,args:b,callbacks:f},d))).send()},callMethod:function(a){function j(c){c.packed_response_type?c.available_features&&d.inject("account/available_features",{},c.available_features,1):a.dataSource.shift();var e=a.dataSource.length?twttr.anywhere.api.util.traverse(c,a.dataSource):c,f=!twttr.is.def(e)||twttr.is.nil(e),g;twttr.is.array(b)?g=f?new twttr.anywhere.api.util.BaseCollection:twttr.anywhere.api.util.buildCollection(b[0],e):f?g=null:g=b?new b(e):e,setTimeout(function(){a.options.success(g,c)},0)}var b,c=twttr.anywhere.api.util.RemoteRequest.priorities.NORMAL,d=twttr.anywhere.api.cache,e=!0,f={};a.options&&(b=a.options.cast,delete a.options.cast,a.options.headers&&(f=a.options.headers,delete a.options.headers),a.options.priority&&(c=a.options.priority,delete a.options.priority),a.options.useRequestCache&&(e=a.options.useRequestCache,delete a.options.useRequestCache)),b=b||a.cast;var g=a.params[a.params.length-1];twttr.is.object(g)&&(a.params[a.params.length-1]=twttr.anywhere.api.util.cleanParams(g));var i;if(d&&e&&(i=d.get(a.url,a.params)))j(i);else{var k={before:a.options.before,success:d?d.writeThroughCallback(a.url,a.params,j):j,error:a.options.error,complete:a.options.complete,timeout:a.options.timeout,cancel:a.options.cancel};twttr.anywhere.api.util.makeRemoteRequest(a.url,a.params,k,{headers:f,priority:c})}},chainableFn:function(a,b){function d(b,e){d._curry&&b instanceof twttr.anywhere.api.util.BaseCollection&&(d._curry instanceof twttr.anywhere.api.util.BaseCollection?b=b.concat(d._curry):b.push(d._curry)),a(b,{response:e}),twttr.anywhere.api.util.chain.trigger(c,[b])}var c;return b.eventName?(c=b.eventName,delete b.eventName):c=twttr.anywhere.api.util.genEventName(),d.event=c,d},cacheFn:function(a,b){return function(c){b=b||{};var d;if(c instanceof twttr.anywhere.api.util.BaseCollection){var e=c.toArray();for(var f=0,g=e.length;f<g;++f)twttr.is.object(e[f])&&e[f].constructor._isModel&&e[f].constructor.isCacheable()&&(d=e[f].constructor._cache.get(e[f].toParam()),b.skipOverwrite&&d?e[f]=d:e[f].cache(b))}else c instanceof twttr.anywhere.api.models.Base&&c.constructor.isCacheable()&&(d=c.constructor._cache.get(c.toParam()),b.skipOverwrite&&d?c=d:c.cache(b));a.apply({},arguments)}},expiryFn:function(a){return function(b){if(b instanceof twttr.anywhere.api.util.BaseCollection){var c=b.toArray();for(var d=0,e=c.length;d<e;++d)c[d].constructor._isModel&&c[d].constructor.isCacheable()&&c[d].expire()}else b instanceof twttr.anywhere.api.models.Base&&b.constructor.isCacheable()&&b.expire();a.apply({},arguments)}},writeThroughFn:function(a,b,c,d){var e=function(a,b){var e;for(var f in b)e=b[f],twttr.is.fn(e)&&(e=e.apply(c,[a].concat(d))),a.sync(f,e)};return function(c){if(c instanceof twttr.anywhere.api.util.BaseCollection){var d=c.toArray();for(var f=0,g=d.length;f<g;++f)d[f].constructor._isModel&&d[f].constructor.isCacheable()&&e(d[f],b)}else c instanceof twttr.anywhere.api.models.Base&&c.constructor.isCacheable()&&e(c,b);a.apply({},arguments)}},triggerFn:function(a,b,c){return function(d){a.trigger(b,arguments),c.apply({},arguments)}},decorateCallbacks:function(a,b,c){var d,e=["success","error","complete","before"];for(var f=0,g=e.length;f<g;++f)d=e[f],c.callbacks[d]=twttr.anywhere.api.util.triggerFn(a,b+"_"+d,c.callbacks[d],c.args)},chainableMethod:function(a,b,c){twttr.is.fn(b)&&(c=b,b={});var d=twttr.anywhere.api.util.proxyNameFromType(a),e=function(){var e={},f=this instanceof twttr.anywhere.api.models.Base?this.constructor:this,g=Array.prototype.slice.call(arguments),i=g.pop();i!==undefined&&i!==null&&(twttr.is.array(i)||!twttr.is.object(i)||a===null&&twttr.is.fn(i)?g.push(i):twttr.is.fn(i)?e.success=i:e=i);var j=[].concat(b.decorators||[]);e.success=e.success||twttr.anywhere.api.util.noop,e.error=e.error||twttr.anywhere.api.util.noop,e.before=e.before||twttr.anywhere.api.util.noop,e.complete=e.complete||twttr.anywhere.api.util.noop,b.writes?(j.push({decorator:twttr.anywhere.api.util.writeThroughFn,args:[b.writes,this,g]}),(!twttr.is.def(b.cache)||b.cache!==!1)&&j.push({decorator:twttr.anywhere.api.util.cacheFn,args:[{skipOverwrite:!0}]})):((!twttr.is.def(b.cache)||b.cache!==!1)&&j.push({decorator:twttr.anywhere.api.util.cacheFn,args:[e.cacheOptions]}),b.expire&&j.push({decorator:twttr.anywhere.api.util.expiryFn,args:[]}));var k,l;b.triggers&&(l=twttr.is.fn(b.triggers)?b.triggers(this):b.triggers,b.triggeredBy?k=twttr.anywhere.api.models[b.triggeredBy]:k=f,twttr.anywhere.api.util.decorateCallbacks(k,l,{callbacks:e,args:g})),e=twttr.anywhere.api.util.optify(e),j.push({decorator:twttr.anywhere.api.util.chainableFn,args:[e]}),e.cast=twttr.anywhere.api.util.returnClassFromType(a),g.push(e);var m=null;f._isModel&&f.isCacheable()&&b.cacheLookup&&(m=b.cacheLookup.apply(f,g));if(m&&m.partialHit){for(var n=0,o=j.length;n<o;++n)e.success=j[n].decorator.apply(this,[e.success].concat(j[n].args));e.success._curry=m.curry,c.apply(this,m.args)}else if(m)e.success=twttr.anywhere.api.util.chainableFn(e.success,e),setTimeout(function(){e.success(m)},0);else{for(var n=0,o=j.length;n<o;++n)e.success=j[n].decorator.apply(this,[e.success].concat(j[n].args));m=c.apply(this,g)}return!e.eventName&&d&&this.constructor!=twttr.anywhere.api.util.BaseCollection?new twttr.anywhere.api.proxies[d](e.success.event):m};return e.proxyName=d,e.returnType=a,e},aliasMethod:function(a,b){var c=twttr.anywhere.api.util.proxyNameFromType(a),d=function(){return b.apply(this,arguments)};return d.proxyName=c,d},proxyModel:function(a,b){var c=a._name.replace("models","proxies"),d=twttr.klass(c,b);for(var e in a.prototype)(function(){var b=e;d.prototype[b]=function(){var c=Array.prototype.slice.call(arguments),d=!!a.prototype[b].proxyName,e;if(d){e=twttr.anywhere.api.util.genEventName();var f=c.pop(),g={};f!==null&&f!==undefined&&(twttr.is.array(f)||!twttr.is.object(f)||a==twttr.anywhere.api.util.BaseCollection&&twttr.is.fn(f)?c.push(f):g=f),g=twttr.anywhere.api.util.optify(g),g.eventName=e,c.push(g)}var i=this;twttr.anywhere.api.util.chain.one(this.event,function(d,e){a.prototype[b].apply(e,c)});if(d)return new twttr.anywhere.api.proxies[a.prototype[b].proxyName](e)}})();return d},protoExtend:function(a){function b(){}return b.prototype=a,new b}}),a()})}),provide("bluejs/util/model",function(a){using(function(){twttr.augmentObject(twttr.anywhere.api.util,{model:function(a,b){function d(a){return twttr.anywhere.api.util.underscore(a).toLowerCase()}function e(a,b){b=b||d(a),c._registry||(c._registry={}),c._registry[b]=a}b||(b=function(a){twttr.anywhere.api.models.Base.call(this,a)});var c=twttr.klass(a,b).subclassOf(twttr.anywhere.api.models.Base).statics({_eventing:twttr.aug({},twttr.EventProvider)}).statics({_isModel:!0,_uniqueKey:"id",_extensionMethods:[],trigger:function(){this._eventing.trigger.apply(this._eventing,arguments)},_bindWrapper:function(b,c){return function(a){a.type=b,c.apply({},arguments)}},_bind:function(a,b,c){twttr.is.fn(c)&&(c={success:c});var d=this,e=b.split("."),f,g;f=e.shift(),e=e.join(".");for(var i in c)(function(){var b=i;g=f+"_"+b,e!==""&&(g+="."+e),a.call(d._eventing,g,d._bindWrapper(f,c[b]))})()},bind:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._bind(this._eventing.bind,c[d],b)},one:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._bind(this._eventing.one,c[d],b)},unbind:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._unbind(c[d],b)},_unbind:function(a,b){var c=["success","error","complete","before"];if(a[0]=="."){this._eventing.unbind(a,b);return}var d=this,e=a.split("."),f,g;f=e.shift(),e=e.join(".");for(var i=0,j=c.length;i<j;++i)(function(){var a=c[i];g=f+"_"+a,e!==""&&(g+="."+e),d._eventing.unbind(g,b)})()},identify:function(a){var b=a;return a instanceof this&&(b=a[this._uniqueKey]),b},isCacheable:function(){return!!twttr.anywhere.api.config.cacheObjects&&!!this._cache}}).methods({toParam:function(){return this.constructor.identify(this)},reload:twttr.anywhere.api.util.aliasMethod(a.split(".").pop(),function(){var a=[this.constructor.identify(this)].concat(Array.prototype.slice.apply(arguments));return this.constructor.find.apply(this.constructor,a)})});return c.hasMany=function(a,b){return b=b||d(a),c._registry||(c._registry={}),c._registry[b]=[a],c},c.belongsTo=function(a,b){return e(a,b),c},c.hasOne=function(a,b){return e(a,b),c},c.cache=function(a){return new twttr.anywhere.api.util.ObjectCache(c,a),c.prototype.cache=twttr.anywhere.api.util.cacheObject,c.prototype.expire=twttr.anywhere.api.util.expireObject,c},c.uniqueKey=function(a){return c._uniqueKey=a,c},c.extend=function(a){return c._extensionMethods.push(a),c},c}}),a(twttr.anywhere.api.util.model)})}),provide("bluejs/util/remote_request",function(a){using(function(){var b=/localhost\.twitter\.com/,c=twttr.klass("twttr.anywhere.api.util.RemoteRequest",function(a){this.id=++this.constructor.requestId,this.methodName=a.methodName,this.requestParameters=a.args||[],this.constructor.piggybackWhitelist[this.methodName]?this.signature=twttr.anywhere.api.util._createRequestKey(this.methodName,this.requestParameters):this.signature=this.id,this.priority=a.priority||this.constructor.priorities.NORMAL,this.headers=a.headers||{},this.retryCount=0,this.timeoutTimer=null,this.pendingRequestId=null;var b=this,c=twttr.anywhere.api.util.noop;this.requestCallbacks={before:a.callbacks.before||c,success:a.callbacks.success||c,error:a.callbacks.error||c,complete:a.callbacks.complete||c,timeout:a.callbacks.timeout||function(a){a.wait()},cancel:a.callbacks.cancel||c};var d=this.requestCallbacks.error;this.requestCallbacks.error=function(c){function e(b,c){trackClient({page:"api",action:"error"},{status_code:b,item_names:["methodName="+a.methodName,"args="+JSON.stringify(a.args||[]),"X-MID="+c.getResponseHeader("X-MID"),"X-Transaction="+c.getResponseHeader("X-Transaction"),"X-RateLimit-Remaining="+c.getResponseHeader("X-RateLimit-Remaining"),"X-RateLimit-Class="+c.getResponseHeader("X-RateLimit-Class")]})}if(c.status===b.constructor.RATE_LIMIT_STATUS){var f=b.constructor.apiErrorCodeFromResponse(c);f===b.constructor.RATE_LIMIT_API_CODE?twttr.anywhere.api.globalEvents.trigger("rate_limited"):f==null&&(twttr.anywhere.api.globalEvents.trigger("unknown_error"),c.xhr&&e(400,c.xhr))}twttr.loggedIn&&c.status==b.constructor.UNAUTHORIZED_STATUS&&c["response"]["error"]=="Could not authenticate you."&&window.location.reload(),d.apply({},arguments),c.status===b.constructor.FORBIDDEN_STATUS&&c.xhr&&e(403,c.xhr)};var e=this.constructor.timings[this.methodName];if(!twttr.is.def(e)||e.totalRequests>this.constructor.sampleWindow)this.constructor.timings[this.methodName]={timeTotal:0,totalRequests:0};this.constructor.timings[this.methodName].totalRequests++}).statics({RATE_LIMIT_STATUS:400,UNAUTHORIZED_STATUS:401,FORBIDDEN_STATUS:403,RATE_LIMIT_API_CODE:88,useDynamicBackoff:!1,requestId:1,sampleWindow:15,maxRetries:3,maxProcessing:3,defaultRequestLatency:5e3,latencySteps:[5e3,1e4,2e4],priorities:{IMMEDIATE:4,HIGH:3,NORMAL:2,LOW:1},hosts:{},timings:{},processing:0,pipeline:[],pending:{},piggybackWhitelist:{"activity/activity_by_people_i_follow":!0},apiErrorCodeFromResponse:function(a){return a.response&&a.response.errors&&a.response.errors.length&&a.response.errors[0]?a.response.errors[0].code:null},isReady:function(a){if(window.isTestMode)throw new Error("JS API methods must be stubbed when used in tests: "+a.url);return twttr.is.def(twttr.anywhere.remote.server)},isBacklogged:function(){return this.pipeline.length>0},isCapped:function(){return!1},isAvailable:function(){return this.processing<this.maxProcessing},isIdle:function(){return this.processing===0},flush:function(){if(!this.isBacklogged())return;var a=this.maxProcessing-this.processing;for(var b=0,c=a;b<c;++b)this.reschedule()},reschedule:function(){if(!this.isBacklogged())return;var a=0,b=this.pipeline[a];for(var c=0,d=this.pipeline.length;c<d;++c)this.pipeline[c].request.priority>b.request.priority&&(a=c,b=this.pipeline[c]);this.pipeline.splice(a,1),b.runner()}}).methods({setStart:function(a){this.startedOn=a},setEnd:function(a){this.endedOn=a,this.constructor.timings[this.methodName].timeTotal+=this.latency()},latency:function(){return this.endedOn-this.startedOn},dynamicBackoff:function(){var a=this.constructor.timings[this.methodName];return a.timeTotal!==0?Math.floor(a.timeTotal/a.totalRequests):this.constructor.defaultRequestLatency},incrementalBackoff:function(){return this.constructor.latencySteps[this.retryCount]},_stop:function(){this["stopped_"+this.retryCount]=!0,delete this.constructor.pending[this.signature],this.pendingRequestId&&twttr.anywhere.api.cancelApiRequest(this.pendingRequestId),this._clearTimer()},_clearTimer:function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},_startTimer:function(a){var b=this;a=!!a;var c=null;a&&(c=this.constructor.useDynamicBackoff?this.dynamicBackoff:this.incrementalBackoff),this._clearTimer(),this.timeoutTimer=setTimeout(function(){var a=b.constructor.pending[b.signature];for(var c=0,d=a.length;c<d;++c)a[c].requestCallbacks.timeout(b)},a?c.call(this):this.constructor.defaultRequestLatency)},cancel:function(){var a=this.constructor.pending[this.signature];if(a.length>1)for(var b=0,c=a.length;b<c;++b)a[b].id===this.id&&a.splice(b,1);else this._stop();this.requestCallbacks.cancel(this)},retry:function(){var a=this.constructor.pending[this.signature];if(a.length>1)for(var b=0,c=a.length;b<c;++b)a[b].id===this.id&&a.splice(b,1);else this._stop();this.retryCount++;if(this.retryCount>this.constructor.maxRetries){var d={response:{error:"Connection timeout"}};this.requestCallbacks.error(d),this.requestCallbacks.complete(d);return}this.signature=this.signature+"_"+this.retryCount,this.send()},wait:function(){this._startTimer()},request:function(a,b){if(!this.constructor.isReady(a)&&!a.internal||this.constructor.isCapped()){this.constructor.pipeline.push({request:this,runner:b});return}this._run(b)},_run:function(a){this.setStart(new Date),this._startTimer(),this.constructor.processing++,a.call(this)},responseHandler:function(a,b){var c=this;return function(d){c.constructor.processing--,c.constructor.isAvailable()&&c.constructor.isBacklogged()&&c.constructor.reschedule(),c.setEnd(new Date),c["stopped_"+a]||b(d)}},_buildRequestCallback:function(){var a=this,b=this.retryCount;return this.responseHandler(b,function(b){a._clearTimer();var c=a.constructor.pending[a.signature],d=b&&b.error?"error":"success";for(var e=0,f=c.length;e<f;++e)c[e].requestCallbacks[d].apply({},[b,a]),c[e].requestCallbacks.complete.apply({},[b,a]);delete a.constructor.pending[a.signature]})},send:function(){function d(){var b=a._buildRequestCallback(),d=Array.prototype.slice.apply(a.requestParameters);a.requestCallbacks.before.apply({},[a]),a.pendingRequestId=twttr.anywhere.api.makeRequest(c,d,b)}var a=this,c=twttr.anywhere.api.endpoints[this.methodName];if(!c)throw new Error("The endpoint, "+this.methodName+" is not a registered API method");if(this.constructor.pending[this.signature]){this.constructor.pending[this.signature].push(this),this.requestCallbacks.before.apply({},[this]);return}this.constructor.pending[this.signature]=[this],c=twttr.merge({},c,{headers:this.headers}),(twttr.domains.local.match(b)||c.use_host_in_prod)&&c.host&&!this.constructor.hosts[c.host]?(url=twttr.proto+"://"+c.host+"/receiver.html",twttr.createIframe(url,function(){a.constructor.hosts[c.host]=this,a.request(c,d)})):this.request(c,d)}});a(c)})}),provide("bluejs/util/base_collection",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=function(a){return b(null,function(){var b=Array.prototype.slice.call(arguments,0),c=b.pop(),d=a.apply(this,b);return c.success(d),d})},d=twttr.klass("twttr.anywhere.api.util.BaseCollection",function(a){this.array=a||[]}).methods({each:c(function(a){for(var b=0,c=this.array.length;b<c;++b)a(this.array[b],b);return this}),sort:c(function(){return this.array.sort.apply(this.array,arguments),this}),isEmpty:function(){return this.array.length===0},toArray:function(){return this.array},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(a,b){if(arguments.length!==2)throw"Exception: Wrong number of arguments, 3 required";for(var c=0,d=this.array.length;c<d;++c)a=b(a,this.array[c]);return a},join:function(a,b){twttr.is.fn(a)&&(b=a,a="");var c=this.array.join(a);return b&&b(c),c},concat:function(a){return a instanceof this.constructor&&(a=a.array),new this.constructor(this.array.concat(a))},find:c(function(a){for(var b=0,c=this.array.length;b<c;++b)if(a(this.array[b],b))return this.array[b];return null}),filter:c(function(a){var b=new this.constructor;for(var c=0,d=this.array.length;c<d;++c)a(this.array[c],c)&&b.push(this.array[c]);return b}),some:function(a){for(var b=0,c=this.array.length;b<c;++b)if(a.call(this.array,this.array[b],b,this.array))return!0;return!1},every:function(a){for(var b=0,c=this.array.length;b<c;++b)if(!a.call(this.array,this.array[b],b,this.array))return!1;return!0},map:c(function(a){var b=new this.constructor;for(var c=0,d=this.array.length;c<d;++c)b.push(a(this.array[c],c));return b}),none:function(a){var b=this.any(a);return!b},length:function(){return this.array.length},get:c(function(a,b){var c=this.array[a];return b&&b(c),c}),push:function(){return arguments[0]instanceof this.constructor?this.array.push.apply(this.array,arguments[0].array):this.array.push.apply(this.array,arguments),this},pop:function(a,b){var c;twttr.is.fn(a)&&(b=a,a=undefined);if(a){var d=this.array.length-a;c=new this.constructor(this.array.slice(d)),this.array=this.array.slice(0,d)}else c=this.array.pop();return b&&b(c),c},shift:function(){return this.array.shift()},unshift:function(){return arguments[0]instanceof this.constructor?this.array.unshift.apply(this.array,arguments[0].array):this.array.unshift.apply(this.array,arguments),this},first:c(function(a,b){a||(a=1),twttr.is.fn(a)&&(b=a,a=1);var c;return a==1?c=this.array[0]:c=new this.constructor(this.array.slice(0,a)),b&&b(c),c}),slice:function(a,b){var c=[a];b!==undefined&&b!==null&&c.push(b);var d=this.array.slice.apply(this.array,c);return new this.constructor(d)},reverse:c(function(){return new this.constructor(this.array.reverse())}),last:c(function(a,b){a||(a=1),twttr.is.fn(a)&&(b=a,a=1);var c;return a==1?c=this.array[this.array.length-1]:c=new this.constructor(this.array.slice(this.array.length-a)),b&&b(c),c})});a(d)})}),provide("bluejs/mixins/status_actions",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.augmentString("twttr.anywhere.api.mixins.StatusActions",{retweet:c("Status",function(a){return twttr.anywhere.api.models.Status.retweet(this,a)}),favorite:c("Status",function(a){return twttr.anywhere.api.models.Status.favorite(this,a)}),unfavorite:c("Status",function(a){return twttr.anywhere.api.models.Status.unfavorite(this,a)}),reply:c("Status",function(a,b){return twttr.anywhere.api.models.Status.reply(this,a,b)})});a(e)})}),provide("bluejs/mixins/phoenix/user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.filterOptions,e=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.User",function(a){return a.statics({_bulkFollowing:0,startBulkFollowing:function(){this._bulkFollowing++},stopBulkFollowing:function(){this._bulkFollowing--},isBulkFollowing:function(){return this._bulkFollowing>0},findForProfile:b("User",{cacheLookup:function(a,b){var c=this._cache.get(a);if(c){var d={cursor:-1,count:15,user_id:c.id};return(cachedFriends=twttr.API._requestCache.get("statuses/friends",[d]))?(twttr.API._requestCache.inject("statuses/friends",[d],cachedFriends,1),c):!1}return!1},decorators:[{decorator:function(a){return function(b,c){if(c.response.friends){var d={cursor:-1,count:15,user_id:b.id};twttr.API._requestCache.inject("statuses/friends",[d],c.response.friends,1)}if(c.response.recommendations){var e={limit:4,pc:!1,user_id:b.id};twttr.API._requestCache.inject("users/recommendations",[e],c.response.recommendations,1)}if(c.response.timeline){var f={include_entities:1,include_available_features:1,contributor_details:!0,include_rts:!0,user_id:b.id};twttr.decider.isAvailable("platform_enable_cards")&&(f.include_cards=1),twttr.API._requestCache.inject("statuses/user_timeline",[f],c.response.timeline,1)}a.apply({},arguments)}},args:[]}]},function(a,b){var d;twttr.is.string(a)?d={screen_name:a}:d={user_id:a},c({options:b,url:"users/show_for_profile",params:[d],dataSource:["","user"]})})}),a.methods({setWantRetweetsOn:b("User",{expire:!0,triggers:"does_want_retweets",triggerTarget:function(a){return"current_user"}},function(a){c({options:a,url:"friendships/update",params:[twttr.merge(a,{user_id:this.id,retweets:"1"})],dataSource:[""]})}),setWantRetweetsOff:b("User",{expire:!0,triggers:"doesnt_want_retweets",triggerTarget:function(a){return"current_user"}},function(a){c({options:a,url:"friendships/update",params:[twttr.merge(a,{user_id:this.id,retweets:"0"})],dataSource:[""]})})}),a});a(e)})}),provide("bluejs/mixins/phoenix/current_user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.filterOptions,e=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.CurrentUser",function(a){return a.methods({followingFollowersOf:b(["User"],function(a,b){var d={cursor:-1};twttr.is.string(a)?d.screen_name=a:d.user_id=a,c({options:b,url:"users/following_followers_of",params:[twttr.merge(d,b)],dataSource:["","users"]})}),followsInCommonWith:b(["User"],function(a,b){var d={cursor:-1};twttr.is.string(a)?d.screen_name=a:d.user_id=a,c({options:b,url:"users/follows_in_common_with",params:[twttr.merge(d,b)],dataSource:["","users"]})}),updateDiscoverability:b(undefined,function(a,b){c({options:b,url:"users/update_discoverability",params:[twttr.merge(a,{id:this.id})],dataSource:[""]})}),viewPossiblySensitive:b(undefined,function(a){c({options:a,url:"account/view_possibly_sensitive",params:[{}],dataSource:["","view_possibly_sensitive"]})}),updateViewPossiblySensitive:b(undefined,function(a,b){c({options:b,url:"account/update_view_possibly_sensitive",params:[{do_show:a}],dataSource:["","view_possibly_sensitive"]})}),personalizationSettings:b(undefined,function(a){c({options:a,url:"account/personalization_settings",params:[{}],dataSource:[""]})}),updatePersonalizationSettings:b(undefined,function(a,b){c({options:b,url:"account/update_personalization_settings",params:[{use_cookie_personalization:a.use_cookie_personalization,cookie_personalization_prompt_displayed:a.cookie_personalization_prompt_displayed}],dataSource:[""]})}),hasDismissedGeoPromo:b(undefined,function(a){c({options:a,url:"account/has_dismissed_geo_promo",params:[{}],dataSource:["","has_dismissed_geo_promo"]})}),updateHasDismissedGeoPromo:b(undefined,function(a,b){c({options:b,url:"account/update_has_dismissed_geo_promo",params:[{has_dismissed_geo_promo:a}],dataSource:["","has_dismissed_geo_promo"]})}),emailStatus:b(undefined,function(a){c({options:a,url:"account/email_status",params:[{}],dataSource:["","email_status"]})}),emailBounceReset:b(undefined,function(a){c({options:a,url:"bouncers/reset",params:[{}],dataSource:[""]})}),emailResendConfirmation:b(undefined,function(a){c({options:a,url:"account/resend_confirmation_email",params:[{}],dataSource:[""]})}),geoLocation:b(undefined,function(a){c({options:a,url:"account/geo_location",params:[a],dataSource:[""]})})}),twttr.augmentObject(a.prototype.friends,{accept:b("User",{triggers:"acceptFollow",triggeredBy:"User"},function(a,b){c({options:b,url:"friendships/accept",params:[{user_id:a}],dataSource:[""]})}),acceptAll:b("User",function(a){c({options:a,url:"friendships/accept_all",params:[{}],dataSource:["","user"]})}),deny:b("User",function(a,b){c({options:b,url:"friendships/deny",params:[{user_id:a}],dataSource:[""]})}),denyAll:b("User",function(a){c({options:a,url:"friendships/deny_all",params:[{}],dataSource:["","user"]})}),cancel:b("User",{triggers:"cancel_request",triggeredBy:"User"},function(a,b){c({options:b,url:"friendships/cancel",params:[{user_id:a}],dataSource:["","user"]})}),followAll:b(undefined,function(a,b){b=b||{};var d=this,e=[],f=[],g=b.stringifiedIds;for(var i=0,j=a.length;i<j;++i)twttr.is.string(a[i])&&!g?e.push(a[i]):f.push(a[i]);twttr.API.User.findAll(a,{stringifiedIds:g,success:function(a){var g=b.success;b.success=function(_,b){var c={};for(var e=0;e<b.length;++e){var f=b[e];c[f.id]=f}a.each(function(a){var b=c[a.id],d={requestParameters:[{user_id:a.id}]};if(b.is_blocking)return;b.is_protected_follow_request?(twttr.API.User.trigger("follow_request_before",d),twttr.API.User.trigger("follow_request_success",a)):(twttr.API.User.trigger("follow_before",d),twttr.API.User.trigger("follow_success",a))}),g&&g.apply(d,arguments)},c({options:b,url:"friendships/create_all",params:[{user_id:f.join(","),screen_name:e.join(",")}],dataSource:["","bulk_follow_results"]})}})})}),a});a(e)})}),provide("bluejs/mixins/phoenix/status",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.Status",function(a){return a.belongsTo("Status","retweetingStatus"),a.extend(function(){this.isPromoted()&&twttr.anywhere.api.util.PromotedStore.putStatus(this)}),a.statics({search:b(["Status"],function(a,b){b.near&&(b.near=encodeURIComponent(b.near)),b.within&&(b.within=encodeURIComponent(b.within)),d({options:b,url:"search",params:[twttr.merge({q:a},b)],dataSource:["","statuses"]})}),related:b(["RelatedTweets"],function(a,b){var c=$.extend({},b);d({options:b,url:"related_results/show/:id",params:[a,c],dataSource:[""]})})}),a.methods({related:c(["RelatedTweets"],function(a){return twttr.anywhere.api.models.Status.related(this,a)}),isPromoted:function(){return!!this.impressionId},logImpressionIfPromoted:function(){this.isPromoted()&&!this.loggedImpression&&(twttr.API.util.PromotedContent.logImpression(this.impressionId),this.loggedImpression=!0)}}),a});a(f)})}),provide("bluejs/mixins/phoenix/rate_user_recommendation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.RateUserRecommendation",function(a){return a.extend(function(){!this.user.promotedContent||twttr.anywhere.api.util.PromotedStore.putUser(this.user)}),a.statics({rate:b(undefined,function(a){c({options:a,url:"users/send_recommendation_rating",params:[a],dataSource:[""]})})}),a});a(d)})}),provide("bluejs/models/base",function(a){using(function(){var b=0,c=twttr.klass("twttr.anywhere.api.models.Base",function(a){if(!a)return null;if(a.constructor.uber&&a.constructor.uber.constructor==twttr.anywhere.api.models.Base)return a;this.attributes={};var c=this.constructor._registry;for(var d in a){this.data(d,a[d]);if(d.indexOf("_")!==0){var e=twttr.anywhere.api.util.camelize(d);if(!this[e]){var f=null,g=!1;if(c&&c[e]){var i=c[e];twttr.is.array(i)?(i=i[0],twttr.is.fn(i)&&(i=i(a))):twttr.is.fn(i)&&(i=i(a)),i&&(f=twttr.anywhere.api.models[i],g=twttr.is.array(c[e]))}g?this[e]=twttr.anywhere.api.util.buildCollection(f,this.data(d)):f?this[e]=new f(this.data(d)):this[e]=this.data(d)}}}if(this.constructor._extensionMethods){var j={};for(var k in this)j[k]=!0;for(var l=0,m=this.constructor._extensionMethods.length;l<m;++l){var n=this.constructor._extensionMethods[l];n.call(this,this)}for(var k in this)if(!twttr.is.def(j[k])){var o=this[k]&&this[k].data&&twttr.is.fn(this[k].data);this.data(twttr.anywhere.api.util.underscore(k),o?this[k].data():this[k])}}this._objectId=++b}).methods({sync:function(a,b){var c=twttr.anywhere.api.util.underscore(a),d=twttr.anywhere.api.util.camelize(a);return b instanceof twttr.anywhere.api.models.Base?this.attributes[c]=b.attributes:this.data(c,b),this[d]=b,this.constructor.isCacheable&&this.constructor.isCacheable()&&this.cache(),b},data:function(a,b){if(typeof a=="string"&&typeof b!="undefined")return this.attributes[a]=b,b;if(typeof a=="object"&&typeof b=="undefined")return twttr.merge(this.attributes,a);if(typeof a=="string"&&typeof b=="undefined")return this.attributes[a];if(typeof a=="undefined"&&typeof b=="undefined")return this.attributes},clone:function(a){var b=$.extend({},this);b.attributes=$.extend({},this.attributes);if(a)for(var c in a)b.sync(c,a[c]);return b}});a(c)})}),provide("bluejs/models/user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.noop,g=twttr.anywhere.api.util.defaultTrigger,i=twttr.anywhere.api.models.Base,j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.User",function(a){function b(a,b){return a.length!=0&&b.length/a.length>.3}a.name=twttr.anywhere.api.util.sanitize(a.name);if(a.name&&twttr.isRTL){var c=a.name.match(twttr.constants.regexps.rtlChar);if(!c||!b(a.name,c))a.name="‪"+a.name+"‬"}a.description=twttr.anywhere.api.util.sanitize(a.description),window.location.protocol==="https:"&&twttr.cdnBase&&(a.profile_image_url&&a.profile_image_url.indexOf("http:")===0&&(a.profile_image_url=twttr.assets.getPathFromAbsoluteURL(a.profile_image_url,{isSSL:!0,isVersioned:!1})),a.profile_background_image_url&&a.profile_background_image_url.indexOf("http:")===0&&(a.profile_background_image_url=twttr.assets.getPathFromAbsoluteURL(a.profile_background_image_url,{isSSL:!0,isVersioned:!1}))),twttr.anywhere.api.models.Base.call(this,a);var d=this;this.lists=function(){return twttr.anywhere.api.models.User.prototype.lists.apply(d,arguments)},this.lists.find=function(){return twttr.anywhere.api.models.User.prototype.lists.find.apply(d,arguments)}}).uniqueKey("screenName").cache({keys:[{name:"id",type:"number"},{name:"screenName",type:"string"}]}).hasOne("Status").statics({find:b("User",{cacheLookup:function(a,b){var c=this._cache.get(a);return c?c:!1}},function(a,b){var c;twttr.is.string(a)?c={screen_name:a}:c={user_id:a},d({options:b,url:"users/show",params:[c],dataSource:["user"]})}),findAll:b(["User"],{cacheLookup:function(a,b){if(b.reload)return delete b.reload,!1;var c=this._cache.getMulti(a),d=c.hits;return c.misses.length?d.isEmpty()?!1:{partialHit:!0,curry:d,args:[c.misses,b]}:d}},function(a,b){var c=[],e=[],f=b&&b.stringifiedIds;for(var g=0,i=a.length;g<i;++g)twttr.is.string(a[g])&&!f?c.push(a[g]):e.push(a[g]);d({options:b,url:"users/lookup",params:[{user_id:e.join(","),screen_name:c.join(",")}],dataSource:["users"]})}),findAllCached:function(a){var b=this._cache.getMulti(a);return b.hits},current:b("CurrentUser",function(a){d({options:a,url:"account/verify_credentials",params:[],dataSource:["user"]})}),typeaheadSocial:b(undefined,function(a,b){d({options:b,url:"users/typeahead_social",params:[twttr.merge(b,{prefetch:!0})],dataSource:["","users"]})}),typeaheadGlobal:b(undefined,function(a,b){d({options:b,url:"users/typeahead_global",params:[twttr.merge(b,{q:a})],dataSource:["users"]})}),search:b(["User"],function(a,b){d({options:b,url:"users/search",params:[twttr.merge(b,{q:a})],dataSource:["users"]})}),recommendedUsers:b(["UserRecommendation"],function(a){twttr.abdecider.choose("wtf_test_ranker_141"),d({options:a,url:"users/recommendations",params:[a],dataSource:[""]})}),recommendedUsers2:b(["UserRecommendation"],function(a){twttr.abdecider.choose("wtf_test_ranker_141"),d({options:a,url:"users/recommendations",params:[twttr.merge({expanded_results_format:1},a)],dataSource:["","users"]})})}).methods({bind:twttr.anywhere.api.util.bindMethod,favorites:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"favorites/:id",params:[this.id,a],dataSource:["statuses"]})}),timeline:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/user_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),profileTimeline:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/profile_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),media:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/media_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),followingTweets:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/following_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),followers:b(["User"],function(a){d({options:a,url:"statuses/followers",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","users"]})}),friends:b(["User"],function(a){d({options:a,url:"statuses/friends",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","users"]})}),activity:b(["Activity"],function(a){d({options:a,url:"activity/activity_by_user",params:[twttr.merge(a,{user_id:this.id})],dataSource:[""]})}),friendIds:b(undefined,function(a){d({options:a,url:"friends/ids",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","ids"]})}),followerIds:b(undefined,function(a){d({options:a,url:"followers/ids",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","ids"]})}),_isFollowing:function(a,b,c){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:a,user_b:b}],{success:c.success,error:c.error})},isFollowing:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this._isFollowing(this.id,c,b)},isFriend:function(a,b){this.isFollowing(a,b)},isFollowedBy:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this._isFollowing(c,this.id,b)},isMutual:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a),d=b.success;return b.success=function(a){d(a.following&&a.followedBy)},this.relationshipWith(a,b)},relationshipWith:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=this,d=twttr.anywhere.api.models.User.identify(a),e={source_id:this.id};twttr.is.string(d)?e.target_screen_name=d:e.target_id=d,twttr.anywhere.api.util.makeRemoteRequest("friendships/show",[e],{success:function(a){var d={following:a.relationship.source.following,followedBy:a.relationship.source.followed_by};c instanceof twttr.anywhere.api.models.CurrentUser&&(d.notifications=a.relationship.source.notifications_enabled,d.blocking=a.relationship.source.blocking,d.wantRetweets=a.relationship.source.want_retweets,d.canDM=a.relationship.source.can_dm),b.success(d)},error:b.error})},block:b("User",{expire:!0,triggers:"block",triggerTarget:g},function(a){d({options:a,url:"blocks/create",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),unblock:b("User",{expire:!0,triggers:"unblock",triggerTarget:g},function(a){d({options:a,url:"blocks/destroy",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),similarUsers:b(["UserRecommendation"],function(a){d({options:a,url:"users/recommendations",params:[twttr.merge(a,{user_id:this.id})],dataSource:[""]})}),directMessage:c("DirectMessage",function(a,b){return twttr.anywhere.api.models.DirectMessage.send(this.id,a,b)}),dm:c("DirectMessage",function(a,b){return this.directMessage(a,b)}),follow:b("User",{expire:!0,writes:{followRequestSent:function(a){return a["protected"]?!0:!1},following:function(a){return a["protected"]?!1:!0}},triggers:function(a){return a["protected"]&&!a.following?"follow_request":"follow"},triggerTarget:g},function(a){d({options:a,url:"friendships/create",params:[$.extend({user_id:this.id},a)],dataSource:["user"]})}),unfollow:b("User",{expire:!0,writes:{followRequestSent:!1,following:!1},triggers:"unfollow",triggerTarget:g},function(a){var b=this["protected"]&&this.followRequestSent?"friendships/cancel":"friendships/destroy";d({options:a,url:b,params:[$.extend({user_id:this.id},a)],dataSource:["user"]})}),report:b("User",{expire:!0,triggers:"report",triggerTarget:g},function(a){d({options:a,url:"report_spam",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),setNotificationsOn:b("User",{expire:!0,writes:{notifications:!0},triggers:"subscribe",triggerTarget:g},function(a){d({options:a,url:"friendships/update",params:[{user_id:this.id,device:"1"}],dataSource:["user"]})}),setNotificationsOff:b("User",{expire:!0,writes:{notifications:!1},triggers:"unsubscribe",triggerTarget:g},function(a){d({options:a,url:"friendships/update",params:[{user_id:this.id,device:"0"}],dataSource:["user"]})}),lists:b(["List"],function(a){d({options:a,url:":user/lists",params:[this.id,a],dataSource:["lists_list","lists"]})}),allLists:b(["List"],function(a){a.user_id=this.id,a.reverse=!0,d({options:a,url:"lists/all",params:[a],dataSource:["lists_list"]})}),memberships:b(["List"],function(a){d({options:a,url:":user/lists/memberships",params:[this.id,a],dataSource:["lists_list","lists"]})}),subscriptions:b(["List"],function(a){d({options:a,url:":user/lists/subscriptions",params:[this.id,a],dataSource:["lists_list","lists"]})}),contributors:b(["User"],function(a){d({options:a,url:"users/contributors",params:[{id:this.id}],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.User);twttr.klass("twttr.anywhere.api.models.CurrentUser",function(a){twttr.anywhere.api.models.User.call(this,a);var b=this;this.lists.create=function(){return b.constructor.prototype.lists.create.apply(b,arguments)}}).subclassOf(twttr.anywhere.api.models.User).statics({_eventing:twttr.aug({},twttr.EventProvider)}).methods({recommendedUsers:c(["UserRecommendation"],function(a){return twttr.anywhere.api.models.User.recommendedUsers(a)}),recommendedUsers2:c(["UserRecommendation"],function(a){return twttr.anywhere.api.models.User.recommendedUsers2(a)}),inboundActivity:b(["Activity"],function(a){d({options:a,url:"activity/activity_of_me",params:[a],dataSource:[""]})}),networkActivity:b(["Activity"],function(a){d({options:a,url:"activity/activity_by_people_i_follow",params:[a],dataSource:[""]})}),directMessages:b(["DirectMessage"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"direct_messages",params:[a],dataSource:["direct_messages"]})}),dms:c(["DirectMessage"],function(a){return this.directMessages(a)}),conversations:b(["Conversation"],function(a){d({options:a,url:"direct_messages/conversations",params:[a],dataSource:[""]})}),conversationWith:b(["DirectMessage"],function(a){d({options:a,url:"direct_messages/conversation_with",params:[a],dataSource:[""]})}),_isFollowing:function(a,b,c){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:a,user_b:b}],{success:c.success,error:c.error})},isFollowing:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this.constructor.isCacheable()&&!(a instanceof twttr.anywhere.api.models.User)&&(a=this.constructor._cache.get(c));if(a instanceof twttr.anywhere.api.models.User){b.success(a.following);return}this._isFollowing(this.id,c,b)},receivedMessages:c(["DirectMessage"],function(a){return this.directMessages(a)}),sentMessages:b(["DirectMessage"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"direct_messages/sent",params:[a],dataSource:["direct_messages"]})}),homeTimeline:b(["Status"],function(a){var b="statuses/home_timeline";twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),a.withoutRetweets&&(b="statuses/friends_timeline"),d({options:a,url:b,params:[a],dataSource:["statuses"]})}),mentions:b(["Status"],function(a){d({options:a,url:"statuses/mentions",params:[a],dataSource:["statuses"]})}),_retweets:b(["Status"],function(a,b){d({options:b,url:a,params:[b],dataSource:["statuses"]})}),trendLocation:b(["Location"],function(a){d({options:a,url:"account/settings",params:[],dataSource:["","trend_location"]})}),setTrendLocation:b(["Location"],{triggers:"changedLocation"},function(a,b,c){var e={trend_location_woeid:a};b&&(e.personalized_trends=b),d({options:c,url:"account/settings/create",params:[e],dataSource:["","trend_location"]})}),setGeoEnabled:function(a,b){var c=this,e=b.success;b.success=function(){c.sync("geoEnabled",a),e&&e.apply(c,arguments)},d({options:b,url:"account/settings/create",params:[{geo_enabled:a}],dataSource:["","geo_enabled"]})},setLanguage:b(["Language"],function(a,b){d({options:b,url:"account/settings/create",params:[{lang:a}],dataSource:[]})}),retweeting:c(["Status"],function(a){return this._retweets("statuses/retweeted_by_me",a)}),retweets:c(["Status"],function(a){return this._retweets("statuses/retweeted_to_me",a)}),retweeted:c(["Status"],function(a){return this._retweets("statuses/retweets_of_me",a)}),blocks:b(["User"],function(a){d({options:a,url:"blocks/blocking",params:[a],dataSource:["users"]})}),lists:c(["List"],function(a){return this.constructor.uber.lists.call(this,a)}),friends:c(["User"],function(a){return this.constructor.uber.friends.call(this,a)}),isBlocking:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);twttr.anywhere.api.util.makeRemoteRequest("blocks/exists",[{user_id:c}],{success:function(a){b.success(a.user?!0:!1)},error:function(a){a.status==404?b.success(!1):b.error(a)}})},update:b("User",{expire:!0,triggers:"update",triggeredBy:"User"},function(a){d({options:a,url:"account/update_profile",params:[a],dataSource:["user"]})}),profileImage:b(undefined,function(a,b){d({options:b,url:"users/profile_image/:screen_name",params:[a,twttr.merge({redirect:!1},b)],dataSource:[""]})}),savedSearches:b(["SavedSearch"],function(a){d({options:a,url:"saved_searches",params:[],dataSource:["saved_searches"]})}),searches:c(["SavedSearch"],function(a){return this.savedSearches(a)}),logout:function(a){parent.twttr.anywhere.signOut()}}),twttr.augmentObject(twttr.anywhere.api.models.User.prototype.lists,{find:b("List",{cacheLookup:function(a,b){var c=twttr.API.List._cache.get(a);return c?c:!1}},function(a,b){b=twttr.anywhere.api.util.optify(b),twttr.is.string(a)?b.slug=a:b.list_id=a,d({options:b,url:"lists/show",params:[twttr.merge({owner_id:this.id},b)],dataSource:["list"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.lists,{create:b("List",{triggers:"create",triggeredBy:"List"},function(a,b){d({options:b,url:":user/lists/create",params:[this.id,twttr.merge(b,{name:a,send_error_codes:!0})],dataSource:["list"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.savedSearches,{find:b("SavedSearch",function(a,b){d({options:b,url:"saved_searches/show/:id",params:[a,b],dataSource:["saved_search"]})}),create:b("SavedSearch",{triggers:"create",triggeredBy:"SavedSearch"},function(a,b){d({options:b,url:"saved_searches/create",params:[{query:a}],dataSource:["saved_search"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.friends,{pending:b(undefined,function(a){var b=e(["cursor"],a);d({options:a,url:"friendships/incoming",params:[b],dataSource:["","ids"]})})}),twttr.anywhere.api.models.CurrentUser.prototype._name=function(){return"current_user"},twttr.anywhere.api.models.CurrentUser.identify=twttr.anywhere.api.models.User.identify,twttr.anywhere.api.models.CurrentUser._registry=twttr.anywhere.api.models.User._registry,twttr.anywhere.api.models.CurrentUser._extensionMethods=twttr.anywhere.api.models.User._extensionMethods,twttr.anywhere.api.models.CurrentUser.isCacheable=twttr.anywhere.api.models.User.isCacheable,twttr.anywhere.api.models.CurrentUser.isCacheable()&&(twttr.anywhere.api.models.CurrentUser._cache=twttr.anywhere.api.models.User._cache);var k=["trigger","bind","_bind","unbind","_unbind","one","_bindWrapper"];for(var l=0,m=k.length;l<m;++l)twttr.anywhere.api.models.CurrentUser[k[l]]=twttr.anywhere.api.models.User[k[l]];var n=["block","unblock","report","follow","unfollow","setNotificationsOn","setNotificationsOff"];for(var l=0,m=n.length;l<m;++l)twttr.anywhere.api.models.CurrentUser.prototype[n[l]]=f;twttr.anywhere.api.models.CurrentUser.mixin(twttr.anywhere.api.mixins.phoenix.CurrentUser),a(j)})}),provide("bluejs/models/direct_message",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.DirectMessage",function(a){a&&twttr.anywhere.api.util.useStringIdentifier(a,"id"),this.constructor.uberclass.call(this,a)}).belongsTo("User","sender").belongsTo("User","recipient").statics({send:b("DirectMessage",{triggers:"send",triggerSource:e,triggerTarget:function(a){return a.recipient}},function(a,b,c){d({options:c,url:"direct_messages/new",params:[{user:twttr.anywhere.api.models.User.identify(a),text:b}],dataSource:["direct_message"]})})}).methods({destroy:b("DirectMessage",{triggers:"delete",triggerTarget:e},function(a){d({options:a,url:"direct_messages/destroy",params:[{id:this.id}],dataSource:["direct_message"]})})});a(f)})}),provide("bluejs/models/saved_search",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SavedSearch").methods({destroy:b("SavedSearch",{triggers:"delete",triggerTarget:e},function(a){d({options:a,url:"saved_searches/destroy/:id",params:[this.id,a],dataSource:["saved_search"]})}),results:b(["SearchResult"],function(a){a.q=this.query,d({options:a,url:"search",params:[a],dataSource:["","results"]})})});a(f)})}),provide("bluejs/models/list",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.defaultTrigger,g=twttr.anywhere.api.util.model("twttr.anywhere.api.models.List").cache({keys:[{name:"id",type:"number"}],shouldCacheAssociated:!1}).belongsTo("User").methods({subscribe:b("List",{expire:!0,triggers:"follow",triggerTarget:f,writes:{subscriberCount:function(){return this.subscriberCount+1}}},function(a){d({options:a,url:":user/:list_id/subscribers/create",params:[this.user.id,this.id,{}],dataSource:["list"]})}),follow:c("List",function(a){return this.subscribe(a)}),unsubscribe:b("List",{expire:!0,triggers:"unfollow",triggerTarget:f,writes:{subscriberCount:function(){return this.subscriberCount-1}}},function(a){d({options:a,url:":user/:id/subscribers/destroy",params:[this.user.id,this.id,{}],dataSource:["list"]})}),unfollow:c("List",function(a){return this.unsubscribe(a)}),add:b("List",{expire:!0,triggers:"add",triggerTarget:f,writes:{memberCount:function(){return this.memberCount}}},function(a,b){d({options:b,url:"lists/members/create",params:[{list_id:this.id,user_id:a.id}],dataSource:["list"]})}),remove:b("List",{expire:!0,triggers:"remove",triggerTarget:f,writes:{memberCount:function(){return this.memberCount-1}}},function(a,b){d({options:b,url:"lists/members/destroy",params:[{list_id:this.id,user_id:a.id}],dataSource:["list"]})}),owner:function(){return this.user},isMember:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=b.error;b.error=function(a){a.status===404&&a.reason.match("not a member")?b.success(!1):c&&c(a)};var e=b.success;b.success=function(a){a.screenName?e(!0):e(!1)},d({options:b,url:":user/:list_id/members/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(a),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},isSubscriber:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=b.error;b.error=function(a){a.status===404&&a.reason.match("not a subscriber")?b.success(!1):c&&c(a)};var e=b.success;b.success=function(a){a.screenName?e(!0):e(!1)},d({options:b,url:":user/:list_id/subscribers/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(a),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},destroy:b("List",{expire:!0,cache:!1,triggers:"delete",triggerTarget:f},function(a){d({options:a,url:"lists/destroy",params:[{list_id:this.id}],dataSource:["list"]})}),update:b("List",{expire:!0,triggers:"update",triggerTarget:f},function(a){a=twttr.anywhere.api.util.optify(a);var b=e(["name","description","mode"],a);d({options:a,url:"lists/update",params:[twttr.merge({list_id:this.id,send_error_codes:!0},b)],dataSource:["list"]})}),statuses:b(["Status"],function(a){a=twttr.anywhere.api.util.optify(a),twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"lists/statuses",params:[twttr.merge({list_id:this.id},a)],dataSource:["statuses"]})}),subscribers:b(["User"],function(a){d({options:a,url:":user/:list_id/subscribers",params:[this.user.id,this.id,a],dataSource:["users_list","users"]})}),followers:c(["User"],function(a){return this.subscribers(a)}),members:b(["User"],function(a){d({options:a,url:":user/:list_id/members",params:[this.user.id,this.id,a],dataSource:["users_list","users"]})}),following:c(["User"],function(a){return this.members(a)})});a(g)})}),provide("bluejs/models/location",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.cache,g=twttr.anywhere.api.util.noop,i=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Location").uniqueKey("woeid").statics({trends:b(["Trend"],function(a,b){var c=this.identify(a);d({options:b,url:"trends/:woeid",params:[c,b],dataSource:[""]})})}).methods({trends:c(["Trend"],function(a){return this.constructor.trends(this.woeid,a)})});a(i)})}),provide("bluejs/models/trend",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.cache,g=twttr.anywhere.api.util.noop,i=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Trend").uniqueKey("query").statics({locations:b(["Location"],function(a){var b=e(["lat","long","lang"],a);d({options:a,url:"trends/available",params:[b],dataSource:[""]})}),current:b(["Trend"],function(a){d({options:a,url:"trends/current",params:[a],dataSource:["","trends","current_trends"]})})});a(i)})}),provide("bluejs/models/status",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.filterOptions,g=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Status",function(a){a&&(a=twttr.anywhere.api.util.normalizePromotedTweet(a),twttr.anywhere.api.util.useStringIdentifier(a,"id"),twttr.anywhere.api.util.useStringIdentifier(a,"in_reply_to_status_id"),twttr.anywhere.api.util.useStringIdentifier(a.current_user_retweet,"id"),a.text=twttr.anywhere.api.util.sanitize(a.text)),this.constructor.uberclass.call(this,a)}).cache({keys:[{name:"id",type:"string"}],cacheAssociated:!0}).belongsTo("User").belongsTo("Status","retweetedStatus").hasOne("Place").extend(function(){this.isRetweet=!!this.retweetedStatus}).statics({find:b("Status",{cacheLookup:function(a,b){var c=this._cache.get(a);return c?c:!1}},function(a,b){var c=f(["trim_user","include_entities","contributor_details","include_cards"],b);twttr.decider.isAvailable("platform_enable_cards")&&!twttr.is.def(c.include_cards)&&(c.include_cards=1),twttr.is.def(c.include_entities)||(c.include_entities=twttr.anywhere.api.config.includeEntities),twttr.is.def(c.contributor_details)||(c.contributor_details=!0),twttr.is.def(c.include_entities)||(c.include_entities=1),d({options:b,url:"statuses/show",params:[twttr.merge(c,{id:a})],dataSource:["status"]})}),unretweet:b("Status",{expire:!0,cache:!1,triggers:"unretweet",triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a),e=b.success;b.success=function(a){a.expire(),e.apply(a,arguments)},d({options:b,url:"statuses/destroy",params:[{id:c}],dataSource:["status"]})}),update:b("Status",{triggers:"update",triggerTarget:e},function(a,b){b.include_entities=!0,twttr.decider.isAvailable("platform_enable_cards")&&(b.include_cards=1),b.status=a,d({options:b,url:"statuses/update",params:[b],dataSource:["status"]})}),updateWithMedia:b("Status",{triggers:"update_with_media",triggerTarget:e},function(a,b){b.include_entities=!0,twttr.decider.isAvailable("platform_enable_cards")&&(b.include_cards=1),b.status=a,d({options:b,url:"statuses/update_with_media",params:[b],dataSource:["status"]})}),publicTimeline:b(["Status"],function(a){d({options:a,url:"statuses/public_timeline",params:[],dataSource:["statuses"]})}),networkTimeline:b(["Status"],function(a){d({options:a,url:"statuses/network_timeline",params:[a],dataSource:["statuses"]})}),promotedHomeTimeline:b(["Status"],function(a){d({options:a,url:"promoted_content/home_timeline",params:[],dataSource:["","promoted_tweets"]})}),retweet:b("Status",{triggers:"retweet",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"statuses/retweet/:id",params:[c,b],dataSource:["status"]})}),favorite:b("Status",{triggers:"favorite",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"favorites/create/:id",params:[c,b],dataSource:["status"]})}),unfavorite:b("Status",{triggers:"unfavorite",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"favorites/destroy/:id",params:[c,b],dataSource:["status"]})}),reply:c("Status",function(a,b,c){var d=this.identify(a);return c=twttr.merge(twttr.anywhere.api.util.optify(c),{in_reply_to_status_id:d}),this.update(b,c)}),search:b(["SearchResult"],function(a,b){d({options:b,url:"search",params:[twttr.merge({q:a},b)],dataSource:["","results"]})})}).methods(twttr.anywhere.api.mixins.StatusActions).methods({bind:twttr.anywhere.api.util.bindMethod,activity:b(["Activity"],function(a){d({options:a,url:"statuses/:id/activity",params:[this.id],dataSource:[""]})}),summary:b(undefined,function(a){d({options:a,url:"statuses/:id/activity/summary",params:[this.id],dataSource:[""]})}),destroy:b("Status",{expire:!0,cache:!1,triggers:"delete",triggerTarget:function(a){return"current_user"}},function(a){var b=this,c=a.success;a.success=function(){b.expire(),c.apply(b,arguments)},d({options:a,url:"statuses/destroy",params:[{id:this.id}],dataSource:["status"]})}),retweets:b(["Status"],function(a){d({options:a,url:"statuses/retweets/:id",params:[this.id,a],dataSource:["status"]})}),retweeters:b(["User"],function(a){d({options:a,url:"statuses/:id/retweeted_by",params:[this.id,a],dataSource:["users"]})}),contributor:c(["User"],function(a){var b=this.data("contributors");if(b&&twttr.is.array(b)&&b.length===1)return twttr.anywhere.api.models.User.find(this.data("contributors")[0],a);a.success(null)}),inReplyToUser:c("User",function(a){a=twttr.anywhere.api.util.optify(a);if(this.inReplyToUserId)return twttr.anywhere.api.models.User.find(this.inReplyToUserId,a);a.success(null)}),inReplyTo:c("Status",function(a){a=twttr.anywhere.api.util.optify(a);if(this.inReplyToStatusId)return twttr.anywhere.api.models.Status.find(this.inReplyToStatusId,a);a.success(null)}),flag:b(undefined,function(a){var b,c={id:this.id};a.isOurTweet?(b="statuses/update_possibly_sensitive",c.possibly_sensitive=typeof a.possibly_sensitive=="undefined"||a.possibly_sensitive):b="statuses/flag_possibly_sensitive",d({options:a,url:b,params:[c],dataSource:["status"]})}),oembed:b(undefined,function(a){var b={url:"http://twitter.com/"+this.user.status_name+"/statuses/"+this.id,lang:a.lang,target:a.target,align:a.align};d({options:a,url:"statuses/oembed",params:[b],dataSource:["status"]})})}).mixin(twttr.anywhere.api.mixins.phoenix.Status);a(g)})}),provide("bluejs/models/promptbird",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=null,e=function(a,b){a=a||{},c({options:b,url:"users/get_prompt",params:[a],dataSource:[""]})},f=b(d,e),g=function(a,b){a=a||{},c({options:b,url:"users/dismiss_prompt",params:[a],dataSource:[""]})},i=b(d,g),j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promptbird").statics({getPrompt:f,dismissPrompt:i});a(j)})}),provide("bluejs/models/search_result",function(a){using(function(){var b=twttr.anywhere.api.util.aliasMethod,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchResult").methods(twttr.anywhere.api.mixins.StatusActions);a(c)})}),provide("bluejs/models/place",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Place").belongsTo("Place","contained_within").statics({find:b("Place",function(a,b){d({options:b,url:"geo/id/:id",params:[a,b],dataSource:["place"]})}),search:b(["Place"],function(a){var b=["lat","long","lon","query","ip","granularity","accuracy","autocomplete","max_results","contained_within","attribute:street_address","require_activity"],c=e(b,a);d({options:a,url:"geo/search",params:[c],dataSource:["","result","places"]})}),reverseGeocode:b(["Place"],function(a,b,c){var f=["long","accuracy","granularity","max_results"],g=e(f,c);g["long"]&&(b=g["long"],delete g["long"]),d({options:c,url:"geo/reverse_geocode",params:[twttr.merge({},g,{lat:a,lon:b})],dataSource:["","result","places"]})}),create:b("Place",function(a,b,c,f,g,i){var j=["long","attribute:street_address","accuracy"],k=e(j,i);k["long"]&&(c=k["long"],delete k["long"]),d({options:i,url:"geo/place",params:[twttr.merge({},k,{token:a,lat:b,lon:c,name:f,contained_within:g})],dataSource:[""]})}),similar:b(["Place"],function(a,b,c,f){var g=["long","contained_within","attribute:street_address","accuracy"],i=e(g,f);i["long"]&&(b=i["long"],delete i["long"]),d({options:f,url:"geo/similar_places",params:[twttr.merge({},i,{lat:a,lon:b,name:c})],dataSource:["","result","places"]})})});a(f)})}),provide("bluejs/models/user_recommendation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserRecommendation").hasOne("User").hasMany("User","connections").statics({hide:b(["UserRecommendation"],function(a,b,d){d.recommended_user_id=a,d.token=b,c({options:d,url:"users/recommendations/hide",params:[d],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.RateUserRecommendation);a(d)})}),provide("bluejs/models/suggestion_category",function(a){using(function(){var b=twttr.anywhere.api.util,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SuggestionCategory").hasMany("SuggestionCategory","categories").hasMany("User","users").hasMany("User","sample").statics({getAll:b.chainableMethod(["SuggestionCategory"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions",params:[a],dataSource:[""]})}),randomSample:b.chainableMethod(["User"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions/random",params:[a],dataSource:[""]})})}).methods({members:b.chainableMethod(["User"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions/:slug/members",params:[this.slug,a],dataSource:[""]})})});a(c)})}),provide("bluejs/models/related_tweets",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedTweets").hasMany("RelatedResult","results");a(b)})}),provide("bluejs/models/related_result",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedResult").hasOne("Status","value");a(b)})}),provide("bluejs/util/promoted_content",function(a){using("constants").as(function(b,c){var d=twttr.anywhere.api.util.filterOptions,e=c.promotedContent.linkType,f=twttr.klass("twttr.anywhere.api.util.PromotedContent",twttr.anywhere.api.util.noop).statics({loggedImpressions:{},logImpression:function(a){this.loggedImpressions[a]||(this.loggedImpressions[a]=!0,this._logImpressionIdEvent(a,e.DISPLAYED))},logProfileImageClick:function(a){this._logImpressionIdEvent(a,e.PROFILE_PIC)},logScreenNameClick:function(a){this._logImpressionIdEvent(a,e.SCREEN_NAME)},logPermalinkClick:function(a){this._logImpressionIdEvent(a,e.PERMALINK)},logDismissUser:function(a){this._logImpressionIdEvent(a,e.DISMISS_WITHOUT_REASON)},logShowDetails:function(a){this._logImpressionIdEvent(a,e.DETAIL)},logHashtagClick:function(a,b){b=b.replace(/^#/,""),this._logImpressionIdEvent(a,e.HASHTAG,{q:b})},logUserMentionClick:function(a,b){this._logImpressionIdEvent(a,e.USER_NAME,{username:b})},logUrlClick:function(a,b){this._logImpressionIdEvent(a,e.URL,{src:b})},logDismissUninteresting:function(a){this._logImpressionIdEvent(a,e.DISMISS_UNINTERESTING)},logDismissRepetitive:function(a){this._logImpressionIdEvent(a,e.DISMISS_REPETITIVE)},logDismissSpam:function(a){this._logImpressionIdEvent(a,e.DISMISS_SPAM)},logDismissOther:function(a){this._logImpressionIdEvent(a,e.DISMISS_WITHOUT_REASON)},logFooterProfileClick:function(a){this._logImpressionIdEvent(a,e.FOOTER_PROFILE)},logTrendImpression:function(a,b){this._logPromotedTrendIdEvent(a,"i",b)},logTrendClick:function(a,b){this._logPromotedTrendIdEvent(a,"c",b)},feedback:function(a){var b=d(["impression_id","status_id","reason","comments"],a);callMethod({options:a,url:"promoted_content/feedback",params:[b],dataSource:[""]})},_logPromotedTrendIdEvent:function(a,b,c){a&&b&&(c=$.extend({promoted_trend_id:a},c),this._logEvent(b,c))},_logImpressionIdEvent:function(a,b,c){a&&b&&(c=$.extend({impression_id:a},c),this._logEvent(b,c))},_logEvent:function(a,b){var c=twttr.hosts.remote+"/1/promoted_content/"+a+"/log.png?"+$.param(b);(new Image).src=c}});twttr.klass("twttr.anywhere.api.util.PromotedStore",twttr.anywhere.api.util.noop).statics({get:function(a){return this._store()[a]},putStatus:function(a){var b=a.impressionId;this._store()[b]=this._promotedDataForStatus(a)},putUser:function(a){var b=a.promotedContent.impression_id;this._store()[b]=this._promotedDataForUser(a)},getPromotedUserInstance:function(a,b){var c=twttr.anywhere.api.util.protoExtend;a=c(a),a.attributes=c(a.attributes),a.impressionId=b,a.attributes.impression_id=b;var d=this.get(b);return d&&(a.promotedContent=d.promotedContent,a.attributes.promoted_content=d.promotedContent),a},getPromotedStatusInstance:function(a,b){var c=twttr.anywhere.api.util.protoExtend,d=this.get(b);return a=c(a),a.impressionId=d.impressionId,a.experiments=d.experiments,a.attributes=c(a.attributes),a.attributes.impression_id=d.impressionId,a.attributes.experiments=d.experiments,a},_promotedDataForStatus:function(a){return a=$.extend({},a),{impressionId:a.impressionId,experiments:a.experiments}},_promotedDataForUser:function(a){return a=$.extend({},a),{promotedContent:a.promotedContent}},_store:function(){return this.store=this.store||{},this.store}}),a(f)})}),provide("bluejs/models/address_book",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.AddressBook").statics({contactsServices:b(undefined,function(a){c({options:a,url:"find_sources/contacts/services",params:[a],dataSource:["","services"]})}),contactsMatches:b(["User"],function(a){c({options:a,url:"find_sources/contacts/matches",params:[a],dataSource:["","users"]})}),contactsOthers:b("",function(a){c({options:a,url:"find_sources/contacts/others",params:[a],dataSource:["","contacts"]})}),followAllContacts:b("",function(a){c({options:a,url:"find_sources/contacts/follow_all",params:[a],dataSource:[""]})}),addContactsToList:b("",function(a,b){c({options:b,url:"find_sources/contacts/add_to_list",params:[{list_id:a}],dataSource:["","user_ids"]})}),sendInvitesByEmail:b(undefined,function(a,b){source=b&&b.source,c({options:b,url:"users/send_invites_by_email",params:[{addresses:a.join(","),source:source}],dataSource:[""]})})});a(d)})}),provide("bluejs/models/promo",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promo").statics({random:b(undefined,function(a,b){c({options:b,url:"promos/random_json_promo",params:[a],dataSource:[""]})})});a(d)})}),provide("bluejs/models/urls",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Urls").statics({resolve:b(undefined,function(a,b){c({options:b,url:"urls/resolve",params:[{urls:a}],dataSource:[""]})}),shorten:b(undefined,function(a,b){c({options:b,url:"urls/shorten",params:[{url:a}],dataSource:[""]})}),shortenMultiple:b(undefined,function(a,b){c({options:b,url:"urls/shorten_multiple",params:[{urls:a}],dataSource:[""]})})});a(d)})}),provide("bluejs/models/blob",function(a){using(function(){var b=twttr.anywhere.api.util.aliasMethod,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Blob").methods({get:function(a){a(this)}});a(c)})}),provide("bluejs/models/device",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Device").statics({list:b(null,function(a){c({options:a,url:"devices/list",params:[],dataSource:[""]})}),carriers:b("Blob",function(a){c({options:a,url:"devices/carriers",params:[a],dataSource:["carriers"]})}),create:b(null,function(a,b){c({options:b,url:"devices/create",params:[a],dataSource:[""]})}),destroy:b(null,function(a,b){c({options:b,url:"devices/destroy",params:[{id:a}],dataSource:[""]})})});a(d)})}),provide("bluejs/models/search",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Search",function(a){this.constructor.uberclass.call(this,a)}).statics({search:b("SearchStory",function(a,b){d({options:b,url:"i/search",params:[twttr.merge({q:a},b)],dataSource:[""]})}),imageFacets:b(["Status"],function(a,b){twttr.anywhere.api.models.Search._requestFacets("search/image_facets",a,b)}),videoFacets:b(["Status"],function(a,b){twttr.anywhere.api.models.Search._requestFacets("search/video_facets",a,b)}),_requestFacets:function(a,b,c){twttr.is.def(c.include_entities)||(c.include_entities=twttr.anywhere.api.config.includeEntities),d({options:c,url:a,params:[twttr.merge({q:b},c)],dataSource:["statuses"]})}});a(f)})}),provide("bluejs/models/conversation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Conversation",function(a){a&&twttr.anywhere.api.util.useStringIdentifier(a,"id"),this.constructor.uberclass.call(this,a)}).belongsTo("User");a(f)})}),provide("bluejs/models/activity",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.camelize,g=twttr.anywhere.api.util.BaseCollection,i={favorite:{sources:"User",targets:"Status",target_objects:null},mention:{sources:"User",targets:"User",target_objects:"Status"},reply:{sources:"User",targets:"Status",target_objects:"Status"},retweet:{sources:"User",targets:"Status",target_objects:"Status"},follow:{sources:"User",targets:"User",target_objects:null},list_member_added:{sources:"User",targets:"User",target_objects:"List"},list_created:{sources:"User",targets:"List",target_objects:null}},j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Activity",function(a){a.event?a.action=a.event:a.action&&(a.event=a.action),twttr.anywhere.api.models.Base.call(this,a);for(var b in i)this.sync("is_"+b,this.event===b);this.sync("timestamp",twttr.helpers.parseDateString(this.createdAt))});j.hasMany(function(a){return i[a.event].sources||null},"sources").hasMany(function(a){return i[a.event].targets||null},"targets").hasMany(function(a){return i[a.event].target_objects||null},"targetObjects").statics({classMap:i}),a(j)})}),provide("bluejs/models/topic_story",function(a){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TopicStory").methods({getId:function(){return this.attributes.query}}),a()})}),provide("bluejs/models/news_article",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsArticle").methods({getId:function(){return this.getExpandedUrl()},getDisplayUrl:function(){return this.url.display_url},getExpandedUrl:function(){return this.url.expanded_url},getImage:function(a){for(var b=0,c=this.media.length;b<c;b++){var d=this.media[b];if(d.type==="photo")return a&&d.media_url_https||d.media_url}return null}});a()})}),provide("bluejs/models/news_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsStory").hasMany("NewsArticle","articles").methods({getId:function(){return this.articles.get(0).getId()}});a()})}),provide("bluejs/models/user_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserStory");b.hasMany("User","users"),a(b)})}),provide("bluejs/models/tweet_story",function(a){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TweetStory").hasOne("Status","status").methods({getId:function(){return this.status.id}}),a()})}),provide("bluejs/models/story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Story",function(a){var b={};$.extend(b,a),b.content=a.data,delete b.data,twttr.anywhere.api.models.Base.call(this,b)}).methods({getId:function(){return this.content.getId()}}).hasOne("SocialProof","socialProof").hasOne(function(a){return twttr.util.capitalize(a.type)+"Story"},"content");a(b)})}),provide("bluejs/models/search_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchStory");b.hasMany("Story","stories"),a(b)})}),provide("bluejs/models/stories",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Stories");b.hasMany("Story","stories"),a()})}),provide("bluejs/models/discovery",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Discovery",function(a){this.constructor.uberclass.call(this,a)}).statics({discovery:b("Stories",function(a){c({options:a,url:"i/discovery",params:[a],dataSource:[""]})})}),a()})}),provide("bluejs/models/sports_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SportsStory").hasOne(function(a){return twttr.util.capitalize(a.sport)+"SportsEvents"},"events");a()})}),provide("bluejs/models/soccer_events",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SoccerSportsEvents").methods({getMatchedEvent:function(){return this.items[this.matchedEventId]},getMatchedEventData:function(){return this.items[this.matchedEventId].event_data},getMatchedTeam:function(a){var b=a?this.getMatchedEventData().home_team:this.getMatchedEventData().away_team;return b.team_logo_url=b.team_logo_url_https&&twttr.isSSL()?b.team_logo_url_https:b.team_logo_url_http,b.team_logo_url||(b.team_logo_url=b.user.profile_image_url_https&&twttr.isSSL()?b.user.profile_image_url_https:b.user.profile_image_url),b},getMatchState:function(){return this.getMatchedEventData().match_state},getOtherMatchState:function(){var a=this,b=jQuery.map(this.items,function(b,c){if(b.event_data.match_state.current_status==="scheduled"||c===a.matchedEventId)return null;var d=decodeURIComponent(b.event_data.match_hashtag);return{event_id:c,home_name:b.event_data.home_team.team_name,away_name:b.event_data.away_team.team_name,score:b.event_data.match_state.score,search_path:twttr.router.searchResultsPath({query:d}),live:b.event_data.match_state.current_status=="inprogress",hashtag:d}});return b}});a()})}),provide("bluejs/models/us_political_rep",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UsPoliticalRep").hasOne("User").statics({findByZip:b(["UsPoliticalRep"],function(a,b){c({options:b,url:"government_search/by_zip",params:[twttr.merge(b,{zip:a})],dataSource:[""]})})});a(d)})}),provide("bluejs/models/social_proof",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SocialProof").hasOne("ReferencedBy","referencedBy");a()})}),provide("bluejs/models/referenced_by",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.ReferencedBy").hasMany("Status","statuses");a()})}),provide("extendAPI",function(a){using().as(function(b){twttr.extendAPI=function(){twttr.API.DirectMessage.extend(function(){this.threadId=this.senderScreenName===twttr.currentUser.screenName?this.recipientScreenName:this.senderScreenName});var a=function(a){var c=a.retweetedStatus,d=new twttr.API.Status,e;for(e in a){if(e==="activities")continue;d[e]=a[e],delete a[e]}for(e in c)a[e]=c[e];a.retweetingStatus=d,a.wasRetweeted=!0,twttr.currentUser&&d.user&&d.user.id===twttr.currentUser.id&&c.sync("current_user_retweet",{id:d.id}),delete a.retweetingStatus.retweetedStatus,delete a.retweetingStatus.attributes.retweeted_status,b(a)},b=function(a){a.retweetingStatus.isPromoted()&&(a.attributes.impression_id=a.retweetingStatus.attributes.impression_id,a.attributes.experiments=a.retweetingStatus.attributes.experiments,a.attributes.disclosure_text=a.retweetingStatus.attributes.disclosure_text,a.attributes.disclosure_type=a.retweetingStatus.attributes.disclosure_type,a.impressionId=a.retweetingStatus.impressionId,a.experiments=a.retweetingStatus.experiments,a.disclosureText=a.retweetingStatus.disclosureText,a.disclosureType=a.retweetingStatus.disclosureType,delete a.retweetingStatus.impressionId,delete a.retweetingStatus.experiments,delete a.retweetingStatus.attributes.impression_id,delete a.retweetingStatus.attributes.experiments,delete a.retweetingStatus.disclosureText,delete a.retweetingStatus.disclosureType,delete a.retweetingStatus.attributes.disclosure_text,delete a.retweetingStatus.attributes.disclosure_type)};twttr.API.Status.extend(function(){function b(a){return a===null||typeof a=="undefined"}this.isRetweet&&a(this),this.isReply=!!this.inReplyToStatusId,this.hasGeo=Boolean(!b(this.coordinates)||this.place&&this.place.id),this.hasGeo&&(this.placeName=this.place&&this.place.fullName?this.place.fullName:null);var c=!b(this.coordinates)||!b(this.place)&&this.place.placeType=="poi",d=this.entities&&this.entities.places&&this.entities.places.length>0;this.showGeoMap=c&&!d,this.showGeoIcon=c||d}),twttr.API.User.extend(function(){var a=twttr.currentUserScreenName===this.screenName;this.is_only_admin_accessible=twttr.isAdmin&&!a&&(this.deactivated_bit||this.suspended||this["protected"]&&!this.following)}),twttr.API.CurrentUser.extend(function(){var a=this;this.hasLists=function(){return a.counts&&(a.counts.lists.owned||a.counts.lists.subscribed)},this.hasSavedSearches=function(){return a.counts&&a.counts.saved_searches}}),twttr.API.List.extend(function(){this.isOwnList=twttr.currentUser?twttr.currentUser.id===this.user.id:null}),twttr.API.SavedSearch.extend(function(){var a=this.query.match(/^place:([a-f0-9]{16})$/);this.isPlaceSearch=Boolean(a),a&&(this.placeId=a[1])})},a(twttr.extendAPI)})}),provide("bluejs/api",function(a){using("bluejs/init",function(){twttr.anywhere.api.initialize();var b={};twttr.aug(b,twttr.anywhere.api.models),twttr.aug(b,{globalEvents:twttr.anywhere.api.globalEvents}),b.setConfig=twttr.anywhere.api.updateConfig,b.getConfig=function(){return twttr.anywhere.api.config},b.util||(b.util={}),twttr.aug(b.util,twttr.anywhere.api.util),b._requestCache||(b._requestCache=twttr.anywhere.api.cache),a(b)})}),provide("$lib/jquery.color.js",function(a){(function(a){function b(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:d[a.trim(b).toLowerCase()]}function c(c,d){var e;do{e=a.curCSS(c,d);if(e!=""&&e!="transparent"||a.nodeName(c,"body"))break;d="backgroundColor"}while(c=c.parentNode);return b(e)}a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(d,e){a.fx.step[e]=function(a){a.state==0&&(a.start=c(a.elem,e),a.end=b(a.end)),a.elem.style[e]="rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2]),255),0)].join(",")+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),a()}),provide("$lib/modernizr-1.5.js",function(a){window.Modernizr=function(a,b,c){function ib(a){k.cssText=a}function jb(a,b){return ib(ab.join(a+";")+(b||""))}function kb(a,b){return(""+a).indexOf(b)!==-1}function lb(a,b){for(var d in a)if(k[a[d]]!==c&&(!b||b(a[d],j)))return!0}function mb(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=[a,"Webkit"+c,"Moz"+c,"O"+c,"ms"+c,"Khtml"+c];return!!lb(d,b)}function nb(){e[F]=function(a){for(var b=0,c=a.length;b<c;b++)db[a[b]]=a[b]in l;return db}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e[G]=function(a){for(var b=0,c,d=a.length;b<d;b++)l.setAttribute("type",a[b]),c=l.type!=="text",c&&(l.value=Y,/tel|search/.test(l.type)||(/url|email/.test(l.type)?c=l.checkValidity&&l.checkValidity()===!1:c=l.value!=Y)),cb[a[b]]=!!c;return cb}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="1.5",e={},f=!0,g=b.documentElement,i="modernizr",j=b.createElement(i),k=j.style,l=b.createElement("input"),m="canvas",n="canvastext",o="rgba",p="hsla",q="multiplebgs",r="backgroundsize",s="borderimage",t="borderradius",u="boxshadow",v="opacity",w="cssanimations",x="csscolumns",y="cssgradients",z="cssreflections",A="csstransforms",B="csstransforms3d",C="csstransitions",D="video",E="audio",F="input",G=F+"types",H="svg",I="smil",J=H+"clippaths",K="background",L=K+"Color",M="canPlayType",N="localStorage",O="sessionStorage",P="applicationCache",Q="webworkers",R="hashchange",S="crosswindowmessaging",T="historymanagement",U="draganddrop",V="websqldatabase",W="indexedDB",X="websockets",Y=":)",Z=Object.prototype.toString,ab=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),bb={},cb={},db={},eb=[],fb=function(){function c(c,d){var e=arguments.length==1;if(e&&b[c])return b[c];d=d||document.createElement(a[c]||"div"),c="on"+c;var f=c in d;return!f&&d.setAttribute&&(d.setAttribute(c,"return;"),f=typeof d[c]=="function"),d=null,e?b[c]=f:f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},b={};return c}(),gb={}.hasOwnProperty,hb;typeof gb!="undefined"&&typeof gb.call!="undefined"?hb=function(a,b){return gb.call(a,b)}:hb=function(a,b){return b in a&&typeof a.constructor.prototype[b]=="undefined"},bb[m]=function(){return!!b.createElement(m).getContext},bb[n]=function(){return!!bb[m]()&&typeof b.createElement(m).getContext("2d").fillText=="function"},bb[S]=function(){return!!a.postMessage},bb[V]=function(){var b=!!a.openDatabase;if(b)try{b=!!openDatabase("testdb","1.0","html5 test db",2e5)}catch(c){b=!1}return b},bb[W]=function(){return!!a[W]},bb[R]=function(){return fb(R,a)&&(document.documentMode===c||document.documentMode>7)},bb[T]=function(){return!!a.history&&!!history.pushState},bb[U]=function(){return fb("drag")&&fb("dragstart")&&fb("dragenter")&&fb("dragover")&&fb("dragleave")&&fb("dragend")&&fb("drop")},bb[X]=function(){return"WebSocket"in a},bb[o]=function(){return ib(K+"-color:rgba(150,255,150,.5)"),kb(k[L],o)},bb[p]=function(){return ib(K+"-color:hsla(120,40%,100%,.5)"),kb(k[L],o)},bb[q]=function(){return ib(K+":url(//:),url(//:),red url(//:)"),(new RegExp("(url\\s*\\(.*?){3}")).test(k[K])},bb[r]=function(){return mb(K+"Size")},bb[s]=function(){return mb("borderImage")},bb[t]=function(){return mb("borderRadius","",function(a){return kb(a,"orderRadius")})},bb[u]=function(){return mb("boxShadow")},bb[v]=function(){return jb("opacity:.5"),kb(k[v],"0.5")},bb[w]=function(){return mb("animationName")},bb[x]=function(){return mb("columnCount")},bb[y]=function(){var a=K+"-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return ib((a+ab.join(b+a)+ab.join(c+a)).slice(0,-a.length)),kb(k.backgroundImage,"gradient")},bb[z]=function(){return mb("boxReflect")},bb[A]=function(){return!!lb(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},bb[B]=function(){var a=!!lb(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(a){var c=document.createElement("style"),d=b.createElement("div");c.textContent="@media ("+ab.join("transform-3d),(")+"modernizr){#modernizr{height:3px}}",b.getElementsByTagName("head")[0].appendChild(c),d.id="modernizr",g.appendChild(d),a=d.offsetHeight===3,c.parentNode.removeChild(c),d.parentNode.removeChild(d)}return a},bb[C]=function(){return mb("transitionProperty")},bb[D]=function(){var a=b.createElement(D),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';c.h264=a.canPlayType(d+'"')||a.canPlayType(d+', mp4a.40.2"'),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return c},bb[E]=function(){var a=b.createElement(E),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),c.mp3=a.canPlayType("audio/mpeg;"),c.wav=a.canPlayType('audio/wav; codecs="1"'),c.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")}catch(d){}return c},bb[N]=function(){try{return"localStorage"in a&&a[N]!==null}catch(b){return!1}},bb[O]=function(){try{return"sessionStorage"in a&&a[O]!==null}catch(b){return!1}},bb[Q]=function(){return!!a.Worker},bb[P]=function(){var b=a[P];return!!b&&typeof b.status!="undefined"&&typeof b.update=="function"&&typeof b.swapCache=="function"},bb[H]=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},bb[I]=function(){return!!b.createElementNS&&/SVG/.test(Z.call(b.createElementNS("http://www.w3.org/2000/svg","animate")))},bb[J]=function(){return!!b.createElementNS&&/SVG/.test(Z.call(b.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var ob in bb)hb(bb,ob)&&eb.push(((e[ob.toLowerCase()]=bb[ob]())?"":"no-")+ob.toLowerCase());return e[F]||nb(),e.addTest=function(a,b){a=a.toLowerCase();if(e[a])return;return b=!!b(),g.className+=" "+(b?"":"no-")+a,e[a]=b,e},ib(""),j=l=null,f&&function(){var a=b.createElement("div");return a.innerHTML="<elem></elem>",a.childNodes.length!==1}()&&function(a,b){function c(a,d){if(j[a])j[a].styleSheet.cssText+=d;else{var e=g[o],f=b[p]("style");f.media=a,e.insertBefore(f,e[o]),j[a]=f,c(a,d)}}function d(a,b){for(var e=new RegExp("\\b("+k+")\\b(?!.*[;}])","gi"),f=function(a){return".iepp_"+a},h=-1;++h<a.length;)b=a[h].media||b,d(a[h].imports,b),c(b,a[h].cssText.replace(e,f))}function e(){for(var a,c=b.getElementsByTagName("*"),e,f,h=new RegExp("^"+k+"$","i"),g=-1;++g<c.length;)(a=c[g])&&(f=a.nodeName.match(h))&&(e=new RegExp("^\\s*<"+f+"(.*)\\/"+f+">\\s*$","i"),i.innerHTML=a.outerHTML.replace(/\r|\n/g," ").replace(e,a.currentStyle.display=="block"?"<div$1/div>":"<span$1/span>"),e=i.childNodes[0],e.className+=" iepp_"+f,e=m[m.length]=[a,e],a.parentNode.replaceChild(e[1],e[0]));d(b.styleSheets,"all")}function f(){for(var a=-1,b;++a<m.length;)m[a][1].parentNode.replaceChild(m[a][0],m[a][1]);for(b in j)g[o].removeChild(j[b]);j={},m=[]}for(var g=b.documentElement,i=b.createDocumentFragment(),j={},k="abbr|article|aside|audio|canvas|command|datalist|details|figure|figcaption|footer|header|hgroup|keygen|mark|meter|nav|output|progress|section|source|summary|time|video",l=k.split("|"),m=[],n=-1,o="firstChild",p="createElement";++n<l.length;)b[p](l[n]),i[p](l[n]);i=i.appendChild(b[p]("div")),a.attachEvent("onbeforeprint",e),a.attachEvent("onafterprint",f)}(this,b),e._enableHTML5=f,e._version=d,g.className=g.className.replace(/\bno-js\b/,"")+" js",e}(this,this.document),a()}),provide("$lib/jquery.hashchange.js",function(a){(function($){var a=function(){function c(c,d){var e=arguments.length==1;if(e&&b[c])return b[c];d=d||document.createElement(a[c]||"div"),c="on"+c;var f=c in d;return!f&&d.setAttribute&&(d.setAttribute(c,"return;"),f=typeof d[c]=="function"),d=null,e?b[c]=f:f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},b={};return c}();$.fn.hashchange=function(b){if(a("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7))this.bind("hashchange",b);else{var c=location.hash;setInterval(function(){c!==location.hash&&(b($.Event("hashchange")),c=location.hash)},250)}return this}})(jQuery),a()}),provide("$lib/jquery.cookie.js",function(a){jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var j=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var l=0;l<k.length;l++){var m=jQuery.trim(k[l]);if(m.substring(0,a.length+1)==a+"="){j=decodeURIComponent(m.substring(a.length+1));break}}}return j}c=c||{},b===null&&(b="",c.expires=-1);var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;typeof c.expires=="number"?(e=new Date,e.setTime(e.getTime()+c.expires*24*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",i=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,i].join("")},a()}),provide("$lib/jquery.tipsy.js",function(a){(function($){function a(a,b){this.$element=$(a),this.options=b,this.enabled=!0,this.fixTitle()}a.prototype={show:function(){var a=this.getTitle();if(a&&this.enabled){var b=this.tip();b.find(".tipsy-inner")[this.options.html?"html":"text"](a),b[0].className="tipsy",b.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var c=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),d=b[0].offsetWidth,e=b[0].offsetHeight,f=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity;function g(a){return twttr.isRTL?a==="e"?"w":"e":a}var i;switch(f.charAt(0)){case"n":i={top:c.top+c.height+this.options.offset,left:c.left+c.width/2-d/2};break;case"s":i={top:c.top-e-this.options.offset,left:c.left+c.width/2-d/2};break;case g("e"):i={top:c.top+c.height/2-e/2,left:c.left-d-this.options.offset};break;case g("w"):i={top:c.top+c.height/2-e/2,left:c.left+c.width+this.options.offset}}f.length==2&&(f.charAt(1)==g("w")?i.left=c.left+c.width/2-15:i.left=c.left+c.width/2-d+15),b.css(i).addClass("tipsy-"+f),this.options.fade?b.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):b.css({visibility:"visible",opacity:this.options.opacity}),this.options.className&&b.addClass(this.options.className)}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){$(this).remove()}):this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("original-title")!="string")&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;this.fixTitle();var a,c=this.options;return typeof c.title=="string"?a=b.attr(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback},tip:function(){return this.$tip||(this.$tip=$('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},$.fn.tipsy=function(b){function d(c){var d=$.data(c,"tipsy");return d||(d=new a(c,$.fn.tipsy.elementOptions(c,b)),$.data(c,"tipsy",d)),d}function e(){var a=d(this);a.hoverState="in",b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&a.show()},b.delayIn))}function f(){var a=d(this);a.hoverState="out",b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}if($.browser.msie&&$.browser.version<9)return this;if(b===!0)return this.data("tipsy");if(typeof b=="string"){var c=this.data("tipsy");return c&&c[b](),this}b=$.extend({},$.fn.tipsy.defaults,b);if(b.stopThat){this.each(function(){d(this).hide()});return}b.live||this.each(function(){d(this)});if(b.trigger!="manual"){var g=b.live?"live":"bind",i=b.trigger=="hover"?"mouseenter":"focus",j=b.trigger=="hover"?"mouseleave":"blur";this[g](i,e)[g](j,f)}return this},$.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},$.fn.tipsy.elementOptions=function(a,b){return $.metadata?$.extend({},b,$(a).metadata()):b},$.fn.tipsy.autoNS=function(){return $(this).offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n"},$.fn.tipsy.autoWE=function(){return $(this).offset().left>$(document).scrollLeft()+$(window).width()/2?"e":"w"}})(jQuery),a()}),provide("$lib/jquery.cssanimation.js",function(a){(function($){var a=/([A-Z])/g;$.fn.stopCssAnimation=function(){this.each(function(){var b=$(this),c=b.data("cssAnimatedProps"),d=window.getComputedStyle(this,null),e={};for(var f in c)f=f.replace(a,"-$1").toLowerCase(),e[f]=d.getPropertyValue(f);b.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""});for(var f in e)b.css(f,e[f]);b.data("cssAnimatedProps",null);var g=b.data("cssTimeoutId");g!=null&&(clearTimeout(g),b.data("cssTimeoutId",null))})},$.fn.animateWithCss=function(b,c,d,e){var f=jQuery.speed(c,d,e);if(jQuery.isEmptyObject(b))return this.each(f.complete);var g={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out"};f.easing=f.easing||"swing",f.easing=g[f.easing]?g[f.easing]:f.easing,this.each(function(){$(this).data("cssAnimatedProps",b);var c=window.getComputedStyle(this,null);for(var d in b)d=d.replace(a,"-$1").toLowerCase(),$(this).css(d,c.getPropertyValue(d))});var i=[];for(var j in b)i.push(j);var k=i.length?i.join(","):"all";this.css({"-moz-transition-property":k,"-moz-transition-duration":f.duration+"ms","-moz-transition-timing-function":f.easing,"-webkit-transition-property":k,"-webkit-transition-duration":f.duration+"ms","-webkit-transition-timing-function":f.easing}),this.css(b);var l=this,m=setTimeout(function(){l.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""}),l.data("cssAnimatedProps",null),l.data("cssTimeoutId",null),jQuery.isFunction(f.complete)&&f.complete.apply(l)},f.duration);return this.data("cssTimeoutId",m),this}})(jQuery),a()}),provide("IFrame",function(a){using().as(function(b){twttr.provide("twttr.IFrame"),twttr.IFrame=function(){function e(){var a=["webkit","mozilla","opera","msie"];for(var b=0;b<a.length;b++)if($.browser[a[b]])return a[b]}var a="<!DOCTYPE html><html><head>",b="</head><body>",c="</body></html>",d=function(a,b){for(var c in b)a[c]=b[c];return a},f=function(a){return jQuery.map(a||[],function(a,b){return'<link rel="stylesheet" href="'+a+'" type="text/css">'}).join("")},g=0,i=function(a){return a?(g=a.length,jQuery.map(a||[],function(a,b){return"<script "+($.browser.msie?"onReadyStateChange":"onLoad")+'="scriptReady(this);" type="text/javascript" src="'+a+'"></scr'+"ipt>"}).join("")):""},j=function(i){var j=i.window.document,k=this,l=$('<iframe allowtransparency="true" frameborder="0" tabindex="-1" role="presentation" scrolling="no"/>',j),m=l[0],n=i.complete,o=i.content,p=$.browser;i.css&&l.css(i.css),this.node=m;var q=function(){this.window=this.contentWindow=m.contentWindow,this.$node=l,$(m.contentWindow.document.body).addClass(e());var a=d(function(a){return $(a,m.contentWindow.document)},$);this.jQuery=a;try{this.window.jQuery||(this.window.jQuery=a,this.window.$=a)}catch(b){}n(this)};if(o){if(twttr.is.string(o))n&&l.bind("load",twttr.bind(this,function(){l.unbind("load"),q.call(this)})),m.src=o;else{var r="";p.mozilla&&(m.src="javascript:"+(new Date).getTime()+";'';"),p.msie&&i.domain&&(m.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\""+document.domain+"\\\";<\\\\/script>\\');document.close();};</script>'",r='<script>document.domain = "'+i.domain+'";</script>'),l.bind("load",twttr.bind(this,function(d){l.unbind("load"),m.contentWindow.document.scriptReady=function(a){if(a.readyState&&(a.readyState=="loaded"||a.readyState=="complete")||!$.browser.msie)g--,g||q.call(j)};var e=m.contentWindow.document,i=a+r+f(o.css)+(o.styles?'<base href="'+twttr.assets.path("/")+'"><style type="text/css">'+o.styles+"</style>":"")+b+(o.body||"")+c,j=this;e.open(),e.write(i),e.close(),g||q.call(j)}))}var s=i.parentNode;typeof i.parentNode=="string"?s=$(i.parentNode,j):s=i.parentNode,l[i.insert||"appendTo"](s||j.body)}};return{create:function(a,b){return a=d({window:window,complete:b},a),(new j(a)).node}}}(),a(twttr.IFrame)})}),provide("util",function(a){using("run/base").as(function(b){var c=null,d=/([a-zA-Z0-9])([A-Z])/g,e=/_(.)/g,f=/\?(.*)/,g={supplant:function(){var a=/\{([^\{\}]*)\}/g;return function(b,c){return b.replace(a,function(a,b){var d=c[b];return twttr.is.string(d)||twttr.is.number(d)?d:a})}}(),joinPath:function(a,b){return a.substr(-1)==="/"?a+b:a+"/"+b},defaulted:function(a,b){return twttr.is.def(a)?a:b},create:function(a){function b(){}return b.prototype=a,b.constructor=b,new b},params:function(a){if(!a&&c)return c;var b={},d=a||window.location.search;return d?(d.charAt(0)==="?"&&(d=d.slice(1)),twttr.each(d.split("&"),function(a){a=a.split("=");var c=a.shift(),d=decodeURIComponent(a.join("="));b[c]=d.replace(/\+/," ")}),a||(c=b),b):b},paramsFromUrl:function(a){return!a||a.indexOf("?")<0?null:g.params(a.split(f)[1])},underscore:function(a){return a.toUpperCase()===a?a:a.replace(d,function(a,b,c){return b+"_"+c}).toLowerCase()},camelize:function(a){return a.replace(e,function(a,b){return b.toUpperCase()})},camelizeObject:function(a){if(!twttr.is.object(a))throw new Error("The carmelizeObject() method only accepts apples.");var b={};for(var c in a)b[g.camelize(c)]=a[c];return b},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},addCommas:function(a,b){return b=b||",",parseInt(a,10).toString().replace(/(.)(?=(.{3})+$)/g,function(a,c){return c+b})},_numberFormats:{de:{grouping_separator:"."},en:{grouping_separator:","},es:{grouping_separator:"."},fr:{grouping_separator:" "},it:{grouping_separator:"."},ja:{grouping_separator:","},pt:{grouping_separator:"."},tr:{grouping_separator:"."},nl:{grouping_separator:"."},id:{grouping_separator:"."}},formatNumber:function(a,b){var c=",";return twttr.is.def(b)&&g._numberFormats[b]&&(c=g._numberFormats[b].grouping_separator),g.addCommas(a,c)},diff:function(a,b,c){var d={};if(!twttr.is.object(a)||!twttr.is.object(b))throw new Error("util.diff currently supports only single-level object comparison");for(var e in a)c?c(a[e],b[e])||(d[e]=[a[e],b[e]]):a[e]!==b[e]&&(d[e]=[a[e],b[e]]);for(var e in b)d[e]||(c?c(b[e],a[e])||(d[e]=[a[e],b[e]]):a[e]!==b[e]&&(d[e]=[a[e],b[e]]));return d},trim:function(a){return a.replace(/(^\s*|\s*$)/g,"")},lazyBind:function(){var a={},b=function(b){return setInterval(function(){$.each(a[b],function(a,b){b.callback.call(b.node,b.event)}),a[b]={}},b)},c={},d=0,e=0;return function(f,g,i,j){j=j||1e3,a[j]=a[j]||{};var k=$(f);i.id||(i.id=++d),k.data("lazy-id")||k.data("lazy-id",e++),k.bind(g,function(b){var c=k.data("lazy-id")+g+i.id;a[j][c]={callback:i,event:b,node:f}}),c[j]||(c[j]=b(j),!$.browser.msie&&!twttr.selenium&&($(window).bind("blur",function(a){c[j]&&(clearInterval(c[j]),c[j]=null)}),$(window).bind("focus",function(){c[j]||(c[j]=b(j))})))}}(),displayLength:function(a){if(typeof a!="string")throw new Error("displayLength() requires a single input of type string");var b=0,c=0,d=function(a,b){var c=a.charCodeAt(b),d="",e="";if(55296<=c&&c<=56319){if(a.length<=b+1)throw"High surrogate without following low surrogate";d=a.charCodeAt(b+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(b)+a.charAt(b+1)}if(56320<=c&&c<=57343){if(b===0)throw"Low surrogate without preceding high surrogate";e=a.charCodeAt(b-1);if(55296>e||e>56319)throw"Low surrogate without preceding high surrogate";return!1}return 8206==c||8207==c?!1:a.charAt(b)};for(b=0,c=0;b<a.length;b++){if(d(a,b)===!1)continue;c++}return c},objKeys:function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},arrayUniq:function(a){var b=0;while(b<a.length)$.inArray(a[b],a)<b?a.splice(b,1):b++;return a},arrayMap:function(a,b){var c=[];for(var d=0,e=a.length;d<e;++d)c.push(b.call(a[d],a[d],d,a));return c},linkifyEntities:function(a,b){return b.entities&&b.entities.urls&&twttr.each(b.entities.urls,function(b){b.display_url&&(a=a.replace(new RegExp(">"+g.escapeRegExpChars(h(b.url))+"<\\/a>"),function(){return">"+h(b.display_url)+"</a>"})),b.expanded_url&&(a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(b.url))+"[\"'])"),function(a,c){return c+' data-expanded-url="'+h(b.expanded_url)+'" title="'+h(b.expanded_url)+'"'}))}),b.entities&&b.entities.media&&b.entities.media.length>0&&twttr.each(b.entities.media,function(c){var d=b.text.substring(c.indices[0],c.indices[1]);if(c.display_url){var e="";if(c.sizes&&c.sizes.medium){var f=c.sizes.medium;e=' data-media-h="'+h(f.h)+'" data-media-w="'+h(f.w)+'"'}a=a.replace(new RegExp(">"+g.escapeRegExpChars(h(d))+"<\\/a>"),function(){return e+' data-twitter-media-url="true">'+h(c.display_url)+"</a>"})}if(c.expanded_url)if(twttr.domains.local.indexOf("staging")===0){var i=c.expanded_url.replace(/http[s]?:\/\/twitter.com/,"//"+twttr.domains.local);a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(d))+"[\"'])"),function(){return'href="'+h(i)+'" data-expanded-url="'+h(c.expanded_url)+'" title="'+h(c.expanded_url)+'"'})}else a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(d))+"[\"'])"),function(a,b){return b+' data-expanded-url="'+h(c.expanded_url)+'" title="'+h(c.expanded_url)+'"'})}),a},linkify:function(a){var b=twttr.decider.isAvailable(twttr.loggedIn?"swift_profile":"swift_profile_logged_out"),c=twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(a,{hashtagClass:"twitter-hashtag pretty-link",urlClass:" ",hashtagUrlBase:"/#!/search/%23",hash:"<s>#</s>",preText:"<b>",postText:"</b>",extraHtml:' data-query-source="'+twttr.search.searchQuerySource.HASHTAG+'"'}),{urlClass:"twitter-timeline-link",target:"_blank"}),{usernameClass:"twitter-atreply pretty-link",usernameUrlBase:b?"/":"/#!/",listClass:"twitter-listname",urlClass:" ",preChunk:"<b>",postChunk:"</b>"});return c.replace(/([@＠]+)(<[^>]*>)/g,"$2<s>$1</s>")},queryHighlight:function(a,b){var c=a.replace(/"/gi,""),d=b.replace(/<[^>]+>/g,"");return twttr.txt.hitHighlight(b,g.highlightIndices(c,d),{tag:"strong"})},escapeRegExpChars:function(){var a="\\/{}|()[]?.*+:^$";return specialCharsMatcher=new RegExp("((\\"+a.split("").join(")|(\\")+"))","gi"),function(a){return a.replace(specialCharsMatcher,function(a,b){return"\\"+b})}}(),normalizeCharacters:function(a){return a.replace(/[ÄÅÖØÜäåöøüÆæß]/g,function(a){switch(a){case"Ä":return"AE";case"Å":return"AA";case"Ö":case"Ø":return"OE";case"Ü":return"UE";case"ä":return"ae";case"å":return"aa";case"ö":case"ø":return"oe";case"ü":return"ue";case"Æ":return"AE";case"æ":return"ae";case"ß":return"ss";default:return a}})},highlightIndices:function(a,b){a=g.escapeRegExpChars(a);var c;twttr.decider.isAvailable("escape_ampersands_in_search_highlighter")?c=twttr.util.arrayMap(a.split(/\s+/),function(a){return a.replace("&","&amp;")}):c=a.split(/\s+/);var d=[];for(var e in c)d.push(g.normalizeCharacters(c[e]));var f=[],i="("+c.join(")|(")+")|("+d.join(")|(")+")",j="!#%&+,-./:;<=>?@^_{|}~".split("").join("\\"),k=new RegExp("(^|\\b|\\W|["+j+"])("+i+")(\\b|\\s|$|["+j+"])","gi");return b.replace(k,function(a,b,c){var d=arguments[arguments.length-2]+b.length;f.push([d,d+c.length])}),f},inspect:function(a){console.clear();var b=$(a),c=b.data("events"),d=0,e=0,f=[],g=[];for(key in c){f.push(key),d++,g.push("\n*******************\n"),g.push("Events for "+key+"\n\n");for(fn in c[key]){var i=c[key][fn];e++,g.push(i.toSource()+"\n")}}console.log("************* Summary *************"),console.log("for target",b),console.log(d+" types of events",f),console.log(e,"Total Event Listeners"),console.log("Event listeners assigned to target"),console.log(g.join(" "))},regexSupplant:function(a,b){return b=b||"",typeof a!="string"&&(a.global&&b.indexOf("g")<0&&(b+="g"),a.ignoreCase&&b.indexOf("i")<0&&(b+="i"),a.multiline&&b.indexOf("m")<0&&(b+="m"),a=a.source),new RegExp(a.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.regexps[b]||"";return typeof c!="string"&&(c=c.source),c}),b)},leven:function(a,b){var c,d,e=a.length,f=b.length;if(!e)return f;if(!f)return e;var g=[];for(var i=0;i<=e;i++)g[i]=[],g[i][0]=i;for(var j=0;j<=f;j++)g[0][j]=j;for(var i=1;i<=e;i++){c=a.charAt(i-1);for(var j=1;j<=f;j++)g[i][j]=Math.min(g[i-1][j]+1,g[i][j-1]+1,g[i-1][j-1]+(c==b.charAt(j-1)?0:1))}return g[e][f]},uriRegex:new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)?(?:\\?([^#]*))?(?:#(.*))?$","i"),noopInT1:function(){},noopInP1:function(){}};g.Location=twttr.klass(function(a){a.match(/^\/\//)?a="http:"+a:a.match(/^[a-z]+:\/\//)||(a="http://"+a);var b=a.match(/^([a-z]+:)\/\/([\w\-\.]+)(\:\d+)?(.+)?/);this.href=a,this.protocol=b[1],this.hostname=b[2],this.host=b[2]+(b[3]||""),this.port=b[3]?b[3].slice(1):b[1]==="https:"?"443":"80";var c=b[2].match(/\.(\w+)$/);c?this.extension=c[1]:this.ext="";if(!b[4])this.hash="",this.search="",this.pathname="/";else{b[4].match(/^\//)||(b[4]="/"+b[4]);var d=b[4].split("?"),e=b[4].split("#");this.pathname=d[0],/\/$/.test(this.pathname)||(this.pathname=this.pathname+"/"),this.search=d.length>1?"?"+function(){return d.shift(),d.join("").replace(/#.*$/,"")}():"",this.hash=e.length>1?"#"+e[1]:""}}).methods({query:function(a){return this.search?g.params(this.search)[a]||"":""}}),g.WaitQueue=twttr.klass(function(){this._methods=[],this._response=null,this._flushed=!1}).methods({add:function(a){this._flushed?a(this._response):this._methods.push(a)},flush:function(a){if(this._flushed)return;this._response=a,this._flushed=!0;while(this._methods[0])this._methods.shift()(a)}}),twttr.provide("twttr.util",g),a(g)})}),provide("constants",function(a){using().as(function(b){var c={sessionPollInterval:1e4,directMessagePollInterval:9e4,defaultScribeCategory:"webclient",scribeHostName:"scribe.twitter.com",maxUrlLength:2083,tcoLength:20,japaneseAdUrl:"//pages.quantumads.com/transformer/async.js?callback=twttr.components.JapaneseAd.callbacks.",japaneseAdIframeUrl:"//web-jp.ad-v.jp/adam/detect?tag=htm&cat=twitter.all&format=side_banner",keyCodes:{enter:13,escape:27,esc:27,tab:9,del:8,spacebar:32,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39},which:{period:46},charCodes:{space:32,questionMark:63},placeTypes:{city:7},promotedContent:{linkType:{URL:1,PROFILE_PIC:2,SCREEN_NAME:3,HASHTAG:4,USER_NAME:5,DISPLAYED:27,DETAIL:28,DISMISS_WITHOUT_REASON:31,DISMISS_UNINTERESTING:32,DISMISS_REPETITIVE:33,DISMISS_SPAM:34,DISMISS_OTHER:35,FOOTER_PROFILE:36,PERMALINK:40}},videos:{widescreen:"16:9",fullscreen:"4:3"},jQueryEvents:"blur hover focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),errorCodes:{notFollowing:"NotFollowingErrorMessage",duplicateTweet:"DuplicateTweetErrorMessage",malwareTweet:"MalwareErrorMessage",dailyLimit:"DailyLimitErrorMessage",tooLongTweet:"TooLongErrorMessage",whale:"DefaultErrorMessage",otherUserSuspended:"OtherUserSuspendedErrorMessage",suspended:"SuspendedErrorMessage",permission:"PermissionErrorMessage",photoTimeout:"PhotoTimeoutErrorMessage",followingLimitReached:"FollowingLimitReachedErrorMessage",blockedFromFollowing:"BlockedFromFollowingErrorMessage",tooLongListName:"TooLongListNameErrorMessage",tooLongListDescription:"TooLongListDescriptionErrorMessage",noLetterStartListName:"NoLetterStartListNameErrorMessage",userNotFound:"UserNotFoundErrorMessage",tweetNotFound:"TweetNotFoundErrorMessage"},regexps:{name:/\S+/,usernameForSignup:/^[@＠]?([a-zA-Z0-9_]{1,15})$/,username:/^[@＠]?([a-zA-Z0-9_]{1,22})$/,usernameWithAt:/^[@＠]{1}([a-zA-Z0-9_]{1,22}) /,usernameWithSpace:/^[@＠]{1}(\w{1,22})\s*$/,suggestionCategoryPath:/\/(who_to_follow|welcome)\/interests\/([^\/]+)/,userSearchPath:/(\/(who_to_follow|welcome)\/search\/|\/search\/users\/)([^\/]+)/,email:/^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,rtlChar:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,dirMark:/\u200e|\u200f/gm,rtlHashtag:/^#.*([\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF])+/gm},recaptcha:{srcUrl:twttr.recaptchaUrlForTest||"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",publicKey:"6LfbTAAAAAAAAE0hk8Vnfd1THHnn9lJuow6fgulO"},noob:{dismissed:-2,notNoob:-1,total:0,invited:1,friendless:2,silent:3,talking:4,popular:5,lonely:6,struggling:7},imageSizes:{small:"small",medium:"medium",large:"large",original:"original"},slideshow:{fadeOutArrowTimeout:2e3,fadeInArrowTimeout:750,fadeAnimationTime:400,photoMinHeight:340,videoMinHeight:390,videoMaxWidth:480},clientEvent:{itemType:{tweet:0,promotedTweet:1,popularTweet:2,user:3,promotedUser:4,activity:5,message:6,story:7}},media:{photoIcon:"photo"},users:{maxLookupSize:100},scribe:{CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2}};twttr.constants=c,a(c)})}),provide("cache",function(a){using().as(function(b){twttr.provide("twttr.cache"),twttr.provide("twttr.caches"),twttr.klass("twttr.cache.Simple",function(){this._cache={}}).methods({set:function(a,b,c){this._cache[a]={value:b,expire:twttr.is.number(c)?this._getTime()+c:null};var d=this._writeThrough();return d===!1&&this.remove(a),b},get:function(a){return this._checkExpiry(a),this._cache[a]?this._cache[a].value:undefined},remove:function(a){delete this._cache[a],this._writeThrough()},clear:function(){this._cache={},this._writeThrough()},_checkExpiry:function(a){this._cache[a]&&this._cache[a].expire&&this._cache[a].expire<this._getTime()&&this.remove(a)},_getTime:function(){return(new Date).getTime()},_writeThrough:function(){return!0}}),function(){function n(a){return window.localStorage.getItem(a)}function o(a,b){return window.localStorage.setItem(a,b)}function p(a){return window.localStorage.removeItem(a)}function q(a){return window.sessionStorage.getItem(a)}function r(a,b){return window.sessionStorage.setItem(a,b)}function s(a){return window.sessionStorage.removeItem(a)}function t(){}var a,b,c=!1;try{a="localStorage"in window&&window.localStorage!==null,b="sessionStorage"in window&&window.sessionStorage!==null,c=!0}catch(d){a=!1,b=!1,c=!1}try{if(document.documentElement.addBehavior){c=!1,a=!0;var e=document.createElement("div");document.body.appendChild(e),e.style.display="none",e.addBehavior("#default#userData"),e.load("phoenix");var f=e.xmlDocument,g=f.documentElement;function i(a){var b=g.childNodes,c,d=null;for(var e=0,f=b.length;e<f;e++){c=b.item(e);if(c.getAttribute("key")==a){d=c;break}}return d}function j(a){var b=i(a),c=null;return b&&(c=b.getAttribute("value")),c}function k(a,b){var c=i(a);return c?c.setAttribute("value",b):(c=f.createNode(1,"item",""),c.setAttribute("key",a),c.setAttribute("value",b),g.appendChild(c)),e.save("phoenix"),b}function l(a){var b=i(a);b&&g.removeChild(b),e.save("phoenix")}function m(){while(g.firstChild)g.removeChild(g.firstChild);e.save("phoenix")}}}catch(d){a=!1}var u=t,v=t,w=t,x=t;a&&(u=c?o:k,v=c?n:j,w=c?p:l,x=c?p:m),twttr.klass("twttr.cache.LocalProvider",function(a){twttr.cache.Simple.call(this),this._namespace=a,this._cache=JSON.parse(v(a)||"{}"),twttr.cache.LocalProvider._caches.push(this)}).subclassOf(twttr.cache.Simple).statics({hasLocalStorage:a,_caches:[],clearAll:function(){twttr.each(this._caches,function(a){a.clear()}),this._caches=[]}}).methods({_writeThrough:function(){try{return u(this._namespace,JSON.stringify(this._cache)),!0}catch(a){return!1}}})}(),twttr.klass("twttr.cache.local.User",function(a){this.name=a,this.cache=new twttr.cache.LocalProvider(":USER:"),this.user=this.cache.get(a)||this.cache.set(a,{login:(new Date).getTime(),store:{}}),this.clean()}).methods({_getTime:function(){return(new Date).getTime()},clean:function(){this.user.login=(new Date).getTime();var a=0,b=(new Date).getTime(),c=null;for(var d in this.cache._cache){a++;var e=this.cache._cache[d],f=e.value.login;f<b&&(b=f,c=d)}a>3&&this.cache.remove(c)},remove:function(a){delete this.user.store[a],this.save()},get:function(a){var b=this.user.store[a];if(!twttr.is.def(b))return undefined;var c=this._getTime();return b.expire&&b.expire<c?undefined:b.value},set:function(a,b,c){var d={value:b,expire:twttr.is.number(c)?this._getTime()+c:null};return this.user.store[a]=d,this.save(),b},update:function(a,b,c){var d=twttr.is.def(this.user.store[a])?c:this.user.store[a].expire;return this.set(a,b,d),b},save:function(){this.cache.set(this.name,this.user)}}),a({Simple:twttr.cache.Simple,LocalProvider:twttr.cache.LocalProvider,User:twttr.cache.local.User,caches:twttr.caches})})}),provide("singletons/namespaced_store",function(a){using().as(function(b){twttr.klass("twttr.cache.NamespacedStore",function(a){if(this.cache_key===null)throw"You need to set a cache key to use a NamespacedStore.";this.cache=new twttr.cache.LocalProvider(a)}).methods({ttl:6e4,cache_key:null,clear:function(){this.cache.remove(this.cache_key)},getData:function(){var a=this.cache.get(this.cache_key);try{return JSON.parse(a)}catch(b){return null}},setData:function(a){this.cache.set(this.cache_key,JSON.stringify(a),this.ttl)}}),a(twttr.cache.NamespacedStore)})}),provide("singletons/promoted_account_store",function(a){using().as(function(b){twttr.klass("twttr.promotedAccountStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_accounts"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:6e4,cache_key:"promoted_account",getAccount:function(){return this.getData()},hasAccount:function(){return!!this.getAccount()},setAccount:function(a,b){var c={id:a,impressionId:b};this.setData(c)}}),twttr.promotedAccountStore=new twttr.promotedAccountStoreSingleton,a(twttr.promotedAccountStore)})}),provide("singletons/promoted_tweet_store",function(a){using("libwrap/jquery").as(function(b,$){var c="h";twttr.klass("twttr.promotedTweetStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_tweets"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:18e5,cache_key:"promoted_tweet",clear:function(){this.constructor.uber.clear.apply(this,arguments),$.cookie(c,null)},getTweetInfo:function(){if(!twttr.decider.isAvailable("ptw_reinjection"))return null;var a=this.getData();return a&&a.data&&a.data.promoted_status?(this.clear(),null):a},hasTweetInfo:function(){return twttr.decider.isAvailable("ptw_reinjection")?!!this.getTweetInfo():!1},setTweetInfo:function(a,b,d){if(!twttr.decider.isAvailable("ptw_reinjection"))return;var e=[b.id_str,a,d?"po":"pr"].join(","),f=new Date;f.setTime(f.getTime()+this.ttl);var b={olderTweetId:a,data:b};this.setData(b),$.cookie(c,e,{expires:f})}}),twttr.promotedTweetStore=new twttr.promotedTweetStoreSingleton,a(twttr.promotedTweetStore)})}),provide("decider",function(a){using("util").as(function(b){twttr.klass("twttr.Decider",function(a,b){a=a||{},this._updateFeatures(a),b=b||this.constructor.DEFAULT_REFRESH_INTERVAL,setInterval(twttr.bind(this,this.updateFeatures),b)}).statics({DECIDER_URL:"/account/available_features",DEFAULT_REFRESH_INTERVAL:18e4}).methods(twttr.EventProvider).methods({features:function(){return this._features||{}},isActivityEnabled:function(){return this.isAvailable("activity_read")&&this.isAvailable("activity_dark_read")},isExpando:function(){return twttr.expando||twttr.isT1},isInfiniteScroll:function(){return this.isAvailable("infinite_scroll")&&!($.browser.msie&&parseInt($.browser.version,10)<8)},hasInlineReplies:function(){return twttr.decider.isAvailable("inline_reply_box")||twttr.abdecider.choose("inline_reply_box_197")==="reply_box"},isAvailable:function(a){return twttr.deciderOverrides&&twttr.deciderOverrides[a]!==undefined?!!twttr.deciderOverrides[a]:twttr.is.fn(a)?a():this._features?!!this._features[a]:!1},featureUrl:function(a){var b=a&&a.spoof_country;return b?this.constructor.DECIDER_URL+"?spoof_country="+b:this.constructor.DECIDER_URL},updateFeatures:function(){var a=twttr.API._requestCache.get("account/available_features",{});a?this._updateFeatures(a):this._makeRemoteRequest()},_makeRemoteRequest:function(a){$.getJSON(this.featureUrl(b.util.params()),twttr.bind(this,function(b){b&&this._updateFeatures(b),a&&a()}))},_updateFeatures:function(a,c){var d=this._features||{};this._features=a;if(c)return;var e=b.util.diff(d,this._features);for(var f in e){var g={key:f,previous:e[f][0],current:e[f][1]};this.trigger("keyChanged",g)}},goodAtCss:function(){return $.support.boxModel&&!($.browser.msie&&parseFloat($.browser.version)<=6)}}),twttr.decider=new twttr.Decider,signal(">decider"),a(twttr.decider)})}),provide("multiGlobals/scribble",function(a){using("constants").as(function(b){twttr.klass("twttr.ScribeBuffer",function(){if(twttr.ScribeBuffer.instance)throw"This is a singleton, yo";twttr.ScribeBuffer.instance=this,this.ajax=$.ajax,this.reset();try{var a=sessionStorage.getItem("ScribeTransport");if(a){var b=this;twttr.each(JSON.parse("["+a+"]"),function(a){b.addData(a)}),sessionStorage.removeItem("ScribeTransport")}}catch(c){}}).methods({getBuffer:"",postBuffer:[],maxLength:null,reset:function(){this.getBuffer="",this.postBuffer=[];var a="q="+(+(new Date)).toString().slice(-4);this.path="/scribe",this.url=this.path+"?"+a,window.location.hostname.match(/^(www\.|[A-Z]{2}\.|^)twitter.com$/i)&&(this.url=window.location.protocol+"//"+b.constants.scribeHostName+this.url),this.maxLength=(twttr.decider.isAvailable("use_scribe_post")?twttr.scribeBufferSize||10:1)*b.constants.maxUrlLength-this.url.length},_isEmpty:function(){return this.getBuffer.length===0&&this.postBuffer.length===0},send:function(a){if(this._isEmpty())return;twttr.decider.isAvailable("use_scribe_post")?this.ajax({url:this.path,data:{log:this.postBuffer},type:"POST",async:!a}):(new Image).src=this.url+this.getBuffer,this.reset()},getPostBufferForForm:function(){var a=this.postBuffer;return this.reset(),JSON.stringify(a)},sendReliabilityEvent:function(a){this.ajax({url:this.path,data:{reliability_event:"true"},type:"POST",success:a})},addData:function(a){var b=JSON.stringify(a),c=this._encodeStringifiedData(b);c.length>twttr.ScribeBuffer.instance.maxLength&&(a=this._truncateData(a),b=JSON.stringify(a),c=this._encodeStringifiedData(b)),this.url.length+this.getBuffer.length+c.length>this.maxLength&&this.send(),this.getBuffer+="&"+c,this.postBuffer.push(b);if(window.scribeConsole){var d=window.location.protocol+"//"+window.location.host;try{window.scribeConsole.postMessage(a,d)}catch(e){var f="unserializable scribe data ["+category+"]";window.scribeConsole.postMessage({error:f,event_data:JSON.stringify(a)},d)}}twttr.is.array(twttr.allScribeEvents)&&(twttr.allScribeEvents.push(b),localStorage.twttrAllScribeEvents=JSON.stringify(twttr.allScribeEvents));if($.cookie("phx_scribe_now")=="1"){var g=this;window.setTimeout(function(){g.send()},0)}},_encodeStringifiedData:function(a){return"log%5B%5D="+encodeURIComponent(a)},_truncateData:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&typeof a[c]!="object"&&(b[c]=a[c]);return b._truncated_for_scribe=!0,b}}),twttr.klass("twttr.Scribbler",function(a,c,d,e,f){this.expectedToHaveComponent=arguments.length>0,this.component=a||"",this.contextData=c||{},this.category=d||b.constants.defaultScribeCategory,this.eventPrefix=e||"",this.options=f||{}}).methods({DECIDERED_CATEGORIES:{client_event:1},spawn:function(a,b){var c=twttr.merge({},this.contextData,a||{});return new this.constructor(this.component,c,this.category,b||this.eventPrefix,this.options)},_contextData:function(){return twttr.merge({},this.contextData)},_mapAPIObjectData:function(a){var b={};for(var c in a)a[c]&&a[c].array&&twttr.is.array(a[c].array)?b[c]=a[c].array:b[c]=a[c];return b},_isCategoryAvailable:function(a){return!this.DECIDERED_CATEGORIES[a]||twttr.decider.isAvailable("scribe_"+a)},scribe:function(a,b,c,d){if(this.expectedToHaveComponent&&!this.component)return;if(!twttr.decider.isAvailable("phoenix_scribe")||!this._isCategoryAvailable(c||this.category))return;d=d||{},b=b||{},twttr&&!twttr.loggedIn&&(b.user_id=0),b.page=twttr.audit.currentPage(),b._category_=c||this.category,b.ts=(new Date).getTime();if(filter=d.filter||this.options.filter)b._filter_=d.filter;b=twttr.merge(this._contextData(),b);for(var e in b)twttr.is.fn(b[e])&&(b[e]=b[e].call(this.component,a,b,c));if(a){twttr.is.fn(this.eventPrefix)?a=this.eventPrefix.call(this.component,a):a=this.eventPrefix+a;var f=twttr.merge({event_name:a},b);twttr.ScribeBuffer.instance.addData(this._mapAPIObjectData(f))}}}),function(){twttr.ScribeBuffer.instance=new twttr.ScribeBuffer,twttr.Scribbler.global=new twttr.Scribbler,window.scribble=twttr.scribble=function(){return twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)},$(window).bind("unload",function(){twttr.ScribeBuffer.instance.send(!0)}),$(document).delegate("form","submit",function(){if(twttr.decider.isAvailable("scribe_form_piggyback")){var a=$(this).find("input[name='scribe_log']"),b=$(this).find("input[name='reliability_event']");a.length&&b.val()!="true"&&a.val(twttr.ScribeBuffer.instance.getPostBufferForForm())}}),$.browser.msie?document.onfocusout=function(){twttr.ScribeBuffer.instance.send()}:$(window).blur(function(){twttr.ScribeBuffer.instance.send()});var a=twttr.isPreflight||window.location.host.match(/^(localhost|staging)/gi);a&&window.postMessage&&$(document).keypress(function(a){if(a.charCode==205&&a.shiftKey&&a.altKey){var b="menubar=no,toolbar=no,personalbar=no,location=no,resizable=yes,status=no,dependent=yes,height=600,width=600,screenX=100,screenY=100,scrollbars=yes";window.scribeConsole=window.open("/scribe/console","scribe_console",b)}})}(),a()})}),provide("abdecider",function(a){using("util").as(function(b){twttr.klass("twttr.AbDecider",function(a,b){this._impressions={},this._updateExperiments(a||{}),b=b||this.constructor.DEFAULT_REFRESH_INTERVAL;if(b>0){var c=this;setTimeout(function(){setInterval(twttr.bind(c,c.updateExperiments),b)},b/2)}}).statics({ABDECIDER_URL:"/account/available_ab_buckets",LOG_EVENTS:!1,DEFAULT_REFRESH_INTERVAL:-1}).methods(twttr.EventProvider).methods({experiments:function(){return this._experiments||{}},choose:function(a,b){if(!this._experiments)return"";var c=this._experiments[a];if(!c||!c.bucket)return"";var d=c.bucket,e=c.experiment_key;return b||this._impressions[e]!=d&&(this._trackInternal(a),this._impressions[e]=d),d},chooseWithoutImpression:function(a){return this.choose(a,!0)},track:function(a,b,c){if(b==this.constructor.AB_IMPRESSION_EVENT)return;this._trackInternal(a,b,c)},updateExperiments:function(){$.getJSON(this.constructor.ABDECIDER_URL,twttr.bind(this,function(a){a&&this._updateExperiments(a)}))},_updateExperiments:function(a,c){var d=this._experiments||{};this._experiments=a;if(c)return;var e=b.util.diff(d,this._experiments,function(a,b){return!a||!b?!1:a.bucket===b.bucket&&a.version===b.version});for(var f in e){var g={key:f,previous:e[f][0],current:e[f][1]};this.trigger("keyChanged",g)}},set:function(a,b){if(!this._experiments||!this._experiments[a])return;this._experiments[a]=twttr.merge({},this._experiments[a],{bucket:b})},remove:function(a){this._experiments[a]=null},_trackInternal:function(a,b,c){if(!this._experiments)return;var d=this._experiments[a];if(!d)return;var e=twttr.merge(c||{},{bucket:d.bucket,experiment_key:d.experiment_key,version:d.version});this.constructor.LOG_EVENTS&&console.log(a+": "+(b||"impression"));if(b){var f=b.replace(/[^0-9A-Z]+/gi,"_").toLowerCase(),g="web:ddg:"+d.experiment_key+"::"+f+":track";scribble(g,e,"client_event")}else scribble("web:ddg:"+d.experiment_key+":::experiment",e,"client_event")}}),twttr.abdecider=new twttr.AbDecider,signal(">ab_decider"),a(twttr.abdecider)})}),provide("app",function(a){using("util").as(function(b){twttr.provide("twttr.app",twttr.merge({init:function(a){var b=this;this.signal("init"),this.$globalActions=$("#global-actions");var c=[">allCodeLoaded"];a&&c.push(">wokeUp"),using(c,function(){b._fullyLoaded=!0,b.signal("fullyLoaded")})},fullyLoaded:function(){return!!this._fullyLoaded},switchToPage:function(a){this.trigger("switchToPage",a.toLowerCase());if(this.currentPageName()!==a){var c=this.currentPage();this._currentPageName=a;var d=b.util.capitalize(b.util.camelize(a)),e=!1,f=this.pages[a];f||(f=this.pages[a]=new twttr.PagePromise(d),f.whenUnavailable(function(){twttr.app.switchToPage("404").send("notFound")}),f.bind("loginRequired",function(){twttr.ScribeBuffer.instance.send(),twttr.app.switchToPage("Login").send("loginRequired")}),f.bind("notFound",function(){twttr.app.switchToPage("404").send("notFound")}),f.build(),e=!0),c?(c.send("onSwitchAway"),c.$node.detach(),$("#page-container").empty().append(f.$node)):f.one("rendered",function(){$("#page-container").has(f.$node).length>0||$("#page-container").empty().append(f.$node)}),this.highlightGlobalNav(a),f.send("onSwitchTo"),e&&(f.send("onFirstSwitch"),f.send("shouldAutoRender",function(a){a&&f.send("render")})),!c&&window.ttft&&(window.ttft.firstPage=a)}else this.currentPage().send("initializeProfiler");return this.currentPage()},highlightGlobalNav:function(a,b){a=a.toLowerCase(),this.$globalActions.find("li.active[data-global-action]").removeClass("active"),a==="profile"&&b==undefined&&(b=twttr.helpers.isCurrentUser($("div.profile-header").attr("data-screen-name"))),a&&(a!=="profile"||b)&&this.$globalActions.find("li[data-global-action='"+a+"']").addClass("active")},currentPage:function(){return this.pages[this._currentPageName]},currentPageName:function(){return this._currentPageName},getPage:function(a){return this.pages[a]},isOnPage:function(a){return a===this.currentPageName()},recalculatePadding:function(){var a=$("div.js-banners").children().length<=1;a?this.resetPadding():this._resizeTopBar()},_resizeTopBar:function(){var a=20,b=twttr.isT1?$(".js-banners").height():$(".js-topbar").height()+a,c=$("#page-outer");c.css({"padding-top":b}),twttr.isT1&&$("#message-drawer").css({marginTop:b}),this._resizeDetailsPane()},_resizeDetailsPane:function(){var a=this.currentPage();a&&a.send("resizeDetailsPane")},_repositionDetailsPane:function(){var a=twttr.app.currentPage();a&&a.send("repositionDetailsPane")},resetPadding:function(){var a=$("#page-outer");a.css({"padding-top":""}),twttr.isT1&&$("#message-drawer").css({marginTop:""}),this._resizeDetailsPane()},addComponentToAppBody:function(a){a.bind("destroyed",function(){twttr.app.recalculatePadding(),twttr.app._repositionDetailsPane()}),$("#page-outer").prepend(a.$node)},pages:{},caches:{deletedTweets:new twttr.cache.LocalProvider("deleted_tweets"),dmThreads:new twttr.cache.LocalProvider("dm_threads"),draftTweets:new twttr.cache.LocalProvider("draft_tweets"),searchQuerySource:new twttr.cache.LocalProvider("__searchQuerySource__:source")}},twttr.EventProvider)),a(twttr.app)})}),provide("singletons/external_url_store",function(a){using().as(function(b){twttr.klass("twttr.externalURLStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["external_urls"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:36e5,cache_key:"external_url",minimumDuration:1e3,scribeFocusAfterClick:function(){if(!twttr.decider.isAvailable("eurl_dwell_time_store"))return;var a=this.getData();if(a){var b=this.currentTimeAsInt()-a.clickTime;if(b>this.minimumDuration){var c=twttr.merge(a.scribeData,{duration_ms:b});trackClient({action:"refocus"},c),this.clear()}}},setData:function(a,b){if(!twttr.decider.isAvailable("eurl_dwell_time_store"))return;if(this.isNotTwitterURL(a)){var c=twttr.merge(b.scribeData,{event_info:"external_link",url:a}),d={clickTime:this.currentTimeAsInt(),scribeData:c};this.constructor.uber.setData.apply(this,[d])}},isNotTwitterURL:function(a){var b=a.split("/");return b[0].indexOf("twitter.com")==-1&&b[2].indexOf("twitter.com")==-1},currentTimeAsInt:function(){return+(new Date)}}),twttr.externalURLStore=new twttr.externalURLStoreSingleton,twttr.app.waitForSignal("init",function(){twttr.externalURLStore.scribeFocusAfterClick()}),a(twttr.externalURLStore)})}),provide("singletons/Router",function(a){using().as(function(b){var c=/^\/*/,d=/\/*$/;twttr.klass("twttr.Router",function(){this._routes=[],this.routeMethodsForMustache={},this.routeMethods={},this.viewedPagesCount=0,this.pageViewsPerRefresh=50,this.routingEnabled=!0,this.swiftRoutes={}}).statics(twttr.EventProvider).statics({match:function(a,b){a=this.normalizePath(a),b=this.normalizePath(b);var c={};if(a===b)return c;if(a==="")return!1;var d=a.split("/"),e=b.split("/");if(d.length!==e.length)return!1;for(var f=0;f<d.length;f++)if(e[f].charAt(0)===":"){if(d[f].match(/^\s*$/))return!1;c[e[f].slice(1)]=decodeURIComponent(d[f])}else if(d[f]!==e[f])return!1;return c},generatePathFunction:function(a){var b=this;return function(c){var d=b.supplantPath(a,c);return d===!1&&!twttr.isTestEnv&&console.error("Failed to generate a path",a,c),d}},supplantPath:function(a,b){var c=a.split("#").join("/#").split("/"),d=[];for(var e=0;e<c.length;e++){var f=c[e],g=!1;f.charAt(0)==="#"&&(f=f.slice(1),g=!0);if(f.charAt(0)===":"){var i=f.slice(1);if(typeof b[i]=="undefined")return!1;f=b[i],typeof f=="function"&&(f=f.call(b)),f=encodeURIComponent(f)}g&&(f="#"+f),d.push(f)}return d.join("/").split("/#").join("#")},sanitizeRedirectUrl:function(a){var b=a,c=b.match(twttr.util.uriRegex),d=c[1];return d&&d.indexOf("javascript")>=0&&(b="http://twitter.com/"),b},performRedirect:function(a){window.location.assign(this.sanitizeRedirectUrl(a))},getWindowLocation:function(){return window.location},getCurrentPath:function(){var a=this.getWindowLocation(),b=a.href;if(a.hash===""&&b.indexOf("#")!==-1){var c=a.pathname.split("/");for(var d=0;d<c.length;d++)c[d]=encodeURIComponent(c[d]);b=a.origin+c.join("/")}return this.getPathFromHref(b)},getPathFromHref:function(a){var b=a.split("/").slice(2).join("/");b.indexOf("#")===-1&&(b+="#");var c=b.split("#"),d=c[0],e=c[1];d.indexOf("/")===-1&&(d+="/");var f=d.split("/").slice(1).join("/");return f.indexOf("?")>=0&&(f=f.slice(0,f.indexOf("?"))),e.indexOf("?")>=0&&(e=e.slice(0,e.indexOf("?"))),twttr.decider.isAvailable("swift_home_timeline")&&(f=f.replace(/^(i$|i\/)/,"")),"/"+f+"#"+e},getCurrentQueryStringParams:function(){return this.getQueryStringParamsFromHref(window.location.href)},getQueryStringParamsFromHref:function(a){var b=a.split("#"),c=b[0].split("?")[1]||"",d=(b[1]||"").split("?")[1]||"";return twttr.merge(this.parseQueryString(c),this.parseQueryString(d))},parseQueryString:function(a){var b=a.split("&"),c={};for(var d=0;d<b.length;d++)if(b[d]){var e=b[d].split("=");c[decodeURIComponent(e[0])]=e[1]?decodeURIComponent(e[1].replace(/\+/g,"%20")):!0}return c},getHashUpdate:function(a,b){var c=this.normalizePath(a),d=this.normalizePath(b);if(c===d)return!1;a=a.split("/#").join("#"),b=b.split("/#").join("#"),a.indexOf("#")===-1&&(a+="#"),b.indexOf("#")===-1&&(b+="#");var e=a.split("#"),f=b.split("#");return e[0]===f[0]?"#"+f[1]:e[1]===""&&f[1]===""?"#"+f[0].slice(a.length):"#"+d},normalizePath:function(a){if(twttr.griffin&&twttr.griffin.current)for(var b=0;b<twttr.griffin.current.length;b++)if(a.toLowerCase()=="/#"+twttr.griffin.current[b].toLowerCase())return a.toLowerCase();return this.trimSlashes(a.replace(/\/?#(!|%21)?\/?/g,"/"))},shouldRedirect:function(a,b){var c=b.split("#"),d=a.split("#");return this.trimSlashes(c[0])===this.trimSlashes(d[0])?!1:this.trimSlashes(c[1])===this.trimSlashes(d[0])?!1:!0},trimSlashes:function(a){return a?a.replace(c,"").replace(d,""):a},detectHistorySupport:function(){return!!window.history&&!!history.pushState}}).methods(twttr.EventProvider).methods({startRouting:function(){this._callCurrentRoutingAction(),this._listenToUrl()},route:function(a,b,c){var d=this._addRouteMethods(a,b);return this._routes.push({name:a,path:b,fn:c,method:d}),d},staticRoute:function(a,b){var c=this;this.route(a,b,function(){c.constructor.performRedirect(b)})},redirectRoute:function(a,b,c){var d=this;this.route(a,b,function(a,b){d.redirectTo(d.routeMethods[c](a,b))})},redirectTo:function(a){this.performRoute(a,!0)},routeTo:function(a){this.performRoute(a,!1)},performRoute:function(a,b){if(!this.routingEnabled)return;if(this.pageViewsPerRefresh<=this.viewedPagesCount)return this.constructor.performRedirect(a);this.viewedPagesCount++;if(!this._useHistory()&&this.constructor.shouldRedirect(this.constructor.getCurrentPath(),a))return this.constructor.performRedirect(a);this._changeUrlAndCallAction(a,b)},shouldRedirectTo:function(a){return this._useHistory()?!1:this.constructor.shouldRedirect(this.constructor.getCurrentPath(),a)},findMatchingRoute:function(a){for(var b=0;b<this._routes.length;b++){var c=this.constructor.match(a,this._routes[b].path);if(c)return{name:this._routes[b].name,fn:this._routes[b].fn,args:c,method:this._routes[b].method,path:this._routes[b].path}}return!1},getCurrentRoute:function(){return this.findMatchingRoute(this.constructor.getCurrentPath())},_setLocationHash:function(a){$.browser.safari&&!navigator.userAgent.match(/Chrome/)?window.location.href=window.location.href.split("#")[0]+a:window.location.hash=a},replaceHashWithoutRouting:function(a){this.ignoreNextHashChange=!0,window.location.hash=a},_changeUrlAndCallAction:function(a,b){if(!this.routingEnabled)return;var c=!1,d=!1,e=this.findMatchingRoute(a);this._useHistory()&&(b?window.history.replaceState(null,null,a):window.history.pushState(null,null,a),d=!0);var f=this.constructor.getHashUpdate(this.constructor.getCurrentPath(),a);if(twttr.decider.isAvailable("swift_home_timeline")&&a=="/"){window.location="/";return}f&&(b?window.location.replace(a):(this._setLocationHash(f),c=!0,d=!0)),c||this._callRoutingActionFor(e),this.trigger("routed",[e,a]),d&&this.trigger("urlChanged",[e])},_callRoutingActionForPath:function(a){var b=this.findMatchingRoute(a);return b&&this.trigger("routeFollowed",[b,a]),this._callRoutingActionFor(b)},_callCurrentRoutingAction:function(){return this._callRoutingActionForPath(this.constructor.getCurrentPath())},_callRoutingActionFor:function(a){if(!this.routingEnabled)return;if(!a){this.trigger("routeNotFound");return}return a.fn.call(null,a.args,this.constructor.getCurrentQueryStringParams())},lookupAndNormalizeRoute:function(a){var b=this.findMatchingRoute(a);return b?this.routeMethods[b.name](b.args):a},_addRouteMethods:function(a,b){var c=this.constructor.generatePathFunction(b),d=a+"Path";return this[d]=c,this.routeMethods[a]=c,this.trigger("routeAdded",[d,c]),c},_listenToUrl:function(){var a=this;$(window).hashchange(function(b){if(a.ignoreNextHashChange){a.ignoreNextHashChange=!1;return}a._callCurrentRoutingAction()}),this.constructor.detectHistorySupport()&&$(window).bind("popstate",function(b){a._useHistory()&&a._callCurrentRoutingAction()})},_useHistory:function(){return twttr.secrets&&twttr.secrets.html5Routing&&this.constructor.detectHistorySupport()},_current_path_and_hash:function(){return window.location.pathname+window.location.hash},_current_query_params:function(){return window.location.search},shouldRedirectToCanonicalUrl:function(a){var b=this.swiftRoutes[a.name];if(!b||!twttr.decider.isAvailable(b.decider))return!1;a.args.screen_name&&(a.args.screen_name=a.args.screen_name.replace(/^@/,""));var c=a.method(a.args),d=this._current_path_and_hash().split("?")[0];if(d!=="/"&&d!==c){var e=this._current_query_params();return c.toLowerCase().replace(/(?=#|$)/,function(){return e})}return!1}}),a(twttr.Router)})}),provide("streams/Stream",function(a){using("_","mixins/serverRenderableObject").as(function(b,_,c){twttr.stream=twttr.klass;var d=twttr.klass("twttr.streams.Stream",function(a,b,c){this.params=a||{},b=b||[],b instanceof twttr.API.util.BaseCollection&&(b=b.array),this.items=b,this.screenName=this.params.screenName,this.newItemsCount=this.items.length,this.itemViewClass=this.params.itemViewClass||this.itemViewClass,this.streamItemClass=this.params.streamItemClass||"stream-item",this.additionalStreamItemClass=this.params.additionalStreamItemClass||this.additionalStreamItemClass,this.oldItemsCount=0,this._page=1,this.focusedItemId=null,this.highlightedItemId=null,this.scribbler=this.params.scribbler||new twttr.Scribbler(!1),this.scribeComponentName="stream",this.ignoreScribeItemPosition=!0,this.streamManager=c,this.streamManagerDomNodeSelector=c?c.domNodeSelector:null,this.params._setHeader&&this.methods({_setHeader:a._setHeader});var d=twttr.views[this.streamViewClass];d||(twttr.development&&console.warn("Stream view class '"+this.streamViewClass+"' not found. Defaulting to twttr.views.Stream"),d=twttr.views.Stream),this.$node=this.$domNode(function(){return(new d({})).$html()}),twttr.isT1&&this.$node.attr("data-component-term",this.scribeComponentName)}).mixin(c).methods(twttr.EventProvider).methods({domNodeSelector:function(){if(!this.streamManagerDomNodeSelector)return null;var a=this._namespace.match(/\.([^.]+)$/)[1];return streamClass=twttr.util.underscore(a)+"-stream",this.streamManagerDomNodeSelector+" div."+streamClass},NEW_ITEMS_COUNT_MAX:100,NEW_ITEMS_COUNT_CUTOFF:40,_shouldCache:!0,_expandable:!0,streamViewClass:"Stream",itemViewClass:null,afterSwitchingToAgain:function(a){a?a():$.noop},afterFirstSwitchingTo:function(a){a?a():$.noop},beforeSwitchingAway:function(){},_setTitle:function(){},_getHeaderComponent:function(){},hasPromotedContent:function(){return!1},getMoreOldItems:function(a){var b=this;if(this._loadingMoreLock||this.noMoreOldItems||this._errorComponent)return;var c=this.page||this.cursor||this._sinceId;this.isLoadingMore(),using(twttr.bundleMore,function(){b._fetchItems(function(d,e){if(e!==twttr.streams.SUCCESS)b._showError(e);else{var f=b.items.slice(b.items.length-b.oldItemsCount);c&&c>0?b.onGotOldItems(f):b.onGotInitialResults(b.items),b._showOldItems(),b._page++}b.doneLoadingMore(),b.updateHeader(),a&&a(d,e),twttr.decider.isInfiniteScroll()&&b.showLoadingSpinner()})})},getCurrentlyFocusedItem:function(){return this.focusedItemId?this.$streamItems().find(this.itemSelector(this.focusedItemId)):null},getCurrentlyHighlightedItem:function(){return this.highlightedItemId?this.$streamItems().find(this.itemSelector(this.highlightedItemId)):null},getFirstItem:function(){return this.$streamItems().find("."+this.streamItemClass+":first")},focusItem:function(a){this.focusedItemId=a.attr("data-item-id"),a.focus()},unfocusItem:function(a){this.focusedItemId=null,a.blur()},highlightItem:function(a){var b=this.getCurrentlyHighlightedItem();b&&b.removeClass("hovered-stream-item").removeClass("js-had-hovered-stream-item"),this.focusedItemId=a.attr("data-item-id"),this.highlightedItemId=a.attr("data-item-id"),a.hasClass("open")?a.addClass("js-had-hovered-stream-item"):a.addClass("hovered-stream-item")},highlightNext:function(){this.shiftHighlight(!1)},highlightPrevious:function(){this.shiftHighlight(!0)},shiftHighlight:function(a){var b=this.getCurrentlyHighlightedItem();if(!b){this.highlightItem(this.getFirstItem());return}var c=a?b.prev():b.next();c.length&&(this.highlightItem(c),this.scrollStreamTo(c))},scrollStreamTo:function(a){var b=a.offset().top,c=Math.round(b-twttr.$win.height()/2);twttr.$win.scrollTop(c)},dom:function(){return this.$node},$streamItems:function(){return this.$find("div.stream-items")},$find:function(){var a=this.dom();return a.find.apply(a,arguments)},itemSelector:function(a){return"."+this.streamItemClass+"[data-item-id='"+a+"']"},selectedItem:function(a){return this.$streamItems().find(this.itemSelector(a))},unshift:function(a){twttr.is.array(a)?(this.newItemsCount+=a.length,this.items.unshift.apply(this.items,a)):(this.newItemsCount+=arguments.length,this.items.unshift(arguments)),this.trigger("newItemsCountChanged",[this.newItemsCount])},addAsNewItem:function(a){this.items.unshift(a),this.newItemsCount++,this.allowRerender(a)},push:function(a){twttr.is.array(a)?(this.oldItemsCount+=a.length,this.items.push.apply(this.items,a)):(this.oldItemsCount+=arguments.length,this.items.push(arguments))},splice:function(a,b){var c;twttr.is.array(b)?(c=[a,0].concat(b),this.items.splice.apply(this.items,c)):(c=Array.prototype.slice.call(arguments),c.splice(1,0,0),this.items.splice.apply(this.items,c))},markAsRendered:function(a){this.itemIds=this.itemIds||{};var b=this.streamItemId?this.streamItemId(a):a.id;this.itemIds[b]=1},isDuplicate:function(a){var b=this.streamItemId?this.streamItemId(a):a.id;return this.itemIds=this.itemIds||{},!!this.itemIds[b]},allowRerender:function(a){var b=this.streamItemId?this.streamItemId(a):a.id;this.itemIds=this.itemIds||{},delete this.itemIds[b]},_renderItemHtml:function(a){function j(){return e.render_withheld&&e.render_withheld()}var b=this.streamItemId?this.streamItemId(a):a.id;this.markAsRendered(a);var c;twttr.is.fn(this.itemViewClass)?c=this.itemViewClass(a):c=twttr.views[this.itemViewClass];var d=a;this.itemForRender&&twttr.is.fn(this.itemForRender)&&(d=this.itemForRender.call(this,a));var e=new c(d);e.query=this.params.query||e.query;var f=twttr.views.StreamItem;this.itemViewWrapperClass&&(f=twttr.views[this.itemViewWrapperClass]);var g=this.streamItemClass?[this.streamItemClass]:[];if(this.additionalStreamItemClass){var i=twttr.is.fn(this.additionalStreamItemClass)?this.additionalStreamItemClass(a):this.additionalStreamItemClass;g.push(i)}if(this._expandable&&twttr.decider.isExpando()&&!j()){g.push("expanding-stream-item");if(twttr.expando!==!0&&twttr.expando!=="expando")switch(twttr.expando){case"labels":g.push("yes-to-labels");break;case"more":g.push("more-not-open");break;case"colorful":g.push("colorful-links")}}return j()?g.push("withheld-item"):e.is_withheld&&e.is_withheld()&&e.is_current_user()&&g.push("withheld-own-item"),(new f({item_html:e.html(),item_id:b,item_type:this.streamItemType,item_class:g.join(" ")})).html()},_renderItemsHtml:function(a){var b=this,c=[];return $.each(a,function(a,d){b.isDuplicate(d)||c.push(b._renderItemHtml(d))}),c.join("")},_renderItems:function(a){return $(this._renderItemsHtml(a))},remove:function(a){this.selectedItem(a).remove()},rerenderItem:function(a,b){this.selectedItem(a).replaceWith(this._renderItemHtml(b))},_showNewItems:function(a){var b=this.$streamItems();this.beforeShowNewItems(),this.newItemsCount>this.NEW_ITEMS_COUNT_MAX&&(b.empty(),this.items=this.items.slice(0,this.NEW_ITEMS_COUNT_CUTOFF),this.newItemsCount=this.NEW_ITEMS_COUNT_CUTOFF);var c=this.items.slice(0,this.newItemsCount),d=this._renderItems(c);a=="initial"?this.onGotInitialResults(this.items):a!="initial"&&this.newItemsCount>0&&this.onGotNewItems(c),b.prepend(d),this.onShowNewItems(d),this.newItemsCount=0,this.trigger("newItemsCountChanged",[0])},_showOldItems:function(a){var b=this.$streamItems();this.beforeShowOldItems();var c=this.items.slice(this.items.length-this.oldItemsCount),d=this._renderItems(c);b.append(d),this.onShowOldItems(d),this.oldItemsCount=0},render:function(){this._showNewItems("initial"),this._showOldItems(!0)},isEmpty:function(){return this.items.length===0},reachedTheEnd:function(){this.noMoreOldItems||(this.noMoreOldItems=!0,this.markStreamEnd(),this.hideLoadingSpinner(),this.trigger("streamEnd"))},markStreamEnd:function(){var a=this;if(this._alreadyMarkedEnd)return;this._alreadyMarkedEnd=!0,using(twttr.bundleMore,function(){a.endOfStreamComponent=a.isEmpty()?a._getEmptyStreamComponent():a._getStreamEndComponent(),a.endOfStreamComponent&&a.endOfStreamComponent.$node.appendTo(a.$node)})},switchEndOfStreamMarker:function(){if(this.endOfStreamComponent){var a=this._getStreamEndComponent();a&&(this.endOfStreamComponent.$node.replaceWith(a.$node),this.endOfStreamComponent=a)}},_showError:function(a){var b=this;using(twttr.bundleMore,function(){b.hideLoadingSpinner(),b._errorComponent&&(b._errorComponent.destroy(),delete b._errorComponent);var c=b._getStreamErrorComponent(a);if(!c)return;c.bind("tryAgain",function(a){c.destroy(),delete b._errorComponent,b.getMoreOldItems()}),b._errorComponent=c,c.$node.appendTo(b.dom())})},_getStreamEndComponent:function(){return new twttr.components.StreamEnd(this._getStreamEndHtml(),this._getStreamEndShowBird())},_getEmptyStreamComponent:function(){return new twttr.components.StreamEnd(this._getEmptyStreamHtml())},_getStreamErrorComponent:function(a){return a===twttr.streams.DECIDER?new twttr.components.StreamEnd(this._getStreamErrorHtml(a)):new twttr.components.StreamWhaleEnd(this._getStreamWhaleText())},_getStreamLoadingComponent:function(){return new twttr.views.StreamLoading},_getStreamWhaleText:function(){return _("Loading seems to be taking a while.")},_getEmptyStreamHtml:function(){},_getStreamEndHtml:function(){return this.items.length<20?"":_("<a href='#' class='back-to-top'>Back to top &uarr;</a>")},_getStreamErrorHtml:function(a){return _("This feature is temporarily unavailable.")},_getStreamEndShowBird:function(){return!0},isLoadingMore:function(){this._loadingMoreLock=!0,this.showLoadingSpinner()},showLoadingSpinner:function(){var a=this.dom();a.find("div.stream-loading").length===0&&!this._alreadyMarkedEnd&&!this._errorComponent&&this._getStreamLoadingComponent().render(a,"append")},stream_user_is_current_user:function(){return twttr.currentUser&&this.screenName&&twttr.currentUser.screenName===this.screenName},doneLoadingMore:function(){this._loadingMoreLock=!1,this.hideLoadingSpinner(),this.trigger("doneLoadingMore")},hideLoadingSpinner:function(){this.dom().find("div.stream-loading").remove()},onGotInitialResults:function(a){this._scribeResults("initial",a)},onInsertItems:function(a){this._scribeResults("insert",a)},onGotNewItems:function(a){this._scribeResults("get_newer",a)},onGotOldItems:function(a){this._scribeResults("get_older",a)},_scribeResults:function(a,b,c){$.inArray(a,["initial","error","insert"])==-1&&this.scribbler.scribe({component:"stream",action:a},{item_count:b.length,cursor_or_page:this._cursorOrPage()})},_scribeEmptyResults:function(a,b,c){var d=this._cursorOrPage();if(a=="error"||a=="initial"&&!b.length){var e={item_count:0,event_value:0,referring_event:a};d&&(e.cursor_or_page=d),a=="error"&&c&&c.status_code&&(e.status_code=c.status_code),this.scribbler.scribe({component:"stream",action:a=="error"?"error":"no_results"},e)}else if(a!="initial"&&a!="insert"){var f={item_count:b.length};d&&(f.cursor_or_page=d),this.scribbler.scribe({component:"stream",action:a},f)}},_cursorOrPage:function(){return this._sinceId||this.cursor||this.page&&this.page>0&&this.page||this._page&&this._page>0&&this._page||-1},_registerAddToStreamEvent:function(a,b,c){var d=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d.addAsNewItem(a),d._showNewItems())})},_registerRemoveFromStreamEvent:function(a,b,c,d){var e=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d=d||"id",e.remove(a[d]),e.items=twttr.filter(e.items,function(b){return b[d]!==a[d]?b:null}),e.isEmpty()&&e.reachedTheEnd())})},_registerUpdateStreamEvent:function(a,b,c,d){var e=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d=d||"id",e.items=twttr.map(e.items,function(b){return b[d]===a[d]?a:b}),e.rerenderItem(a[d||"id"],a))})},_registerEvent:function(a,b,c){this._boundEvents||(this._boundEvents=[]),a.bind(b,c),this._boundEvents.push({obj:a,name:b,cb:c})},unbindEvents:function(){this._boundEvents&&(twttr.each(this._boundEvents,function(a){a.obj.unbind(a.name,a.cb)}),this._boundEvents=[])},beforeShowNewItems:function(){},beforeShowOldItems:function(){},onShowNewItems:function(a){},onShowOldItems:function(a){}});twttr.aug(twttr.streams,{SUCCESS:1,ERROR:2,PROTECTED:3,DECIDER:4,WHALE:5,TIMEOUT:6}),twttr.isT1?d.methods({_setHeader:null,_expandable:!1,updateHeader:function(){var a=this.streamManager&&this.streamManager.$headerContainer();if(!a)return;this._updateHeaderFromStream(a)},_updateHeaderFromStream:function(a){}}):d.methods({updateHeader:function(){this.header||(this.header=this._getHeaderComponent())&&this.$find("div.stream-items").prepend(this.header.$node.addClass("stream-header"))}}),a(twttr.streams.Stream)})}),provide("scribbles",function(a){using().as(function(b){twttr.augmentString("twttr.scribbles",{logViewProfileDetails:function(a){var b=$(this),c={},d=$(a.target),e="view-profile";d.is("img")?c.target="image":d.is("a")&&(c.target="link");if(b.is("div.dashboard .user-profile-link"))c.component="dashboard",b.is(".new-followers .user-profile-link")&&(c.subcomponent="new-followers");else if(b.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")){c.component="details-pane";if(b.is(".related-tweets .user-profile-link, .related-tweets .twitter-atreply")){var f=b.closest(".tweet");twttr.viewHelpers.addRelatedTweetsLogging(f,c,e)}}else b.is(".stream-tweet .user-profile-link, .stream-tweet .twitter-atreply")?c.component="stream":b.is(".twttr-dialog .user-profile-link")&&(c.component="dialog",c.dialog_type=b.closest(".twttr-dialog").attr("type"));c.input="click",c.tweet_id=b.closest(".tweet").attr("data-tweet-id")||"",c.profile_id=b.data("user-id")||b.data("screen-name")||b.closest(".js-profile-popup-actionable").data("user-id"),scribble(e,c)}}),a(twttr.scribbles)})}),provide("Cards",function(a){using("util","constants").as(function(b){var c=function(a){return twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"cards.photos.length")&&!!a.cards.photos.length},d=function(a){var b=0,c;if(a.has_embedded_player!==undefined)return a.has_embedded_player;if(twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"cards.players.length")&&!!a.cards.players.length){c=a.cards.players.length;for(;b<c;b++)a.cards.players[b].players=twttr.filter(a.cards.players[b].players,function(a){return a&&a.source_type=="text/html"});return a.has_embedded_player=!!c,a.has_embedded_player}return!1},e=function(a){return twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"cards.summaries.length")&&!!a.cards.summaries.length},f=function(a){return twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"entities.media.length")&&!!a.entities.media.length},g=function(a){return d(a)||e(a)||c(a)},i=twttr.klass("twttr.Cards").methods({hasPhotos:c,hasPlayers:d,hasSummaries:e,hasCards:g,hasCardPhotoEntities:f});a(i)})}),provide("multiGlobals/client_app_tracking",function(a){using("util","constants").as(function(b){(function(){twttr.Scribbler.clientAppDefaultTerms=function(){var a={client:"web"},c=twttr.audit.currentPage();c&&(a.page=b.util.underscore(c));var d=twttr.audit.currentAction();return d&&(a.section=b.util.underscore(d)),a},twttr.Scribbler.clientAppEventNameGenerator=function(a,b){return b=b||twttr.Scribbler.clientAppDefaultTerms(),a=twttr.merge(b,a),[a.client,a.page,a.section,a.component,a.element,a.action].join(":")},twttr.Scribbler.clientEvent=new twttr.Scribbler({},{noob_level:function(){var a=twttr.loggedIn?twttr.helpers.userNoobLevel(twttr.currentUser):-1;return a>=0?a:null},internal_referer:function(){return twttr.audit&&twttr.audit.path(1)||null},referring_event:function(a){if(twttr.isT1&&a){if(twttr.is.object(a)&&a["action"]=="impression")return twttr.clicks.lastClick();if(twttr.is.string(a)){var b=a.split(":");if(b[b.length-1]=="impression")return twttr.clicks.lastClick()}}}},"client_event",twttr.Scribbler.clientAppEventNameGenerator),twttr.Scribbler.getElementEventNameTerms=function(a){var b=$(a),c=b.closest("[data-element-term]"),d=b.closest("[data-component-term]"),e=b.closest("[data-section-term]"),f=c.attr("data-element-term");componentTerm=d.attr("data-component-term"),sectionTerm=e.attr("data-section-term");var g={};if(componentTerm&&f)g.component=componentTerm+"_"+f;else if(componentTerm||f)g.component=componentTerm||f;return sectionTerm&&(g.section=sectionTerm),g},twttr.Scribbler.clientEvent.spawnWithTerms=function(a,b){var c=function(b){var c=twttr.Scribbler.clientAppDefaultTerms();return scribeTerms=twttr.merge({},b,a),twttr.Scribbler.clientAppEventNameGenerator(scribeTerms,c)},d=this.spawn(b,c);return d.spawnWithTerms=this.spawnWithTerms,d},window.trackClient=twttr.trackClient=function(a,b){return arguments[1]&&typeof arguments[1]=="string"&&(arguments[1]={context:arguments[1]}),twttr.Scribbler.clientEvent.scribe.apply(twttr.Scribbler.clientEvent,arguments)},window.trackElement=twttr.trackElement=function(a,b,c){typeof b=="string"&&(b={action:b});var d=twttr.merge(twttr.Scribbler.getElementEventNameTerms(a),b);d.component&&trackClient(d,c)},window._scribble=function(){twttr.decider.isAvailable("old_webclient_events")&&twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)}})(),twttr.app.waitForSignal("init",function(){twttr.isT1?twttr.app.bind("streamSwitchedTo",function(a,b){var c={},d=b.pageNameUnderscore;b.addImpressionData&&b.addImpressionData(c),trackClient({action:"impression"},c)}):($("#logo").click(function(){trackClient({section:"top_nav",component:"logo",action:"click"})}),$("#global-actions li a").click(function(){var a=$(this).parent().attr("data-global-action");trackClient({section:"top_nav",component:a+"_nav",action:"click"})})),$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(){trackClient({section:"top_nav",component:"new_tweet_button",action:"click"})}),twttr.decider.isAvailable("scribe_general_reliability_events")&&window.setTimeout(function(){twttr.ScribeBuffer.instance.sendReliabilityEvent(function(){trackClient({page:"scribe",section:"reliability",component:"client",action:"impression"})})},3e4)}),a()})}),provide("mixins/streamablePageDetailsPane",function(a){using("_","util").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.streamablePageDetailsPane",function(){return this.click({".stream span.js-actions, .stream ul.js-actions":function(a,b){return a.stopPropagation(),a.preventDefault(),!1},"div.details-pane div.stream-item":function(a,b){if($(a.target).is(".twitter-timeline-link"))return;var c=b.find(".tweet"),d=c.attr("data-tweet-id"),e={component:"details-pane"};b.is(".related-tweets .stream-item")?twttr.viewHelpers.addRelatedTweetsLogging(c,e,"tweet-click"):b.is(".in-reply-to .stream-item")&&(e.subcomponent="in-reply-to"),e.embedded_media_types=c.find(".icons .media").map(function(a,b){var c=$(b);return[c.data("media-type"),c.data("media-class")]}).get();var f=c.attr("data-impression-id");this.loadItemInDetailsPane(d,"tweet",{log:e,push:!0,impressionId:f})},"div.details-pane .user-detailed-list-item .user-screen-name":function(a,b){var c=parseInt(b.attr("data-user-id"),10);return this.loadItemInDetailsPane(c,"user",{push:!0}),a.stopPropagation(),a.preventDefault(),!1},".stream-tabs .stream-tab > a, .stream-tabs .dropdown-link .stream-link > a":function(a,b){var c=b.parent(),d=b.attr("href");if(d!="#"){var e=twttr.router.findMatchingRoute(d);if(e&&e.fn.pageName&&e.fn.actionName){var f=twttr.util.underscore(e.fn.actionName),g=twttr.util.underscore(e.fn.pageName);trackClient({page:g,section:f,component:"stream_nav_tab",action:"click"})}}else if(!c.hasClass("stream-tab-lists")&&c.closest(".stream-tab-lists").length){var i=twttr.audit.currentPage()=="home"?"list_in_home":"lists";trackClient({section:i,component:"stream_nav_tab",action:"create"})}},".stream .stream-item":function(a,b){$eventTarget=$(a.target);var c=$eventTarget.is("div.stream-item a.tweet-timestamp, div.stream-item a.tweet-timestamp *"),d=$eventTarget.is("div.stream-item a.twitter-timeline-link"),e=$eventTarget.is("div.stream-user-buttons *"),f=$eventTarget.parents("div.stream-item").is("div.feedback-shown"),g=$eventTarget.is('div.stream-item a.twitter-timeline-link[data-twitter-media-url="true"]'),i=$eventTarget.is("div.withheld-item *"),j=b.is(".js-activity")&&!b.is(".js-activity-retweet, .js-activity-favorite, .js-activity-reply, .js-activity-mention");if(c||d&&!g||e||f||j||i)return;this.toggleFocus(b),twttr.decider.isAvailable("turkey_prevent_timeline_click")&&g&&a.preventDefault()},".stream-item-activity .user-content-medium":function(a,b){var c=b.parents(".stream-item"),d=b.closest(".sub-stream-item"),e=c.hasClass("focused-stream-item")&&d.hasClass("expand-activity-item")&&this.panes.size()<=1;return e||(d.siblings().removeClass("expand-activity-item"),d.addClass("expand-activity-item"),c.removeClass("focused-stream-item")),this.toggleFocus(c),!1},".stream .user-profile-link, .stream .twitter-atreply, div.details-pane .user-profile-link, div.details-pane .twitter-atreply":function(a,b){var c=twttr.helpers.getUserIdentifier(b),d={},e={component:"stream"};d.log=e,b.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")&&(d.push=!0,e.component="details-pane");var f=b.closest(".promoted-tweet").attr("data-impression-id")||b.closest(".promoted-account").attr("data-impression-id");b.is("div.details-pane .user-profile-link, .stream .user-profile-link")&&(d.impressionId=f),twttr.app.isOnPage("search")&&b.is(".stream .user-profile-link, .stream .twitter-atreply")&&(d.searchClick=b.closest(".stream-tweet")),twttr.scribbles.logViewProfileDetails.call(b,a);var g=b.is("div.withheld-item *");return g||this.loadItemInDetailsPane(c,"user",d),a.stopPropagation(),a.preventDefault(),!1},".stream .twitter-hashtag":function(a,b){a.stopPropagation()},".stream .twitter-place, div.details-pane .twitter-place":function(a,b){var c=b.closest(".tweet").attr("data-tweet-id"),d={placeId:b.attr("data-place-id")};return b.is("div.details-pane .js-tweets-at-this-place")&&(d.push=!0),this.loadItemInDetailsPane(c,"tweet_geo",d),!1},".stream .twitter-listname":function(a,b){return twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute($this.attr("href"))),a.stopPropagation(),a.preventDefault(),!1},".js-tweet-geo-text, div.details-pane .js-tweets-at-this-place":function(a,b){var c=b.attr("data-tweet-id"),d={placeId:b.attr("data-place-id")};return b.is("div.details-pane .js-tweets-at-this-place, div.details-pane .tweet-geo-text")&&(d.push=!0),this.loadItemInDetailsPane(c,"tweet_geo",d),a.stopPropagation(),a.preventDefault(),!1},".pane-toolbar a.pane-close":function(a,b){return this.unfocusStreamItem(),a.stopPropagation(),a.preventDefault(),!1},".pane-toolbar a.pane-back":function(a,b){return this.panes.pop(),a.stopPropagation(),a.preventDefault(),!1}}).focus({".stream span.js-actions, .stream ul.js-actions":function(a,b){return a.stopPropagation(),!1}}).methods({toggleFocus:function(a){a.hasClass("focused-stream-item")&&this.panes.size()<=1?(this.streamManager.getCurrent().unfocusItem(a),this.unfocusStreamItem()):(this.streamManager.getCurrent().focusItem(a),this.focusStreamItem(a))},focusStreamItem:function(a){a.addClass("focused-stream-item").siblings().removeClass("focused-stream-item").removeClass("light");var b,c,d=a.attr("data-item-type"),e={};d==="list"||d==="message_thread"||d==="tweet"?b=a.attr("data-item-id"):d==="activity"?(a.is(".js-activity-reply, .js-activity-mention")?c=a.find(".stream-item-content"):a.is(".js-activity-retweet, .js-activity-favorite")?(c=a.find(".activity-truncated-tweet .tweet"),c.length||(c=a.find(".sub-stream-item:not('.sub-stream-item-hidden') .stream-item-content"))):c=a.find(".expand-activity-item .stream-item-content"),c.is(".tweet")?(d="tweet",b=c.attr("data-item-id")):c.is(".user-content-medium")&&(d="user",b=parseInt(c.attr("data-user-id"),10)),e.streamType="activity-stream",e.itemType=d,e.activityType=a.find(".stream-item-activity").attr("data-activity-type"),e.activityId=b):b=parseInt(a.attr("data-item-id"),10),e.stream=this.streamManager.getCurrent().constructor._name,e.component="stream",e.page_number=this.streamManager.getCurrent()._page;var f=a.find(".tweet").attr("data-impression-id")||a.find(".user-content-medium").attr("data-impression-id");d==="tweet"&&(e.embedded_media_types=a.find(".icons .media").map(function(a,b){return[[b.getAttribute("data-media-type"),b.getAttribute("data-media-class")]]}).get()),a.addClass("focused-stream-item").siblings().removeClass("focused-stream-item"),this.loadItemInDetailsPane(b,d,{log:e,impressionId:f,searchClick:twttr.app.isOnPage("search")&&a.is(".stream .stream-item")?a.children(".stream-tweet"):null});var g=this.streamManager&&this.streamManager.getCurrent();if(g){var i=d=="user"?"select.user":"select.tweet";g.trigger(i,[a,a,"select"])}},unfocusStreamItem:function(){var a=this.$detailsPane().hasClass("opened");if(this.closeDetailsPane()!==!1){var b=this.$node.find("div.focused-stream-item");this.$node.find("div.stream-item").removeClass("focused-stream-item");if(a){var c=this.streamManager&&this.streamManager.getCurrent();if(c){var d=b.attr("data-item-type")=="user"?"deselect.user":"deselect.tweet";c.trigger(d,[b,b,"deselect"])}}}},loadItemInDetailsPane:function(a,b,c){this.yScroll=twttr.$win.scrollTop();if(!b)return;var d=this,e={},c=c||{};c.log&&twttr.merge(e,c.log),b==="tweet"?(this.loadTweetInDetailsPane(a,c),this.openDetailsPane()):b==="user"?(this.loadUserInDetailsPane(a,c),this.openDetailsPane()):b==="tweet_geo"?(this.loadTweetGeoInDetailsPane(a,c),this.openDetailsPane()):b==="list"?twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute(a)):b==="message_thread"&&(this.loadMessageThreadInDetailsPane(a,c),this.resizeDetailsPane()),c.searchClick&&twttr.components.pages.Search.addSearchClickLogging(c.searchClick,e),e.details_type=b,e.item_id=a,e.input="click",scribble("load-details-pane",e),$("div.tipsy").remove()},viewId:function(a,b,c){return a+b+(c?"_"+c:"")},loadTweetInDetailsPane:function(a,b){var c=this,d=b.impressionId,e=this.viewId("tweet_pane_",a,d),f=new twttr.views.DetailsPane(e),g=this.panes.cached(e),i=b.push?this.panes.push(f):this.panes.reset(f),j=i.$dom;g?j.find(".map_canvas:visible").trigger("refreshMap"):(this.$find(".pane-components-inner").addClass("tweet-components"),using(twttr.bundleMore,function(){twttr.API.Status.find(a,function(a){i._backLabel=_("@{{screen_name}}'s Tweet",{screen_name:a.user.screenName}),d&&(a=twttr.API.util.PromotedStore.getPromotedStatusInstance(a,d),twttr.API.util.PromotedContent.logShowDetails(d));var b=c.streamManager.getCurrent();new twttr.components.Conversation(a,b,function(d){d.bind("deleted",function(){c.panes.contains(i)&&(c.panes.remove(i),c.panes.reset(),c.closeDetailsPane())});var e=[],f=j.find(".component:visible:first"),g=j.width();f.length!==0&&(g=f.width()),g-=55;var k=new twttr.components.Media(a,g);e.push(d,new twttr.components.TweetGeoSmall(a),new twttr.components.MachineTranslatedTweet(a)),twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_social_context")?(e.push(new twttr.components.TweetActivity(a)),e.push(new twttr.components.Replies(a,b,d.resultGroups))):(e.push(new twttr.components.Replies(a,b,d.resultGroups)),e.push(new twttr.components.Retweeters(a,10))),e.push(new twttr.components.MentionedInTweet(a)),c.addComponentsToDetailsPane(j,e),k.$node.appendTo(j.find("div.js-tweet-media-container"))})})}))},loadUserInDetailsPane:function(a,b){var c=twttr.is.string(a)?"user_pane_by_screen_name_":"user_pane_by_id_",d=this,e=b.impressionId,f=this.viewId(c,a,e),g=new twttr.views.DetailsPane(f),i=this.panes.cached(f),j=b.push?this.panes.push(g):this.panes.reset(g),k=j.$dom;i||(twttr.ui.toggleSpinner(k,!0),using(twttr.bundleMore,function(){twttr.API.User.find(a,{success:function(a){twttr.ui.toggleSpinner(k),twttr.app.trigger("view_profile_pane",a),j._backLabel=_("@{{screen_name}}'s profile",{screen_name:a.screenName}),e&&(a=twttr.API.util.PromotedStore.getPromotedUserInstance(a,e)),d.addComponentsToDetailsPane(k,[new twttr.components.ProfilePane(a),new twttr.components.UserMedia(a,{itemWidth:48,itemHeight:48,itemDisplayWidth:50,width:320,noSpacer:!0}),new twttr.components.RecentTweets(a)])},error:function(a){d.addComponentsToDetailsPane(k,[new twttr.components.NoUserExists])}})}))},loadTweetGeoInDetailsPane:function(a,b){var c=this,d=this.viewId("tweet_geo_pane_",a,b.placeId),e=new twttr.views.DetailsPane(d),f=this.panes.cached(d),g=b.push?this.panes.push(e):this.panes.reset(e),i=g.$dom;f?i.find(".map_canvas:visible").trigger("refreshMap"):using(twttr.bundleMore,function(){twttr.API.Status.find(a,function(a){var d=b.placeId||(a.place?a.place.id:null);g._backLabel=_("@{{screen_name}}'s Tweet location",{screen_name:a.user.screenName});var e=function(b){var e=[new twttr.components.TweetGeoBig(a,d)];b&&e.push(new twttr.components.PlaceTweets(b)),c.addComponentsToDetailsPane(i,e)};d?a.place&&a.place.id==d?e(a.place):twttr.API.Place.find(d,{success:function(a){e(a.data())},error:function(){e()}}):e()})})},loadMessageThreadInDetailsPane:function(a,b){if(!twttr.loggedIn)throw"Something went wrong. You're not supposed to be able to load a message pane while logged out...";var c=this,d=this.viewId("message_thread_pane_",a),e=new twttr.views.DetailsPane(d,{closable:!1}),f=c.panes.cached(d),g=c.panes.reset(e),i=g.$dom;using(twttr.bundleMore,function(){twttr.messageManager.getThread(a,function(b){var d=twttr.decider.isAvailable("phoenix_use_conversation_endpoint")?twttr.components.ConversationThread:twttr.components.MessageThread,e=new d(b);g._backLabel=_("Conversation with {{screen_name}}",{screen_name:b.threadId});if(!f){var j=new twttr.components.SendMessageBox(a,522);j.bind("sentMessage",function(a,b){twttr.messageManager.addMessage(b)}),j.$node.appendTo(i.find(".pane-toolbar"))}c.addComponentsToDetailsPane(i,[e])})})},$detailsPane:function(){return this.$find(".details-pane")},openDetailsPane:function(){if(this._detailsPaneDisabled())return!1;var a=this.$detailsPane();a.hasClass("opened")||(a.show(),this._slideDetailsPaneTo(this.$mainContent.width()-10),this.$dashboard.hide(),a.addClass("opened")),this.repositionDetailsPane(),this.resizeDetailsPane()},_slideDetailsPaneTo:function(a,b){this.$detailsPane()[Modernizr.csstransitions?"animateWithCss":"animate"](twttr.i18n&&twttr.i18n.rtl?{right:a}:{left:a},250,Modernizr.csstransitions?"ease-out":"linear",b)},closeDetailsPane:function(){if(this.isDPLocked===!0)return this.isDPLocked=!1,!1;if(this._detailsPaneDisabled())return!1;var a=this.$detailsPane();a.hasClass("opened")&&(this.panes.top().hide(),this.$dashboard.show(),this._slideDetailsPaneTo(10,function(){$(this).hide()}),a.removeClass("opened"),scribble("close-details-pane",{input:"click",current_tweet_id:this.streamManager.getCurrent().focusedItemId}))},resizeDetailsPane:function(){var a=this.$detailsPane();$pageOuter=$("#page-outer"),pagePaddingTop=parseInt($pageOuter.css("padding-top"),10);if(a.length>0){var b=$("#page-container"),c=$("#page-container").width(),d=this.$mainContent?this.$mainContent.width():0,e=c-d,f=twttr.$win.height()-pagePaddingTop,g=f-a[0].offsetTop-8;this.$mainContent&&this.$mainContent.css("min-height",f),a.height(g),a.width(e),a.find(".pane-components").height(g-a.find(".inner-pane.active .pane-toolbar").outerHeight())}},repositionDetailsPane:function(){if(!twttr.decider.goodAtCss()||!this.$detailsPaneOuter)return;if(this.windowHasHorizontalScroll()){var a=twttr.$win.scrollTop();this.$detailsPaneOuter.addClass("tracking-vertically"),this.$detailsPaneOuter.css({"margin-top":a,top:0})}else{var b=this.getTopPositionForDetailsPane();this.$detailsPaneOuter.removeClass("tracking-vertically"),this.$detailsPaneOuter.css({"margin-top":null,top:b})}},getTopPositionForDetailsPane:function(){var a=twttr.$win.scrollTop(),b=parseInt($("#page-outer").css("padding-top"),10),c=$("#page-container").position().top-a;return c<b&&(c=b),c},windowHasHorizontalScroll:function(){return twttr.$win.width()<1e3},addComponentToDetailsPane:function(a,b,c){c=c||"append",a.find(".pane-components-inner")[c](b.$node)},addComponentsToDetailsPane:function(a,b){for(var c=0;c<b.length;c++)this.addComponentToDetailsPane(a,b[c])}}).addAfterRender(function(){this.$dashboard=this.$find(".dashboard"),this.$mainContent=this.$find("div.main-content"),this.$detailsPaneOuter=this.$find("#details-pane-outer"),this.resizeDetailsPane(),this.streamManager||(this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node),this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(a,b){this.hasNewItems(b)})),this.streamManager.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),this.streamManager.bind("switchTo",twttr.bind(this,function(a){this.closeDetailsPane()})),twttr.decider.isExpando()&&this.streamManager.bind("doneLoadingMore",twttr.bind(this,function(a){this.$find(".expanding-stream-item").removeClass("expanding-stream-item")}))),this.streamManager.preRendered||this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node),this.panes=new twttr.ViewStack(this.$detailsPane(),"append"),this.trigger("streamManagerReady")}).addOnSwitchTo(function(){twttr.decider.isExpando()&&($("#page-container").removeClass("expando-container"),$("#page-outer").removeClass("flush-to-top"));var a=twttr.audit.trail()[1];a&&a.page.match(/userMedia/)&&(this.isDPLocked=!0,this.yScroll&&twttr.$win.scrollTop(this.yScroll)),this.resizeDetailsPane()}),this});a(c)})}),provide("mixins/streamablePageDropdownEdition",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.streamablePageDropdownEdition",function(a){var b=$("html, body"),c=8,d=700,e=50,f=30,g=436,i=75,j=105,k=40,l=20,m=40;twttr.decider.isAvailable("platform_enable_cards")&&(d=375);var n={toggle:function(a,b){a.is(".js-original-tweet")&&(b.topLevelExpansion=!0,!b.autoExpanded&&b.containerClass===".expanding-stream-item"&&(b.fullExpansion=!0));var c=n.expandTweetDom(a,b.containerClass),d=0;return c.$target.hasClass("animating")?0:(c.$target.data("dropdown.showing")?(n.close(c,b),n.scribeClose(c,b.currentStream),d=-1):b.forceClose||(c.$target.data("dropdown.loaded")?n.open(c,b):(n.load(c,b),b.autoExpanded&&setTimeout(function(){c.$target.next().addClass("after-expanded")},0)),d=1,n.scribeLoad(c,b.currentStream)),b.topLevelExpansion?d:0)},expandTweetDom:function(a,b){var c=b?a.closest(b):a;return{$target:c,$tweet:a,$expansion:a.parent(),$ancestors:c.find("div.js-tweet-ancestors"),$replies:c.find("div.js-conversation-replies")}},open:function(a,b){a.$target.data("dropdown.showing",!0).addClass("animating"),n.enterExpandedState(a.$target,b),n.showHideContent(!1,n.expandTweetDom(a.$tweet,b.containerClass),b),a.$tweet.trigger("expanded.tweet")},close:function(a,b){a.$target.data("dropdown.showing",!1).addClass("animating"),n.exitExpandedState(a.$target,b),n.showHideContent(!0,a,b,function(){a.$target.find(".opened-tweet").each(function(){n.toggle($(this),{noAnimation:!0,currentStream:b.currentStream})}),a.$tweet.trigger("collapsed.tweet")})},enterExpandedState:function(a,b){a.addClass("open").filter(".js-stream-item").animate({marginTop:a.index()===0?0:c,marginBottom:c},{duration:b.noAnimation?0:i,queue:!1}).prev().addClass("before-expanded").end().next().addClass("after-expanded"),a.hasClass("hovered-stream-item")&&a.removeClass("hovered-stream-item").addClass("js-had-hovered-stream-item")},exitExpandedState:function(a,b){a.removeClass("open").filter(".js-stream-item").animate({marginTop:0,marginBottom:0},{duration:b.noAnimation?0:i,queue:!1,complete:function(){a.prev().removeClass("before-expanded").end().next().removeClass("after-expanded"),a.hasClass("js-had-hovered-stream-item")&&a.removeClass("js-had-hovered-stream-item").addClass("hovered-stream-item")}})},simpleShowHideContent:function(a,b){var c=b.children().height();b.animate({height:a?0:c},{duration:n.guessGoodSpeed(c)})},showHideContent:function(a,d,f,g){d.$target.addClass("animating"),!a&&d.$tweet.addClass("opened-tweet");var i=d.$expansion.data("height")||0,j=d.$ancestors.height()||d.$ancestors.data("height")||0,k=d.$tweet.innerHeight(),l=(d.$replies.height()||d.$replies.data("height")||0)+k,m=l-i,o=f.noAnimation?0:n.guessGoodSpeed(j,m),p=twttr.$win.scrollTop(),q=d.$target.offset().top-c,r=p+e-q;a||d.$expansion.height(i),d.$expansion.animate({height:a?i:l},{duration:o,step:function(c){var e=c-i,g=e/m;d.$ancestors.height(j*g),r>0&&a&&!f.noAnimation&&b.scrollTop(p-r*(1-g))},complete:function(){n.resetEmbeddedContent(d,a),d.$target.removeClass("animating"),a&&d.$tweet.removeClass("opened-tweet"),d.$expansion.height("auto"),d.$ancestors.height("auto"),g&&g();var b=d.$tweet.data("inline-tweetbox");f.focusOnReply&&b&&!a&&b.focus()}})},guessGoodSpeed:function(){var a=Math.max.apply(Math,arguments);return Math.round(.35*Math.log(a)*j)},load:function(a,b){a.$target.addClass("animating").data("dropdown.loaded",!0),b.tweet?using(twttr.bundleMore,function(){n.loadWithTweet(a,b,b.tweet)}):twttr.API.Status.find(a.$tweet.attr("data-tweet-id"),function(c){n.loadWithTweet(a,b,c)})},loadWithTweet:function(a,b,c){(new twttr.views.TweetDetails(c)).render(a.$target.find("div.js-tweet-details-dropdown"),"append");var d=a.$tweet.find("div.js-tweet-media-container");a.$expansion=n.wrapComponents(a,a.$tweet.outerHeight());var e;twttr.exists(c,"entities.media.length")&&!!c.entities.media.length?e=n.sumEntityMediaEmbedHeights(c.entities.media):twttr.Cards.prototype.hasCards(c)?e=n.sumCardMediaHeights(c.cards):e=n.sumMediaEmbedHeights(a.$tweet.find("a.twitter-timeline-link")),e>0?d.css("min-height",Math.ceil(e)):d.hide(),n.open(a,b),o.media(c,d),o.translation(c,a.$target.find("div.js-machine-translated-tweet-container"));var f=b.fullExpansion?7:6;o.socialProof(c,a.$target.find("div.js-tweet-stats-container"),f),o.geo(c,a.$target.find("div.js-tiny-geo"));if(b.fullExpansion&&!b.autoExpanded){o.conversation(c,a,b);var g=a.$tweet.attr("data-impression-id");g&&(c=twttr.API.util.PromotedStore.getPromotedStatusInstance(c,g),twttr.API.util.PromotedContent.logShowDetails(g))}},sumCardMediaHeights:function(a){var b,c=0;return a.photos&&(b=a.photos[0])?b.images&&b.images.web&&(c=b.images.web.height):a.players&&(b=a.players[0])?b.players&&b.players.length&&b.players[0].height&&(c=b.players[0].height):a.summaries&&(b=a.summaries[0])&&(b.images&&b.images.web?c=b.images.web.height:c=k),c&&(c+=k),b.author_user_id_str&&(c+=l),b.site_user_id_str&&(c+=m),c},sumEntityMediaEmbedHeights:function(a){return twttr.reduce(a,0,function(a,b,c){var e,i;c.type==="photo"?(e=c.sizes.medium.h,width=c.sizes.medium.w):(e=c.thumbnails[0].height,width=c.thumbnails[0].width),width&&width>g&&(e=g*(e/width));var j=e?Math.min(e,d)+f:75;return a+j})},sumMediaEmbedHeights:function(a){return twttr.reduce(a,0,function(a,b,c){var e=$(c),i=e.data("media-type");if(i){var j=e.data("media-h")||i.height,k=e.data("media-w");k&&k>g&&(j=g*(j/k));var l=j?Math.min(j,d)+f:75;return a+l}return a+0})},wrapComponents:function(a,b){var c=$("<div/>",{"class":"expansion-container js-expansion-container",height:b,data:{height:b}});return a.$tweet.wrap(c),a.$target.find("div.js-expansion-container")},resetEmbeddedContent:function(a,b){var c=a.$target.find("*[has-playable-media='true'] div.tweet-media");c.length&&(b?c.height(c.height()).empty():c.filter(":empty").trigger("showMedia")),b&&twttr.decider.isAvailable("platform_enable_cards")&&a.$target.find(".cards-base.cards-multimedia iframe").each(function(a,b){var c=b.src;b.src="",b.src=c})},scribeLoad:function(a,b){var c=a.$tweet.find("span.js-icon-container .media").map(function(a,b){return[[b.getAttribute("data-media-type"),b.getAttribute("data-media-class")]]}).get();scribble("load-details-pane",{component:"stream",details_type:"tweet",item_id:a.$target.attr("data-item-id"),stream:b.constructor._name,page_number:b._page,embedded_media_types:c}),b.trigger("select.tweet",[a.$target,a.$target,"select"])},scribeClose:function(a,b){scribble("close-details-pane",{input:"click",current_tweet_id:b.focusedItemId}),b.trigger("deselect.tweet",[a.$target,a.$target,"deselect"])}},o={media:function(a,b){using("components/Media",function(c){if(!b.is(":empty"))return;(new c(a,g,{afterRender:function(a){var c=a.icon();(c==="video"||c==="song")&&b.attr("has-playable-media",!0).show()},whenNotDisplayed:function(a){b.css("min-height",0).show()}})).$node.appendTo(b)})},translation:function(a,b){using("components/MachineTranslationBackend",function(c){if(!b.is(":empty"))return;(new twttr.components.MachineTranslatedTweet(a)).$node.appendTo(b)})},conversation:function(a,b,c){using("components/Conversation","components/Replies",function(d,e){var f;new d(a,null,function(d){new e(a,null,d.resultGroups,function(){if(b.$expansion.find(".js-conversation-replies").length)return;var a=$("<div class='replies js-conversation-replies'></div>").height(0).appendTo(b.$expansion);this.$node.appendTo(a),f=new twttr.components.InlineReplyBox(b.$tweet,a,this.$node,421)});if(b.$tweet.data("is-reply-to")&&b.$target.find(".js-tweet-ancestors").length===0){b.$target.addClass("animating");var g=d.$node.find(".js-tweet-ancestors");g.attr("data-component-term","conversation"),g.height(0).prependTo(b.$target)}setTimeout(function(){var a=n.expandTweetDom(b.$tweet,c.containerClass),d=!c.noAnimation&&b.$target.data("dropdown.showing");p(a.$ancestors,d),p(a.$replies,d,function(){f&&(b.$tweet.data("inline-tweetbox",f),c.focusOnReply&&f.focus())})},0)})})},socialProof:function(a,b,c){using("components/TweetStats","components/Retweeters",function(d,e){var f=$.trim(b.html())=="";if(!f)return;var g=twttr.loggedIn&&twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_status_summary")?d:e;(new g(a,c,function(){b.show()})).$node.appendTo(b)})},geo:function(a,b){using("components/TweetGeoSmall",function(c){if(!b.is(":empty"))return;(new c(a)).$node.appendTo(b)})}},p=function(a,b,c){if(!a.length)return;var d=a.children().height();a.data("height",d),b?a.animate({height:d},n.guessGoodSpeed(d),function(){a.parent().removeClass("animating"),a.height("auto"),c&&c()}):a.height("auto")};return a.mixin(twttr.mixins.profilePopupActionable).keypress({l:function(){this.closeAllTweets()}}).click({"div.js-tiny-geo .map_canvas":function(a,b){a.stopPropagation()},".js-activity-tweet":function(a,b){this.handleExpandoClick(a,b,".supplement")},".expanding-stream-item .js-original-tweet":function(a,b){this.handleExpandoClick(a,b,".expanding-stream-item")},".expanding-stream-item .js-expando-link":function(a,b){this.simpleShowHide(b)},".js-tweet-ancestors .js-stream-tweet, .js-conversation-replies .js-stream-tweet":function(a,b){this.handleExpandoClick(a,b)}}).methods({closeAllTweets:function(){var a=twttr.$win.scrollTop(),c=this.firstVisibleItemBelow(a);if(c){var d=c.offset().top,e=this;this.$find("div.open.expanding-stream-item div.js-original-tweet").each(function(){e.showHide($(this),{containerClass:".expanding-stream-item",noAnimation:!0})}),this.$find("div.open.expanding-stream-item div.js-expando-link").each(function(){e.simpleShowHide($(this))});var f=c.offset().top;b.scrollTop(a-(d-f))}},firstVisibleItemBelow:function(a){var b;return this.$find(".js-stream-item").each(function(){var c=$(this);if(c.offset().top>=a)return b=c,!1}),b},handleExpandoClick:function(a,b,c,d){d=d||{};var e=$(a.target).is(".js-open-close-tweet, .js-open-close-tweet *");$(a.target).hasClass("action-reply-container")&&(d.focusOnReply=!0);if(e||!this.shouldPreventClickFrom($(a.target))){var f=twttr.tco.getSelection();a.preventDefault(),a.stopPropagation();if(e||f.isCollapsed||f.htmlText===""){d.containerClass=c,this.showHide(b,d);var g="tweet_anatomy_2_231";!b.is(".open")&&twttr.isT1&&twttr.abdecider.choose(g)&&($(a.target).is(".open-tweet")?twttr.abdecider.track(g,"open-tweet-open-label"):$(a.target).is(".view-open")?twttr.abdecider.track(g,"open-tweet-view-label"):twttr.abdecider.track(g,"open-tweet-whitespace"))}}},shouldPreventClickFrom:function(a){var b=a.is("a, a *, button, button *")&&!a.is(".js-details *"),c=a.is("embed,object");return b||c},getTweetFromItems:function(a,b){var c,d=b&&b.items;if(d)for(var e=0,f=d.length;e<f;e++)if(a===d[e].id){c=d[e];break}return c},simpleShowHide:function(a){var b=".expanding-stream-item",c=a.closest(b),d={},e=a.closest(".stream-item").find(".js-expando-control-expanded"),f=e.hasClass("show");f?(this.updateExpandoControl(!0,e),n.exitExpandedState(c,d),n.simpleShowHideContent(!0,c.find("div.js-expando-content")),a.trigger("simpleExpandoContract"),this.openCount+=-1):(this.updateExpandoControl(!1,e),n.enterExpandedState(c,d),n.simpleShowHideContent(!1,c.find("div.js-expando-content")),a.trigger("simpleExpandoExpand"),this.openCount+=1),this.showHideCloseAllButton()},showHide:function(a,b){b=b||{},b.currentStream=this.streamManager.getCurrent(),b.tweet=this.getTweetFromItems(a.attr("data-tweet-id"),b.currentStream),this.openCount+=n.toggle(a,b),this.showHideCloseAllButton()},toggleFocus:function(a){this.showHide(a.find(".js-original-tweet"),{containerClass:".expanding-stream-item"})},showHideCloseAllButton:function(){this.$closer&&(this.openCount>0?this.$closer.fadeIn("fast"):this.$closer.fadeOut("fast"))},updateExpandoControl:function(a,b){var c=b.closest(".stream-item");c.find(".js-expando-control-expanded").removeClass(a?"show":"hide").addClass(a?"hide":"show"),c.find(".js-expando-control-unexpanded").removeClass(a?"hide":"show").addClass(a?"show":"hide")},resetCloseAllButton:function(){this.$closer=$("a.js-close-all-tweets"),this.openCount=this.$find("div.open").length,this.openCount>0?this.$closer.show():this.$closer.hide()},dropdown:n,focusStreamItem:twttr.util.noopInT1,unfocusStreamItem:twttr.util.noopInT1,resizeDetailsPane:twttr.util.noopInT1,repositionDetailsPane:twttr.util.noopInT1}).addAfterRender(function(){this.$dashboard=this.$find("div.dashboard"),this.$mainContent=this.$find("div.main-content");var a=this;this.streamManager||(this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node),this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(a,b){this.hasNewItems(b)})),this.streamManager.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),this.streamManager.bind("switchTo didNotSwitch",twttr.bind(this,function(b){twttr.app.trigger("streamSwitchedTo",[this]),setTimeout(function(){a.resetCloseAllButton(),a.$find("div.tweet-media").trigger("showMedia")},0)}))),this.streamManager.preRendered||this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node),this.panes=[],this.$find(".stream-item").addClass("expanding-stream-item"),this.trigger("streamManagerReady")}).addOnSwitchAway(function(){this.$closer&&this.$closer.hide()})}),a()})}),provide("mixins/streamablePageWithInlineMedia",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.streamablePageWithInlineMedia",function(){this.methods({addInlineMediaIcons:function(a,b){using([twttr.bundleMore,"media/Iconifier"],function(){new twttr.media.Iconifier(a,b)})}})}),a(twttr.mixins.streamablePageWithInlineMedia)})}),provide("mixins/itemActionableScribing",function(a){using("util","constants").as(function(b){twttr.klass.mixin("twttr.mixins.itemActionableScribing",function(a){return a.methods({_tweetHasCard:function(a){return a.hasClass("has-cards")||a.find(".has-cards").length>0},_getDataFromTweet:function(a){var b={},c=a.find(".cards-base");return b.tweetHasCard=c.length>0,b.tweetHasCard&&(b.cardType=c.data("card-type"),b.cardUrl=c.data("card-url"),b.publisherUserId=this._getUserIdFromElement(c.find(".source .js-user-profile-link")),b.creatorUserId=this._getUserIdFromElement(c.find(".byline .js-user-profile-link"))),b},_getUserIdFromElement:function(a){return a.length?a.data("user-id"):null},_prepareCustomScribeData:function(a){var b={associations:{}};return b.associations[2]={association_id:a.publisherUserId,association_type:3},b.associations[3]={association_id:a.creatorUserId,association_type:3},b.message=a.cardUrl,{scribeData:b}},_registerTweetActionScribeListeners:function(){var a=this;this.bind("favorite.tweet unfavorite.tweet retweet.tweet unretweet.tweet delete.tweet reply.tweet dismiss.tweet not_relevant.tweet deselect.tweet permalink_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe(e,{event_info:e},f);if(e=="deselect"&&a._tweetHasCard(c)){var g=a._getDataFromTweet(c);a._itemScribe("hide",{event_info:"hide",element:"platform_"+g.cardType+"_card"},twttr.merge(f,a._prepareCustomScribeData(g)))}}),this.bind("select.tweet",function(b,c,d,e){var f=a._itemMetadata(c),g={event_info:e};if(d.find(".sm-image").length){var i=d.find("a[data-expanded-url]").attr("data-expanded-url");i&&(g.url=i)}a._itemScribe(e,g,f);if(a._tweetHasCard(c)){var g=a._getDataFromTweet(c);a._itemScribe("show",{event_info:"show",element:"platform_"+g.cardType+"_card"},twttr.merge(f,a._prepareCustomScribeData(g)))}}),this.bind("avatar_click.tweet screen_name_click.tweet promoted_badge_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.find("[data-user-id]").attr("data-user-id")||d.attr("data-user-id")||d.closest("[data-user-id]").attr("data-user-id"),a._itemScribe("profile_click",{event_info:e},f)}),this.bind("hashtag_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe("search",{event_info:"hashtag",query:d.text()},f)}),this.bind("mention_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe("mention_click",{event_info:"mention"},f)}),this.bind("external_link_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c),g=d.attr("data-expanded-url")||d.attr("href"),i={event_info:"external_link",url:g},j=d.closest(".has-cards").find(".cards-base").data("card-type");j!==null&&j!==undefined&&(i.element="platform_"+j+"_card"),a._itemScribe("open_link",i,f),twttr.externalURLStore.setData(g,f),twttr.abdecider.chooseWithoutImpression("long_tweet_urls_2_259")&&(d.attr("data-long_tweet_urls_2_259")?twttr.abdecider.track("long_tweet_urls_2_259","open_link_expanded"):twttr.abdecider.track("long_tweet_urls_2_259","open_link_short"))})},_registerUserActionScribeListeners:function(){var a=this;this.bind("follow.user unfollow.user follow.tweet",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.attr("data-user-id");var g={event_info:e};if(c.hasClass("has-cards")){var i=a._getDataFromTweet(c);g.element="platform_"+i.cardType+"_card",f=twttr.merge(f,a._prepareCustomScribeData(i))}a._itemScribe(e,g,f),c.attr("data-impression-id")&&trackClient({component:"promoted_user_recommendations",action:e})}),this.bind("select.user deselect.user dismiss.user reply.user block.user unblock.user add_to_list.user report_as_spam.user accept.user deny.user dm.user",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe(e,{event_info:e},f)}),this.bind("avatar_click.user screen_name_click.user promoted_badge_click.user",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.find("[data-user-id]").attr("data-user-id")||d.attr("data-user-id"),a._itemScribe("profile_click",{event_info:e},f),c.attr("data-impression-id")&&trackClient({component:"promoted_user_recommendations",action:"profile_click"})})},getScribbler:function(){if(this.scribbler)return this.scribbler;if(this.getStreamManager){var a=this.getStreamManager(),b=a&&a.getCurrent();if(b&&b.scribbler)return b.scribbler}return twttr.Scribbler.clientEvent},_getScribeComponentName:function(){return this.scribeComponentName?this.scribeComponentName:this.constructor&&this.constructor._name?b.util.underscore(this.constructor._name):""},_itemScribe:function(a,b,c){var d={component:this._getScribeComponentName(c.targetItem),action:a};b.element&&(d.element=b.element);if(c.targetObj){var e=twttr.Scribbler.getElementEventNameTerms(c.targetObj);e.component&&(d.component=e.component)}if(c.itemType&&c.itemId){var f={};f[c.itemId+""]=c.itemDetails,c.scribeData.item_details=f}this.getScribbler().scribe(d,twttr.merge(b,c.scribeData)),twttr.profileUser&&twttr.profileUser.verified&&twttr.app.currentPageName()=="profile"&&twttr.abdecider.track("replies_stripped_on_verified_profiles_222",a),this._itemDetailsScribe(a,c.itemType,c.itemObj)},_itemDetailsScribe:function(a,b,c){var d="tweet_anatomy_2_231";if(b==="tweet"&&twttr.isT1&&twttr.abdecider.choose(d)){if(a==="impression"){var e=c.attr("data-tweet-id"),f=window.__tweet_anatomy_2_231_impressionSink;f||(f=window.__tweet_anatomy_2_231_impressionSink=[]);if($.inArray(e,f)!==-1)return;f.unshift(e),f.length>5e3&&(f.length=5e3)}var g={hashtag:".twitter-hashtag",link:".twitter-timeline-link",username:".twitter-atreply",photo:".sm-image",video:".sm-video",audio:".sm-audio",geo:".sm-geo",convo:".sm-convo",embed:".sm-embed",summary:".sm-summary",retweet:".sm-rt",reply:".sm-reply",promoted:".badge-promoted"},i=c.find(g.promoted).length?"-promoted":"-organic";twttr.abdecider.track(d,a+i);for(var j in g)c.find(g[j]).length&&twttr.abdecider.track(d,a+i+"-has-"+j);$.each(c.find(".twitter-timeline-link"),function(b,c){var e=c.getAttribute("data-expanded-url")||c.href;e===c.getAttribute("data-ultimate-url")?twttr.abdecider.track(d,a+i+"-has-link-expanded"):twttr.abdecider.track(d,a+i+"-has-link-short")})}},_itemMetadata:function(a){var c=this._findOrCurrent(a,".js-actionable-tweet, .js-actionable-user"),d=this._closestOrCurrent(c,"[data-item-type]"),e=d.attr("data-item-type"),f={item_count:1},g={},i,j,k,l;$.inArray(e,["tweet","user","activity"])==-1&&(c.is(".js-actionable-tweet")?e="tweet":c.is(".js-actionable-user")&&(e="user"));if(d.length){switch(e){case"tweet":k=!!this._findOrCurrent(c,".top-tweet").length,j=this._findOrCurrent(c,"[data-impression-id]").attr("data-impression-id");var m=j?"promotedTweet":k?"popularTweet":"tweet";g.item_type=b.constants.clientEvent.itemType[m],i=this._findOrCurrent(c,"[data-tweet-id]").attr("data-tweet-id"),this.ignoreScribeItemPosition||(g.item_position=this._itemPosition(c,"tweet"));break;case"user":j=this._findOrCurrent(d,"[data-impression-id]").attr("data-impression-id");var n=d.attr("data-feedback-token"),m=j?"promotedUser":"user";g.item_type=b.constants.clientEvent.itemType[m],i=d.attr("data-item-id")||d.attr("data-user-id"),this.ignoreScribeItemPosition||(g.item_position=this._itemPosition(c,"user")),n&&(f.item_names=[n]);break;case"activity":var o=this._activityType(d);g.item_type=b.constants.clientEvent.itemType.activity,g.item_description=o;var p=d.attr("data-item-id");i=this._findOrCurrent(d,"div[data-activity-min-position]").attr("data-activity-min-position")||p.split("_")[0];var q=a.attr("data-tweet-id");q&&(g.target_id=q),f.item_names=[p];break;default:i=d.attr("data-item-id")}j&&(g.item_token=j),g.item_description&&!f.item_names&&(f.item_names=[g.item_description]),i&&(f.item_ids=[i])}return{scribeData:f,itemId:i,itemType:e,itemDetails:g,itemObj:d,targetObj:a,impressionId:j,popular:k}},_activityType:function(a){var b=this._findOrCurrent(a,".stream-item-activity").attr("data-activity-type"),c;return b||(a.is(".reply")?b="reply":a.is(".mention")&&(b="mention")),b},MAX_ITEM_POSITION:40,_itemPosition:function(a,b){var c=b=="tweet"?"div.js-actionable-tweet":"div.js-actionable-user, li.js-actionable-user",d=b=="tweet"?"data-tweet-id":"data-user-id",e=a.attr(d),f=[];return this.$node.find(c).each(function(a,b){f.push($(b).attr(d))}),$.inArray(e,twttr.util.arrayUniq(f).slice(0,this.MAX_ITEM_POSITION))},_findOrCurrent:function(a,b){return a.is(b)?a:a.find(b)},_closestOrCurrent:function(a,b){var c=a.is(b)?a:a.closest(b);return c.length?c:a}}),a}),a()})}),provide("mixins/streamablePage",function(a){using("_","util").as(function(b,_){twttr.klass.mixin("twttr.mixins.streamablePage",function(){this.addViewData(function(){var a={};return a["active_tab_"+this._activeTab]=1,a}).addOnSwitchAway(function(){this.streamManager&&this.streamManager.onSwitchAway()}).keydown({f:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionFavorite(b.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}},r:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionReply(b.getCurrentlyFocusedItem().find(".js-original-tweet"),"keyboard")}},t:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionRetweet(b.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}}}).keypress({k:function(a){this.streamManager.getCurrent().highlightPrevious(),a.preventDefault()},j:function(a){this.streamManager.getCurrent().highlightNext(),a.preventDefault()},"return":function(a){var b=this.streamManager.getCurrent(),c=this.$find('.stream-item[data-item-id="'+b.highlightedItemId+'"]');if(c.length===0)return;a.preventDefault(),this.toggleFocus(c)},period:function(a){twttr.$win.scrollTop(0);var b=this.streamManager.getCurrent();b.fetchTweets(twttr.bind(this,function(a){a.newItemsCount>0&&(a._showNewItems(),a.restartFetcher());var b=a.getFirstItem();a.highlightItem(b),a.scrollStreamTo(b),twttr.$win.scrollTop(0)})),twttr.components.JapaneseAd.refreshAds()}}).methods({getStreamManager:function(){return this.streamManager},focusStreamTab:function(a){var b;this.$node.find("ul.stream-tabs li.stream-tab, ul.stream-subtabs").removeClass("active"),a&&(b="ul.stream-tabs li.stream-tab-"+a+", ul.stream-subtabs-"+a,this.$node.find(b).addClass("active")),this._activeTab=a,scribble("subnav",{item:a})},focusStreamSubtab:function(a){var b;this.$node.find("ul.stream-subtabs li.stream-tab").removeClass("active"),a&&this.$node.find("ul.stream-subtabs li.stream-subtab-"+a).addClass("active"),this._activeSubtab=a,scribble("subsubnav",{item:a})},_detailsPaneDisabled:function(){return!twttr.decider.goodAtCss()||twttr.isT1}});var a={Messages:1,WhoToFollow:1,SimilarTo:1,WelcomeLearnFlow:1};return!twttr.decider.isExpando()||this._name in a?this.mixin(twttr.mixins.streamablePageDetailsPane):this.mixin(twttr.mixins.streamablePageDropdownEdition)}),a(twttr.mixins.streamablePage)})}),provide("mixins/userActionableT1",function(a){using().as(function(b){var c=twttr.klass.mixin("twttr.mixins.userActionableT1",function(){return this.methods({getActionableUser:function(a){return a.closest(".js-actionable-user")},getComboButton:function(a){return this.$node.find('.js-follow-combo[data-user-id="'+a+'"]')},getDropdownButton:function(a){return this.$node.find('.js-action-profilemenu[data-user-id="'+a+'"]')},getUserId:function(a){return twttr.helpers.getUserIdentifier(a)},getUserRelationship:function(a,b){var c=this,d=this.getActionableUser(a),e=+d.attr("data-user-id");if(d.data("user")){var f=d.data("user");this.getRelationship(f,b)}else twttr.API.User.find(e,function(a){d.data("user",a),c.getRelationship(a,b)})},getRelationship:function(a,b){if(!twttr.loggedIn){var c={notifications:!1,following:!1,followedBy:!1,blocking:!1,followRequestSent:!1,wantRetweets:!1,canDM:!1};b(c,{user:a,id:a.id,name:a.name,screen_name:a.screenName,notifications:c.notifications,following:c.following,followed_by:c.followedBy,blocking:c.blocking,follow_request_sent:a.followRequestSent,want_retweets:c.wantRetweets,can_dm:c.canDM,reported:!1});return}twttr.currentUser.relationshipWith(a,function(c){var d={user:a,id:a.id,name:a.name,screen_name:a.screenName,notifications:c.notifications,following:c.following,followed_by:c.followedBy,blocking:c.blocking,follow_request_sent:a.followRequestSent,want_retweets:c.wantRetweets,can_dm:c.canDM,reported:!1};b(c,d)})},showFollowOrUnfollow:function(a){var b=this;twttr.helpers.isCurrentUser(a)||b.getRelationship(a,function(a,c){c.followed_by&&b.$node.find(".js-follows-you").show()})},showMiniSocialProof:function(a){var b=this;twttr.currentUser&&!twttr.helpers.isCurrentUser(a)&&twttr.currentUser.followingFollowersOf(a.id,function(c){if(c.length()){var d=b.makeLongSocialContextHtml(a.screenName,c.toArray());b.$find(".js-mini-social-proof-container").html(d)}})},showUserProfileMenu:function(a){var b=this;$(document).trigger("click.button"),a.addClass("open"),a.closest(".js-stream-item").addClass("has-follow-dropdown-open"),$(document).bind("click.button",function(){b.hideUserProfileMenu(a)})},hideUserProfileMenu:function(a){a.removeClass("open"),a.closest(".js-stream-item").removeClass("has-follow-dropdown-open"),$(document).unbind("click.button")},toggleUserProfileMenu:function(a){var b=this,c=this.getActionableUser(a),d=+c.attr("data-user-id"),e=this.getDropdownButton(d);if(c.attr("data-dropdown")){c.hasClass("open")?this.hideUserProfileMenu(c):this.showUserProfileMenu(c);return}this.getUserRelationship(a,function(a,d){b.renderUserProfileMenu(c,e,d),b.showUserProfileMenu(c)})},renderUserProfileMenu:function(a,b,c){c.want_retweets&&a.addClass("including"),twttr.currentUser&&twttr.currentUser.deviceSetup&&c.notifications?a.addClass("notifying"):a.removeClass("notifying"),c.blocking&&a.addClass("blocked").removeClass("following not-following follow-request-sent"),c.can_dm&&a.addClass("can-dm"),(new twttr.views.ComboFollowButtonDropdown(c)).render(b,"append"),a.attr("data-dropdown",!0)},onUserActionFollowSync:function(a,b){var c=this.getComboButton(a);c.length?this.updateButtonFollow(c,b):this.updateFollowStateLink(a,!0,b)},onUserActionFollowSuccess:function(a,b,c){var d=this.getActionableUser(c);this.updateButtonFollow(d,b)},updateButtonFollow:function(a,b){b?a.removeClass("not-following").addClass("follow-request-sent"):a.removeClass("not-following").addClass("following including")},updateFollowStateLink:function(a,b,c){if(b)var d=c?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink;else var d=twttr.views.FollowLink;var e=this.$node.find('.js-follow-state .js-link[data-user-id="'+a+'"]');(new d({id:a})).render(e,"replaceWith")},onUserActionUnfollowSuccess:function(a,b){var c=this.getActionableUser(b);this.updateButtonUnfollow(c)},onUserActionUnfollowSync:function(a){var b=this.getComboButton(a);b.length?this.updateButtonUnfollow(b):this.updateFollowStateLink(a,!1)},updateButtonUnfollow:function(a){a.removeClass("following follow-request-sent").addClass("not-following")},updateUserAttributesFromRelationship:function(a){twttr.decider.isAvailable("profile_pane_fresh")&&$.extend(this.user.attributes,{following:a.following,blocking:a.blocking,notifications:a.notifications,can_dm:a.canDM,want_retweets:a.wantRetweets})},onUserActionFollowError:function(a,b){twttr.helpers.showErrorFromResponse(a,"follow")},onUserActionUnfollowError:function(a){twttr.helpers.showErrorFromResponse(a,"follow")},registerFollowAction:function(){var a=this;this.$node.delegate(".js-action-follow, .js-action-follow-request","click",function(b){var c=$(this),d=a.getActionableUser(c);return twttr.loggedIn&&(d.removeClass("not-following"),d.hasClass("protected")?d.addClass("follow-request-sent first-hover"):d.addClass("following including first-hover")),d.one("mouseleave",function(){d.removeClass("first-hover")}),a.userActionFollow(c),b.preventDefault(),b.stopPropagation(),!1})},registerUnfollowAction:function(){var a=this;this.$node.delegate(".js-action-unfollow","click",function(b){var c=a.getActionableUser($(this));return c.removeClass("following follow-request-sent").addClass("not-following"),a.userActionUnfollow($(this)),b.preventDefault(),b.stopPropagation(),!1})},registerProfileMenuAction:function(){var a=this;this.$node.delegate(".js-action-profilemenu","click",function(b){return a.toggleUserProfileMenu($(this)),b.preventDefault(),b.stopPropagation(),!1})},registerBlockAction:function(){var a=this;this.$node.delegate(".js-action-block","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="block";return a.markAsPending(c,f),c.addClass("blocked").removeClass("following not-following follow-request-sent"),twttr.API.User.find(d,function(b){var d="not-following";b.following?d="following":b.followRequestSent&&(d="follow-request-sent"),b.block({impression_id:e,complete:function(){a.markAsComplete(c,f)},timeout:function(a){a.retry()},success:function(b){a.trigger("block.user",[c,$(this),"block"]),c.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(){twttr.showError(_("Whoops! We weren't able to block that user. Try again in a minute")),c.removeClass("blocked").addClass(d)}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerUnblockAction:function(){var a=this;this.$node.delegate(".js-action-unblock","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="unblock";return a.markAsPending(c,f),c.removeClass("blocked").addClass("not-following"),twttr.API.User.find(d,function(b){b.unblock({impression_id:e,before:function(){$('.stream .stream-tweet[data-user-id="'+b.id+'"]').closest(".stream-item").show()},complete:function(){a.markAsComplete(c,f)},success:function(){a.trigger("unblock.user",[c,$(this),"unblock"]),c.removeClass("blocked").addClass("not-following")},error:function(){c.addClass("blocked").removeClass("not-following following follow-request-sent")}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerReportAction:function(){var a=this;this.$node.delegate(".js-action-spam","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="report";return a.markAsPending(c,f),c.addClass("blocked").removeClass("following not-following follow-request-sent"),twttr.API.User.find(d,function(b){var d="not-following";b.following?d="following":b.followRequestSent&&(d="follow-request-sent"),b.report({impression_id:e,before:function(){$('.stream .stream-tweet[data-user-id="'+b.id+'"]').closest(".stream-item").hide()},complete:function(){a.markAsComplete(c,f)},success:function(d){twttr.showMessage(_("You have reported {{screenName}} for spam",b)),a.trigger("report_as_spam.user",[c,$(this),"report_as_spam"]),c.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(a){twttr.errors.showErrorFromResponse(a,"report"),c.removeClass("blocked").addClass(d)}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerMentionAction:function(){var a=this;this.$node.delegate(".js-action-mention","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id");return twttr.API.User.find(d,function(b){(new twttr.widget.TweetDialog({template:{title:"Mention "+b.screenName},draggable:!0,defaultContent:"@"+b.screenName+" ",origin:"profile-actions-dropdown-mention"})).open().focus(),a.trigger("reply.user",[c,$(this),"reply"])}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerAddToListAction:function(){var a=this;this.$node.delegate(".js-action-add-to-list","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id");return twttr.API.User.find(d,function(b){(new twttr.widget.ListMembershipDialog(b)).open(),a.trigger("add_to_list.user",[c,$(this),"add_to_list"])}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerDeviceNotificationToggle:function(){var a,b,c,d=this;this.$node.delegate(".js-device-notifications","click",function(e){var f=d.getActionableUser($(this)),g=+f.attr("data-user-id"),i=f.hasClass("notifying"),j=i?"setNotificationsOff":"setNotificationsOn";return twttr.API.User.find(g,function(d){if(!twttr.currentUser.deviceSetup){!twttr.currentUser.deviceVerified&&(!twttr.currentUser.pushTweetsDecidered||!twttr.currentUser.pushDevice)?(a={title:_("Setup mobile notifications"),content:(new twttr.views.PhoneSetupPrompt({screen_name:d.screenName,ok:_("Set up phone"),cancel:_("Cancel")})).html()},b=twttr.router.devicesPath()):(a={title:_("Enable mobile notifications for Tweets"),content:(new twttr.views.PhoneTweetsOffPrompt({screen_name:d.screenName,ok:_("Enable Tweet notifications"),cancel:_("Close")})).html()},twttr.currentUser.pushDevice&&twttr.currentUser.pushTweetsDecidered?b=twttr.router.pushHelpPath():b=twttr.router.devicesPath()),(new twttr.widget.Prompt({modal:!0,callback:function(a){a&&(c=function(){twttr.router.routeTo(b)},twttr.API.User.bind("subscribe",c),d.setNotificationsOn())},template:a})).open();return}d[j](),i?f.removeClass("notifying"):f.addClass("notifying")}),e.preventDefault(),e.stopPropagation(),!1})},registerRetweetToggle:function(){var a=this;this.$node.delegate(".js-retweet-setting","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.hasClass("including"),f=e?"setWantRetweetsOff":"setWantRetweetsOn";return twttr.API.User.find(d,function(a){a[f](),e?(c.removeClass("including"),twttr.showMessage(_("Retweets from @{{screenName}} will no longer appear in your timeline",a))):(c.addClass("including"),twttr.showMessage(_("Retweets from @{{screenName}} will appear in your timeline",a)))}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerDirectMessageAction:function(){var a=this;this.$node.delegate(".js-direct-message-action","click",function(b){var c=$(this),d=a.getActionableUser(c),e=+d.attr("data-user-id");return twttr.API.User.find(e,function(b){twttr.dialogs.dmSingle({user:{screenName:b.screenName,user_id:e,name:b.attributes.name,profile_image_url:b.attributes.profile_image_url},origin:"user-actionable-direct-message"}).open(),a.trigger("dm.user",[d,c,"dm"])}),a.hideUserProfileMenu(d),b.preventDefault(),b.stopPropagation(),!1})},registerProfileAction:function(){var a=this;this.$node.delegate(".js-action-profile-avatar","click",function(b){var c=$(this);a.trigger("avatar_click.user",[a.getActionableUser(c),c,"avatar"])}),this.$node.delegate(".js-action-profile-name","click",function(b){var c=$(this);a.trigger("screen_name_click.user",[a.getActionableUser(c),c,"screen_name"])}),this.$node.delegate(".js-action-profile-promoted","click",function(b){var c=$(this);a.trigger("promoted_badge_click.user",[a.getActionableUser(c),c,"promoted_badge"])}),this.$node.delegate(".js-account-group, .js-mini-profile-user","click",function(b){var c=a.$node.find(".js-actionable-user"),d=+c.attr("data-user-id"),e=c.closest("[data-impression-id]").attr("data-impression-id");a._updateTwttrPromotedAccount(d,e)})},registerUserActionEvents:function(){var a=this;this.registerFollowAction(),this.registerUnfollowAction(),this.registerProfileAction(),this.registerPromotedUserActionEvents(),twttr.loggedIn&&(this.registerProfileMenuAction(),this.registerBlockAction(),this.registerUnblockAction(),this.registerReportAction(),this.registerMentionAction(),this.registerAddToListAction(),this.registerDeviceNotificationToggle(),this.registerRetweetToggle(),this.registerDirectMessageAction(),this._registerUserActionAPIListeners(),this._registerUserActionScribeListeners())}}),this});a(c)})}),provide("mixins/userActionable",function(a){using(twttr.isT1?"mixins/userActionableT1":[]).as(function(b){twttr.klass.mixin("twttr.mixins.userActionable",function(a){return a.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({userActionFollow:function(a,b){var c=this,d=twttr.helpers.getUserId(a),e=a.closest(".js-actionable-user, .js-actionable-tweet"),f=e.attr("data-impression-id")||e.closest("[data-impression-id]").attr("data-impression-id"),g="follow";this.markAsPending(e,g),twttr.API.User.find(d,function(i){var j=i["protected"]&&!i.following;twttr.loggedIn?(c._updateTwttrPromotedAccount(d,f),i.follow({complete:function(){c.markAsComplete(e,g)},success:function(f){b=b||(e.is(".js-actionable-tweet")?"follow.tweet":"follow.user"),c.trigger(b,[e,a,"follow"]);var g=e.closest(".js-stream-item").length;j&&!g&&twttr.showMessage(_("A follow request has been sent to {{user}}.",{user:i.name||i.screenName})),c.onUserActionFollowSuccess(d,j,a)},error:function(a){c.onUserActionFollowError(a,j)},impression_id:f})):twttr.dialogs.signinOrSignup({follow:i,justSignup:!0}).open()})},userActionUnfollow:function(a){var b=this,c=twttr.helpers.getUserId(a),d=a.closest(".js-actionable-user"),e=d.attr("data-impression-id")||d.closest("[data-impression-id]").attr("data-impression-id"),f="unfollow";this.markAsPending(d,f),twttr.API.User.find(c,function(g){g.unfollow({complete:function(){b.markAsComplete(d,f)},success:function(){b._updateTwttrPromotedAccount(c,e),b.trigger("unfollow.user",[d,a,"unfollow"]),b.onUserActionUnfollowSuccess(c,a)},error:function(a){b.onUserActionUnfollowError(a)},impression_id:e})})},userActionMenu:function(a){var b=this,c=twttr.helpers.getUserIdentifier(a);if(a.attr("data-opened"))return;a.attr("data-opened",!0),twttr.API.User.find(c,function(c){twttr.currentUser.relationshipWith(c,twttr.bind(this,function(d){var e={user:c,id:c.id,screen_name:c.screenName,notifications:d.notifications,following:d.following,followed_by:d.followedBy,blocking:d.blocking,follow_request_sent:c.followRequestSent,want_retweets:d.wantRetweets,reported:!1};b.userProfileActionsDropdown=b._getUserActionsDropdown(c,a,e),b.userProfileActionsDropdown.render(a,"after").open()}))})},onUserActionFollowSync:function(a,b){var c=this.$node.find(".js-action-follow[data-user-id='"+a+"']"),d;c.length&&(c.is(".js-button")?d=b?twttr.views.FollowRequestSentButton:twttr.views.UnfollowButton:c.is(".js-link")&&(d=b?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink),this._updateFollowState(a,c,d))},onUserActionUnfollowSync:function(a){var b=this.$node.find(".js-action-unfollow[data-user-id='"+a+"']"),c;b.length&&(b.is(".js-button")?c=twttr.views.FollowButton:b.is(".js-link")&&(c=twttr.views.FollowLink),this._updateFollowState(a,b,c))},_updateFollowState:function(a,b,c){c&&(new c({id:a})).render(b,"replaceWith")},_userLinkHtml:function(a){return(new twttr.views.UserLink(a)).html()},makeShortSocialContextHtml:function(a,b){var c="";return b.length==1?c+=_("Followed by {{{user}}}",{user:this._userLinkHtml(b[0])}):c+=_('Followed by {{{user}}} and <a href="{{url}}" class="pretty-link"><b>others</b></a>',{user:this._userLinkHtml(b[0]),url:twttr.router.followersYouFollowPath({screen_name:a})}),c},makeLongSocialContextHtml:function(a,b){var c="";switch(b.length){case 1:c+=_("Followed by {{{user}}}.",{user:this._userLinkHtml(b[0])});break;case 2:c+=_("Followed by {{{first}}} and {{{second}}}.",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1])});break;case 3:c+=_("Followed by {{{first}}}, {{{second}}} and {{{third}}}.",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2])});break;case 4:c+=_("Followed by {{{first}}}, {{{second}}}, {{{third}}} and {{{other}}}.",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2]),other:this._userLinkHtml(b[3])});break;default:c+=_('Followed by {{{first}}}, {{{second}}}, {{{third}}} and <a href="{{url}}" class="pretty-link"><b>{{count}} others</b></a>.',{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2]),count:b.length>13?"10+":b.length-3,url:twttr.router.followersYouFollowPath({screen_name:a})})}return c},makeSocialContextHtml:function(a,b){var c=this;if(a.socialContext)var d=a.socialContext,e=a.screenName;else var d=a.attributes.connections,e=a.user.screenName;var f="";return!this.screenName&&d&&d.length&&(b?f+=this.makeLongSocialContextHtml(e,d):f+=this.makeShortSocialContextHtml(e,d)),f},onUserActionFollowSuccess:function(a,b,c){},onUserActionFollowError:function(a,b){twttr.helpers.showErrorFromResponse(a,"follow")},onUserActionUnfollowSuccess:function(a,b){},onUserActionUnfollowError:function(a){twttr.helpers.showErrorFromResponse(a,"follow")},registerPromotedUserActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-dismiss","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logDismissUser(e),a.trigger("dismiss.user",[d,c,"dismiss"])}),this.$node.delegate(".js-actionable-user img.user-profile-link, .js-actionable-user .js-action-profile-avatar","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logProfileImageClick(e),a.trigger("avatar_click.user",[d,c,"avatar"])}),this.$node.delegate(".js-actionable-user .js-promoted-badge","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logFooterProfileClick(e),a.trigger("promoted_badge_click.user",[d,c,"promoted_badge"])}),this.$node.delegate(".js-actionable-user .user-name .user-profile-link, .js-actionable-user .js-action-profile-name","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logScreenNameClick(e),a.trigger("screen_name_click.user",[d,c,"screen_name"])})},registerUserActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-follow, .js-actionable-tweet .js-action-follow","click",function(b){return a.userActionFollow($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-unfollow","click",function(b){return a.userActionUnfollow($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-profilemenu","click",function(b){return a.userActionMenu($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.registerPromotedUserActionEvents(),this._registerUserActionAPIListeners(),this._registerUserActionScribeListeners()},_registerUserActionAPIListeners:function(){var a=this;twttr.API.User.bind("follow",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("following",!0),a.sync("followers_count",a.followersCount+1)}),a.onUserActionFollowSync(d)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following",!1),a.sync("followers_count",a.followersCount-1)}),a.onUserActionUnfollowSync(e)}}),twttr.API.User.bind("follow_request",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("follow_request_sent",!0)}),a.onUserActionFollowSync(d,!0)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following_request_sent",!1)}),a.onUserActionUnfollowSync(e)}}),twttr.API.User.bind("unfollow",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("following",!1),a["protected"]||a.sync("followers_count",a.followersCount-1)}),a.onUserActionUnfollowSync(d)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following",!0),a["protected"]||a.sync("followers_count",a.followersCount+1)}),a.onUserActionFollowSync(e)}})},_updateTwttrPromotedAccount:function(a,b){b?twttr.promotedAccountStore.setAccount(a,b):twttr.promotedAccountStore.clear()},_getUserActionsDropdown:function(a,b,c){var d=this,e=b.closest(".js-actionable-user"),f=[];return f.push({label:_("Mention {{screen_name}}",c),icon:"mention",className:"js-action-reply",handlers:{click:function(){(new twttr.widget.TweetDialog({template:{title:"Mention "+a.screenName},draggable:!0,defaultContent:"@"+a.screenName+" ",origin:"profile-actions-dropdown-mention"})).open().focus(),d.trigger("reply.user",[e,b,"reply"])}}}),f.push({label:_("Add to list"),icon:"user-list",className:"js-action-addtolist",handlers:{click:function(){(new twttr.widget.ListMembershipDialog(a)).open(),d.trigger("add_to_list.user",[e,b,"add_to_list"])}}}),c.blocking?f.push({label:_("Unblock {{screen_name}}",c),icon:"block",className:"js-action-unblock",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.unblock({before:function(){$('.stream .stream-tweet[data-user-id="'+a.id+'"]').closest(".stream-item").show()},success:function(){d.trigger("unblock.user",[e,b,"unblock"])},impression_id:c})}}}):f.push({label:_("Block {{screen_name}}",c),icon:"block",className:"js-action-block",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.block({timeout:function(a){a.retry()},error:function(){twttr.showError(_("Whoops! We weren't able to block that user. Try again in a minute"))},success:function(a){d.trigger("block.user",[e,b,"block"])},impression_id:c})}}}),c.blocking||f.push({label:_('Report <span class="truncate">{{screen_name}}</span> for spam',c),icon:"spam",className:"js-action-spam",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.report({before:function(){$('.stream .stream-tweet[data-user-id="'+a.id+'"]').closest(".stream-item").hide()},error:function(a){twttr.errors.showErrorFromResponse(a,"report")},success:function(a){d.trigger("report_as_spam.user",[e,b,"report_as_spam"])},impression_id:c})}}}),new twttr.control.Dropdown(b,{itemView:twttr.views.UserDropdownItem,items:f,direction:"right"})}}),twttr.isT1&&a.mixin(b.mixins.userActionableT1),a}),a(twttr.mixins.userActionable)})}),provide("mixins/profilePopupActionable",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.profilePopupActionable",function(){this.methods({showProfilePopup:function(a){using("widget/MiniProfileDialog",function(b){(new b(a)).open()})}}).click({".user-profile-link,          .js-user-profile-link,          .twitter-atreply,          .js-account-group":function(a,b){var c=this;if(b.is(".withheld-item .twitter-atreply"))return!1;b.hasClass("js-bubble-event")||(a.stopPropagation(),a.preventDefault());var d=b.data("user-id")||b.attr("data-screen-name")||b.closest(".js-profile-popup-actionable").data("user-id");if(!d){twttr.development&&console.log("can't open profile popup: no user identifier found");return}var e=b.closest(".js-actionable-tweet, .js-actionable-user"),f=e.attr("data-impression-id");e.trigger("profile_popup."+(e.is(".js-actionable-tweet")?"tweet":"user")),twttr.API.User.find(d,{success:function(d){d=twttr.API.util.PromotedStore.getPromotedUserInstance(d,f),c.showProfilePopup(d),b.data("user-id",d.id),twttr.scribbles.logViewProfileDetails.call(b,a)},error:function(a){twttr.errors.showErrorFromResponse(a)}})}})}),a(twttr.mixins.profilePopupActionable)})}),provide("mixins/listActionable",function(a){using("_").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.listActionable",function(){return this.methods({listDeleted:function(){},listUpdated:function(){},_setListFollowing:function(a,b,c){var d=c?"subscribe":"unsubscribe";twttr.API.User.find(a,function(a){a.lists.find(b,function(a){a[d]({error:function(){c?twttr.showError(_("There was an error subscribing to the list")):twttr.showError(_("There was an error unsubscribing from the list"))}})})})},unfollowList:function(a,b){this._setListFollowing(a,parseInt(b,10),!1)},followList:function(a,b){this._setListFollowing(a,parseInt(b,10),!0)}}).click({".js-delete-list-action":function(a,b){return(new twttr.widget.Prompt({modal:!0,template:{title:_("Are you sure you want to delete this list?")},callback:function(a){a&&twttr.currentUser.lists.find(parseInt(b.attr("data-list-id"),10),function(a){twttr.app.currentPage().send("listDeleted",[a]),a.destroy({error:function(){twttr.showError(_("There was an error deleting the list"))},success:function(){twttr.app.currentPage().send("listDeleted",[a])}})})}})).open(),a.stopPropagation(),!1},".js-edit-list-action":function(a,b){return twttr.currentUser.lists.find(parseInt(b.attr("data-list-id"),10),function(a){(new twttr.widget.ListDialog({list:a,onSuccess:function(a){twttr.app.currentPage().send("listUpdated",[a])}})).open()}),a.stopPropagation(),!1},".js-unfollow-list-action":function(a,b){return this.unfollowList(b.attr("data-screen-name"),parseInt(b.attr("data-list-id"),10)),a.stopPropagation(),!1},".js-follow-list-action":function(a,b){return this.followList(b.attr("data-screen-name"),parseInt(b.attr("data-list-id"),10)),a.stopPropagation(),!1}}),this});a(c)})}),provide("mixins/tweetActionable",function(a){using("_").as(function(b,_){twttr.klass.mixin("twttr.mixins.tweetActionable",function(a){return a.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({deletedTweetCacheDuration:6e5,_updateTweetDisplay:function(a,b){var c=this;b==="delete"?(twttr.showMessage(_("Your tweet has been deleted.")),c.onTweetActionDelete(a)):twttr.API.Status.find(a,function(d){var e=c.$find("div.js-actionable-tweet[data-tweet-id="+a+"]");switch(b){case"favorite":d.sync("favorited",!0),e.addClass("favorited");break;case"unfavorite":d.sync("favorited",!1),e.removeClass("favorited");break;case"retweet":d.sync("current_user_retweet",!0),e.addClass("retweeted");break;case"unretweet":d.sync("current_user_retweet",!1),e.removeClass("retweeted");break;case"hide":c.onTweetActionHide(a);break;case"show":c.onTweetActionShow(a)}c.rerenderTweetActionsView(b,d,e)})},onTweetActionDelete:function(a){this._getActionableTweets(a).remove()},onTweetActionHide:function(a){this._getActionableTweets(a).hide()},onTweetActionShow:function(a){this._getActionableTweets(a).show()},getTweetId:function(a){return a.attr("data-tweet-id")},getScreenName:function(a){return a.attr("data-screen-name")},getImpressionId:function(a){return a.attr("data-impression-id")},getScribeComponent:function(a){return a.is("div.details-pane .js-actionable-tweet")?"details-pane":a.is("div.stream .js-actionable-tweet")?"stream":"generic-component"},getStreamName:function(){var a=twttr.app.currentPage(),b=a.getInstanceProperty("streamManager");return b?b.getCurrent().constructor._name:null},tweetActionFavorite:function(a,b){if(!a||a.length===0||!twttr.loggedIn)return;var c=this.getTweetId(a),d=a.hasClass("favorited"),e=d?"unfavorite":"favorite",f=this.getImpressionId(a);twttr.API.Status[e](c,{impression_id:f,cacheOptions:{skipOverwrite:!0}});var g=twttr.app.currentPage().getInstanceProperty("streamManager"),i={input:b,tweet_id:c,favorited:!d,component:this.getScribeComponent(a),stream:g&&g.getCurrent().constructor._name};d?twttr.viewHelpers.addActivityItemLogging(a,i,"unfavorite-tweet"):twttr.viewHelpers.addExtraLogging(a,i,"favorite-tweet");var j=d?"unfavorite":"favorite";this.trigger(j+".tweet",[a,a.find("a.js-toggle-fav"),j]),_scribble("favorite-tweet",i)},tweetActionRetweet:function(a,b){if(!a||a.length===0||!twttr.loggedIn)return;var c=this.getTweetId(a),d=this.getScreenName(a),e=this.getImpressionId(a),f=a.hasClass("retweeted"),g=this.getScribeComponent(a),i=this.getStreamName(),j=!!a.attr("data-protected");if(twttr.helpers.isCurrentUser(d)||j&&!f)return;if(f){var k=a.attr("data-my-retweet-id");k&&(this.trigger("unretweet.tweet",[a,a.find("a.js-toggle-rt"),"unretweet"]),twttr.API.Status.unretweet(k))}else{var l=this;using([twttr.bundleMore,"dialogs"],function(){twttr.API.Status.find(c,function(d){twttr.dialogs.retweet(c,d.text,function(d){d&&(twttr.API.Status.retweet(c,{impression_id:e}),l.trigger("retweet.tweet",[a,a.find("a.js-toggle-rt"),"retweet"]),_scribble("tweet",{tweet_type:"retweet",origin:"tweet-action-retweet",input:b,component:g,stream:i}))}).open()})})}var m={input:b,tweet_id:c,component:g,stream:i};twttr.viewHelpers.addExtraLogging(a,m,"retweet-tweet-opened"),_scribble("retweet-tweet-opened",m)},tweetActionReply:function(a,b,c){if(!a||a.length===0||!twttr.loggedIn)return;var d=this.getTweetId(a),e=this.getImpressionId(a),f=this.getScreenName(a),g=this.getScribeComponent(a),i=this.getStreamName(),j={$tweet:a,tweetId:d,impressionId:e,screenName:f,origin:"tweet-action-reply",input:b,component:g,stream:i};if(!c){var k=this;using([twttr.bundleMore,"dialogs"],function(){var b=twttr.dialogs.reply(j);b.view.tweetBox.bind("sendingTweet",function(b,c){k.trigger("reply.tweet",[a,a.find("a.js-action-reply"),"reply"])}),b.open()})}var l={input:b,tweet_id:d,component:g,stream:i};return twttr.viewHelpers.addExtraLogging(a,l,"reply-to-tweet-opened"),_scribble("reply-to-tweet-opened",l),j},tweetActionDismiss:function(a,b){var c=this.getImpressionId(a),d=a.parent(".js-stream-item");d.hasClass("focused-stream-item")&&twttr.app.currentPage().send("closeDetailsPane"),d.fadeOut(300,function(){d.remove()});for(var e=0;e<this.items.length;e++)if(this.items[e].impressionId==c){this.items.splice(e,1);break}twttr.API.util.PromotedContent.logDismissOther(c),this.trigger("dismiss.tweet",[a,a.find(".js-action-dismiss, div.js-action-dismiss"),"dismiss"]),twttr.promotedTweetStore.clear()},tweetActionNotRelevant:function(a){var b={query:a.find("a.js-action-notrel").attr("data-search-query"),tweet_id:this.getTweetId(a),stream_index:String(a.closest(".stream-item").parent().find('.stream-tweet:not([data-promoted="true"])').index(a))};this.trigger("not_relevant.tweet",[a,a.find("a.js-action-notrel"),"not_relevant"]),_scribble("not-relevant-tweet",b)},tweetActionDelete:function(a,b){var c=this;if(!a||a.length===0||!twttr.loggedIn)return;var d=this.getTweetId(a);using([twttr.bundleMore,"widget/Prompt"],function(){(new twttr.widget.Prompt({template:{title:_("Are you sure you want to delete this tweet?")},callback:function(a){a&&twttr.API.Status.find(d).destroy({success:function(){twttr.app.caches.deletedTweets.set(d,!0,c.deletedTweetCacheDuration)},error:function(a){twttr.errors.showErrorFromResponse(a,"delete")}})}})).open()}),this.trigger("delete.tweet",[a,a.find("a.js-action-del"),"delete"]);var e={input:b,tweet_id:d,component:this.getScribeComponent(a)};_scribble("delete-tweet-opened",e)},_getActionableTweets:function(a){return this.$find("div.js-actionable-tweet[data-tweet-id="+a+"]")},_getActionableMyRetweets:function(a){return this.$find("div.js-actionable-tweet[data-my-retweet-id="+a+"]")},_registerTweetActionAPIListeners:function(){var a=this;twttr.API.Status.bind("favorite",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"favorite"),a._updateTweetDisplay(d,"favorite")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"favorite")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"unfavorite"),twttr.errors.showErrorFromResponse(c,"favorite")}}),twttr.API.Status.bind("unfavorite",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"unfavorite"),a._updateTweetDisplay(d,"unfavorite")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"unfavorite")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"favorite"),twttr.errors.showErrorFromResponse(c,"unfavorite")}}),twttr.API.Status.bind("retweet",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"retweet"),a._updateTweetDisplay(d,"retweet")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"retweet")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"unretweet"),twttr.errors.showErrorFromResponse(c,"retweet")},success:function(b,c){var d=c.retweetingStatus.id,e=c.id;c.sync("current_user_retweet",{id:d}),a.$find("div.js-actionable-tweet[data-tweet-id="+e+"]").attr("data-my-retweet-id",d)}}),twttr.API.Status.bind("unretweet",{before:function(b,c){var d=c.requestParameters[0].id,e=a._getActionableMyRetweets(d);a.markAsPending(e,"unretweet");var f=e.attr("data-tweet-id");a._updateTweetDisplay(f,"unretweet")},complete:function(b,c,d){var e=d.requestParameters[0].id,f=a._getActionableMyRetweets(e);a.markAsComplete(f,"unretweet")},error:function(b,c,d){var e=d.requestParameters[0].id,f=a._getActionableMyRetweets(e),g=f.attr("data-tweet-id");a._updateTweetDisplay(g,"retweet")},success:function(b,c,d){var e=c.id,f=c.retweetingStatus.id;a._updateTweetDisplay(e,"unretweet"),a._getActionableTweets(e).attr("data-my-retweet-id",null)}}),twttr.API.Status.bind("delete",{before:function(b,c){var d=c.requestParameters[0].id;a.markAsPending(a._getActionableTweets(d),"delete"),a._updateTweetDisplay(d,"hide")},complete:function(b,c,d){var e=d.requestParameters[0].id;a.markAsComplete(a._getActionableTweets(e),"delete")},error:function(b,c,d){var e=d.requestParameters[0].id;a._updateTweetDisplay(e,"show")},success:function(b,c,d){var e=c.id;a._updateTweetDisplay(e,"delete")}})},registerTweetActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-tweet .js-action-profile-avatar","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logProfileImageClick(e),a.trigger("avatar_click.tweet",[d,c,"avatar"])}),this.$node.delegate(".js-actionable-tweet .js-action-profile-name","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logScreenNameClick(e),a.trigger("screen_name_click.tweet",[d,c,"screen_name"])}),this.$node.delegate(".js-actionable-tweet .js-action-profile-promoted","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logFooterProfileClick(e),a.trigger("promoted_badge_click.tweet",[d,c,"promoted_badge"])}),this.$node.delegate(".js-actionable-tweet .twitter-hashtag","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logHashtagClick(e,c.text()),a.trigger("hashtag_click.tweet",[d,c,"hashtag"])}),this.$node.delegate(".js-actionable-tweet .twitter-atreply","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logUserMentionClick(e,c.text()),a.trigger("mention_click.tweet",[d,c,"mention"])}),this.$node.delegate(".js-actionable-tweet .twitter-timeline-link","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logUrlClick(e,c.text()),a.trigger("external_link_click.tweet",[d,c,"external_link"])}),this.$node.delegate(".js-stream-item .js-permalink","click",function(b){var c=$(this),d=c.closest(".js-stream-item").find("div.js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logPermalinkClick(e),a.trigger("permalink_click.tweet",[d,c,"permalink"])}),this.$node.delegate(".js-actions .js-toggle-fav","click",function(b){return twttr.loggedIn?a.tweetActionFavorite($(this).closest(".js-actionable-tweet"),"click"):twttr.dialogs.signinOrSignup().open(),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-reply","click",function(b){if(twttr.loggedIn){var c=$(this).closest(".js-actionable-tweet");if(twttr.decider.hasInlineReplies()&&c.hasClass("original-tweet")&&!c.hasClass("js-activity-tweet"))if(!c.hasClass("opened-tweet"))c.find(".action-reply-container").trigger("click");else{var d=c.data("inline-tweetbox");d&&d.focus()}else a.tweetActionReply(c,"click")}else twttr.dialogs.signinOrSignup().open();return b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-action-dismiss","click",function(b){return a.tweetActionDismiss($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-del","click",function(b){return a.tweetActionDelete($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-toggle-rt","click",function(b){return twttr.loggedIn?a.tweetActionRetweet($(this).closest(".js-actionable-tweet"),"click"):twttr.dialogs.signinOrSignup().open(),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-notrel","click",function(b){return a.tweetActionNotRelevant($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this._registerTweetActionAPIListeners(),this._registerTweetActionScribeListeners()}}),twttr.isT1?this.methods({rerenderTweetActionsView:twttr.util.noopInT1}):this.methods({rerenderTweetActionsView:function(a,b,c){var d=new twttr.views.TweetActions(b);a==="unretweet"&&(d.retweeted=!1),c.find("span.js-actions, ul.js-actions").replaceWith(d.html())}}),a}),a(twttr.mixins.tweetActionable)})}),provide("mixins/pendingActions",function(a){using().as(function(b){var c=twttr.klass.mixin("twttr.mixins.pendingActions",function(){function a(a){var b=a.attr("data-pending");return b?b.split(" "):[]}function b(a,b){b.length===0?a.removeAttr("data-pending"):a.attr("data-pending",b.join(" "))}var $=jQuery;return this.methods({markAsPending:function(c,d){var e=a(c);$.inArray(d,e)==-1&&(e.push(d),b(c,e))},markAsComplete:function(c,d){var e=a(c),f=$.inArray(d,e);f>=0&&(e.splice(f,1),b(c,e))}}),this});a(c)})}),provide("mixins/i18nTweet",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.i18nTweet",function(){var a=.3,b=twttr.constants.regexps.rtlChar,c=/((<a[^>+]+>.+?<\/a>|[ ^]RT:|:-?[DP\$\)\(])+)/g;this.methods({updateI18nDisplay:function(){var a=this;this.$find("div.tweet, div.tweet-row").each(function(){a.updateRtlDisplay($(this))})},getMachedRtlChars:function(a){return a.match(b)},shouldBeRTL:function(b,c){var d=twttr.txt.extractMentions(b).concat(twttr.txt.extractUrls(b)),e=0;d.length>0&&(e=d.length*2+d.join("").length);var f=b.length-e;return f!=0&&c.length/f>a},updateRtlDisplay:function(a){var b=this,d=a.find("div.js-tweet-text, p.js-tweet-text");if(d.hasClass("tweet-text-rtl"))return;var e=this.getMachedRtlChars(d.text());e!=undefined&&(d.find(".twitter-hashtag").each(function(){var a=$(this).attr("title");if(!a)return;a.match(twttr.constants.regexps.rtlHashtag)?$(this).html("‫"+$(this).html()+"‬"):$(this).html("‪"+$(this).html()+"‬")}),this.shouldBeRTL(d.text(),e)&&(d.addClass("tweet-text-rtl"),d.html(d.html().replace(c,"‎$1‏")),d.addClass("tweet-rtl")))}})}),a(twttr.mixins.i18nTweet)})}),provide("mixins/i18nTweetBox",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.i18nTweetBox",function(){this.mixin(twttr.mixins.i18nTweet).methods({registerTextDirEvents:function(){this.editor.bind("didChangeContent",twttr.bind(this,this._toggleTextDir))},_insertLTRMarker:function(a){var b=0,c=[];return $(twttr.txt.extractMentionsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[0])),(e.indices[0]===0||a[e.indices[0]-1]!=="‎")&&c.push("‎"),c.push(a.substring(e.indices[0],e.indices[1])),(e.indices[1]===0||a[e.indices[1]+1]!=="‏")&&c.push("‏"),b=e.indices[1]}),c.push(a.substr(b)),a=c.join(""),b=0,c.length=0,$(twttr.txt.extractHashtagsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[0])),!a[e.indices[0]+1].match(twttr.constants.regexps.rtlChar)&&(e.indices[0]===0||a[e.indices[0]-1]!=="‎")&&c.push("‎"),b=e.indices[0]}),c.push(a.substr(b)),a=c.join(""),b=0,c.length=0,$(twttr.txt.extractUrlsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[1])),e.indices[1]!==0&&a[e.indices[1]+1]!=="‎"&&c.push("‎"),b=e.indices[1]}),c.push(a.substr(b)),a=c.join(""),a},_eraseCheck:function(a){if(this._prev_txt&&this._prev_txt.length-a.length===1)for(i=0;i<this._prev_txt.length;++i)if(this._prev_txt[i]!==a[i]&&(this._prev_txt[i]==="‎"||this._prev_txt[i]==="‏"))return a.substring(0,i-1)+a.substr(i);return a},_markAtmarkLTR:function(a){function b(a){var b=0;if(document.selection){var c=document.selection.createRange();if(c&&c.parentElement()===a){var d=a.value.length,e=a.createTextRange();e.moveToBookmark(c.getBookmark());var f=a.createTextRange();f.collapse(!1),e.compareEndPoints("StartToEnd",f)>-1?b=d:b=-e.moveStart("character",-d)}}else if(a.selectionStart||a.selectionStart=="0")b=a.selectionStart;return b}function c(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var d=a.parents("body").length!==0,e=0;d&&(e=b(a[0]));var f=a.val().length,g=this._eraseCheck(a.val()).replace(twttr.constants.regexps.dirMark,"");g=this._insertLTRMarker(g);if(d&&this._prev_txt!==g){this._prev_txt=g,a.val(g);var i=e+g.length-f;c(a[0],i)}},markPunctuation:function(a,b){var c=b.val(),d=c.match(twttr.constants.regexps.rtlChar),e=twttr.isRTL;d?e=this.shouldBeRTL(c,d):c.length!==0&&(e=!1),b.attr("dir",e?"rtl":"ltr"),d&&($.browser.mozilla||$.browser.webkit&&a&&a.type==="keydown"||$.browser.msie&&a&&a.type==="keyup")&&this._markAtmarkLTR(b)},_toggleTextDir:function(a,b,c){this.markPunctuation(c,this.editor.$editor)}})}),a(twttr.mixins.i18nTweetBox)})}),provide("mixins/promotedTweetStream",function(a){using("_").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.promotedTweetStream",function(a){return a.methods({hasPromotedContent:function(){for(var a=0,b=this.items.length;a<b;a++)if(this.items[a].isPromoted())return!0;return!1},logPromotedImpressions:function(a){function b(a){a.logImpressionIfPromoted()}a.each?a.each(b):twttr.each(a,b)},movePromotedTweetToTop:function(){var a=this.getMostRecentPromotedTweet();a&&(this.removePromotedTweetDOMElements(),this.removePromotedTweetItems(),this.addAsNewItem(a))},getMostRecentPromotedTweet:function(){for(var a=this.newItemsCount,b=this.items.length;a<b;a++)if(this.items[a].isPromoted())return this.items[a]},promotedTweetIsExpanded:function(){var a=this.$find(".promoted-tweet").closest(".js-stream-item");return a.hasClass("open")},removePromotedTweetDOMElements:function(){this.$find(".promoted-tweet").closest(".js-stream-item").remove()},removePromotedTweetItems:function(){for(var a=this.newItemsCount;a<this.items.length;a++)this.items[a].isPromoted()&&this.items.splice(a,1)}}),a});a(c)})}),provide("mixins/componentEvents",function(a){using("util","constants").as(function(b){var c;twttr.klass.mixin("twttr.mixins.componentEvents",function(a){return $.each(b.constants.jQueryEvents,function(c,d){a[d]=function(a){return twttr.is.inArray(d,["keypress","keydown","keyup"])&&$.each(a,function(b,c){a[b]=function(a){return a.ctrlKey||a.metaKey||a.altKey?undefined:c.apply(this,arguments)}}),this.prototype.hasOwnProperty("_"+d)||(this.uberclass&&this.uberclass.prototype["_"+d]?this.prototype["_"+d]=b.util.create(this.uberclass.prototype["_"+d]):this.prototype["_"+d]={}),twttr.augmentObject(this.prototype["_"+d],a),this}}),a.statics({debugUserEvents:function(a){c=typeof a=="undefined"?!0:a}}),a.methods({initComponentEvents:function(a){var d=this;a=a||this.$node,$.each(b.constants.jQueryEvents,function(b,e){if(twttr.is.inArray(e,["keypress","keydown","keyup"]))return;$.each(d["_"+e]||{},function(b,f){var g=[b,e],i=$.isArray(f)?f:[f];$.each(i,function(a,f){g.push(function(a){c&&console.log("User event fired",{component:d,event:e,selector:b,handler:f});if(!a.isImmediatePropagationStopped())return f.call(d,a,$(this))})}),a.delegate.apply(a,g)})})}}),a}),a(twttr.mixins.componentEvents)})}),provide("mixins/protectedUserActionable",function(a){using("_").as(function(b,_){twttr.klass.mixin("twttr.mixins.protectedUserActionable",function(a){return a.methods({registerProtectedUserActions:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-deny","click",function(b){var c=$(this),d=c.closest(".js-actionable-user");return twttr.currentUser.friends.deny(parseInt(d.attr("data-user-id")),function(b){a.trigger("deny.user",[d,c,"deny"]),d.parents(".js-stream-item").remove()}),b.stopImmediatePropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-accept","click",function(b){var c=$(this),d=c.closest(".js-actionable-user");return twttr.currentUser.friends.accept(parseInt(d.attr("data-user-id")),function(b){a.trigger("accept.user",[d,c,"accept"]),(new twttr.views.StreamUser(b)).render(d,"replaceWith")}),b.stopImmediatePropagation(),!1})}}),a}),a(twttr.mixins.protectedUserActionable)})}),provide("mixins/serverRenderableObject",function(a){using("libwrap/jquery").as(function(b,$){twttr.klass.mixin("twttr.mixins.serverRenderableObject",function(a){return a.methods({preRendered:!1,$domNode:function(b){return this.$node?this.$node:(this.isPresentInDom()?(this.preRendered=!0,this.$node=$(this.selectorAsString())):(this.preRendered=!1,typeof b=="function"&&(b=b.call(this)),this.$node=$(b),this.$node.length>1&&(this.$node=$("<div />").html(b))),this.$node)},domNodeSelector:null,selectorAsString:function(){return typeof this.domNodeSelector=="function"?this.domNodeSelector():this.domNodeSelector},isPresentInDom:function(){var b=this.selectorAsString();return b&&$(b).length===1}}),a}),a(twttr.mixins.serverRenderableObject)})}),provide("mixins/welcomeScribing",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.welcomeScribing",function(a){return a.methods({setWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!1,$.cookie("welcome","1",{expires:new Date(+(new Date)+36e5)})},clearWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie||(twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!0,$.cookie("welcome",null))},maybeScribeWelcomeSkip:function(){if(twttr.mixins.welcomeScribing._noWelcomeSkipCookie||$.cookie("welcome")!="1"){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!0;return}var a={page:"welcome",section:"finished",action:"skip"};trackClient(a),this.clearWelcomeSkipCookie()}}),a}),a()})}),provide("mixins/t1/emptyTimelineRecommendations",function(a){using().as(function(){twttr.klass.mixin("twttr.mixins.emptyTimelineRecommendations",function(){this.statics({showing:!1}).methods({insertEmptyTimeline:function(a){var a=a||{},b=this;using([twttr.bundleMore,"components/t1/EmptyTimelineRecommendations"],function(){if(!twttr.decider.isAvailable("empty_timeline_recommendations"))return b._dontShowSignalCompleted(b);if(!twttr.util.params().empty_timeline){if(twttr.cache.local.shownWelcomeFlow&&twttr.currentUser.friendsCount>0)return b._dontShowSignalCompleted(b);if(twttr.currentUser.friendsCount>=twttr.components.t1.EmptyTimelineRecommendations.avatarLimit)return b._dontShowSignalCompleted(b);if(Math.floor((new Date).getTime()-new Date(twttr.currentUser.createdAt))/864e5>60&&twttr.currentUser.followersCount>100&&twttr.currentUser.friendsCount>0)return b._dontShowSignalCompleted(b)}var c=b.$find("#js-empty-timeline-recommendations-module-hook"),d=b.$find(".js-stream-manager-container, .js-stream-header");c.show(),twttr.mixins.emptyTimelineRecommendations.showing=!0,twttr.router.one("routed.EmptyTimelineRecommendations",function(a,b){e===b.name?twttr.router.one("routed.EmptyTimelineRecommendations",arguments.callee):(c.hide(),d.show())});var e=twttr.router.getCurrentRoute().name;if(c.find(".js-empty-timeline").size()>0){b.signal("emptyTimelineModuleLogicCompleted");return}var f=new twttr.components.t1.EmptyTimelineRecommendations({scribeComponentName:"empty_timeline_recommendations"});c.html(f.$node),f.trigger("addedToPage"),typeof a.onDestroyCb=="function"&&f.bind("destroyed",a.onDestroyCb);var g={success:function(){var c=b.streamManager.streams.current;a.reloadStream&&c.trigger("reloadCurrentStream",c.constructor),d.show()}};twttr.API.User.bind("follow.EmptyTimelineRecommendations",g);var g={success:function(){var c=b.streamManager.streams.current;a.reloadStream&&c.trigger("reloadCurrentStream",c.constructor),twttr.currentUser.friendsCount===0&&d.hide()}};twttr.API.User.bind("unfollow.EmptyTimelineRecommendations",g),b.signal("emptyTimelineModuleLogicCompleted")})},_dontShowSignalCompleted:function(a){twttr.mixins.emptyTimelineRecommendations.showing=!1,a.signal("emptyTimelineModuleLogicCompleted")}})}),a(twttr.mixins.emptyTimelineRecommendations)})}),provide("lib/natcompare",function(a){using().as(function(b){var c=twttr.augmentString("twttr.natcompare",function(){var a=function(a){var b;return b=a.charCodeAt(0),b<=32?!0:!1},b=function(a){var b;return b=a.charCodeAt(0),b>=48&&b<=57?!0:!1},c=function(a,c){var d=0,e=0,f=0,g,i;for(;;e++,f++){g=a.charAt(e),i=c.charAt(f);if(!b(g)&&!b(i))return d;if(!b(g))return-1;if(!b(i))return 1;g<i?d==0&&(d=-1):g>i&&d==0&&(d=1)}};return function(d,e){typeof d=="number"&&(d=d.toString()),typeof e=="number"&&(e=e.toString());var f=0,g=0,i=0,j=0,k,l,m;for(;;){i=j=0,k=d.charAt(f),l=e.charAt(g);while(a(k)||k=="0")k=="0"?i++:i=0,k=d.charAt(++f);while(a(l)||l=="0")l=="0"?j++:j=0,l=e.charAt(++g);if(b(k)&&b(l)&&(m=c(d.substring(f),e.substring(g)))!=0)return m;if(k==0&&l==0)return i-j;if(k<l)return-1;if(k>l)return 1;++f,++g}}}());twttr.augmentString("twttr.util.natcompare",c),a(c)})}),provide("$lib/twitter-text-1.4.16.js",function(a){if(typeof window=="undefined"||window===null)window={twttr:{}};window.twttr==null&&(window.twttr={});if(typeof twttr=="undefined"||twttr===null)twttr={};(function(){function b(a,b){return b=b||"",typeof a!="string"&&(a.global&&b.indexOf("g")<0&&(b+="g"),a.ignoreCase&&b.indexOf("i")<0&&(b+="i"),a.multiline&&b.indexOf("m")<0&&(b+="m"),a=a.source),new RegExp(a.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.txt.regexen[b]||"";return typeof c!="string"&&(c=c.source),c}),b)}function c(a,b){return a.replace(/#\{(\w+)\}/g,function(a,c){return b[c]||""})}function d(a,b,c){var d=String.fromCharCode(b);return c!==b&&(d+="-"+String.fromCharCode(c)),a.push(d),a}function p(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function t(a,b,c){return c?!a||a.match(b)&&RegExp["$&"]===a:typeof a=="string"&&a.match(b)&&RegExp["$&"]===a}twttr.txt={},twttr.txt.regexen={};var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(b){return b&&b.replace(/[&"'><]/g,function(b){return a[b]})};var e=String.fromCharCode,f=[e(32),e(133),e(160),e(5760),e(6158),e(8232),e(8233),e(8239),e(8287),e(12288)];d(f,9,13),d(f,8192,8202);var g=[e(65534),e(65279),e(65535)];d(g,8234,8238),twttr.txt.regexen.spaces_group=b(f.join("")),twttr.txt.regexen.spaces=b("["+f.join("")+"]"),twttr.txt.regexen.invalid_chars_group=b(g.join("")),twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,twttr.txt.regexen.atSigns=/[@＠]/,twttr.txt.regexen.extractMentions=b(/(^|[^a-zA-Z0-9_!#$%&*@＠])(#{atSigns})([a-zA-Z0-9_]{1,20})/g),twttr.txt.regexen.extractReply=b(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/,twttr.txt.regexen.extractMentionsOrLists=b(/(^|[^a-zA-Z0-9_!#$%&*@＠])(#{atSigns})([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g);var i=[];d(i,1024,1279),d(i,1280,1319),d(i,11744,11775),d(i,42560,42655),d(i,1425,1469),d(i,1471,1471),d(i,1473,1474),d(i,1476,1477),d(i,1479,1479),d(i,1488,1514),d(i,1520,1522),d(i,64274,64296),d(i,64298,64310),d(i,64312,64316),d(i,64318,64318),d(i,64320,64321),d(i,64323,64324),d(i,64326,64335),d(i,1552,1562),d(i,1568,1631),d(i,1646,1747),d(i,1749,1756),d(i,1758,1768),d(i,1770,1775),d(i,1786,1788),d(i,1791,1791),d(i,1872,1919),d(i,2208,2208),d(i,2210,2220),d(i,2276,2302),d(i,64336,64433),d(i,64467,64829),d(i,64848,64911),d(i,64914,64967),d(i,65008,65019),d(i,65136,65140),d(i,65142,65276),d(i,8204,8204),d(i,3585,3642),d(i,3648,3662),d(i,4352,4607),d(i,12592,12677),d(i,43360,43391),d(i,44032,55215),d(i,55216,55295),d(i,65441,65500),d(i,12449,12538),d(i,12540,12542),d(i,65382,65439),d(i,65392,65392),d(i,65296,65305),d(i,65313,65338),d(i,65345,65370),d(i,12353,12438),d(i,12441,12446),d(i,13312,19903),d(i,19968,40959),d(i,173824,177983),d(i,177984,178207),d(i,194560,195103),d(i,12291,12291),d(i,12293,12293),d(i,12347,12347),twttr.txt.regexen.nonLatinHashtagChars=b(i.join(""));var j=[];d(j,192,214),d(j,216,246),d(j,248,255),d(j,256,591),d(j,595,596),d(j,598,599),d(j,601,601),d(j,603,603),d(j,611,611),d(j,616,616),d(j,623,623),d(j,626,626),d(j,649,649),d(j,651,651),d(j,699,699),d(j,7680,7935),twttr.txt.regexen.latinAccentChars=b(j.join("")),twttr.txt.regexen.endScreenNameMatch=b(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),twttr.txt.regexen.hashtagAlpha=b(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),twttr.txt.regexen.hashtagAlphaNumeric=b(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),twttr.txt.regexen.endHashtagMatch=/^(?:[#＃]|:\/\/)/,twttr.txt.regexen.hashtagBoundary=b(/(?:^|$|[^&\/a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),twttr.txt.regexen.autoLinkHashtags=b(/(#{hashtagBoundary})(#|＃)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_!#\$%&*@＠]|RT:?)([@＠]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g,twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/Ö\\\\\\\\|\(\|:\|\/\)|∑:\*\)|\( \| \))/g,twttr.txt.regexen.validPrecedingChars=b(/(?:[^-\/"'!=A-Za-z0-9_@＠$#＃\.#{invalid_chars_group}]|^)/),twttr.txt.regexen.invalidDomainChars=c("#{punct}#{spaces_group}#{invalid_chars_group}",twttr.txt.regexen),twttr.txt.regexen.validDomainChars=b(/[^#{invalidDomainChars}]/),twttr.txt.regexen.validSubdomain=b(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validDomainName=b(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validGTLD=b(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^a-zA-Z]|$))/),twttr.txt.regexen.validCCTLD=b(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^a-zA-Z]|$))/),twttr.txt.regexen.validPunycode=b(/(?:xn--[0-9a-z]+)/),twttr.txt.regexen.validDomain=b(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),twttr.txt.regexen.validAsciiDomain=b(/(?:(?:[a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),twttr.txt.regexen.invalidShortDomain=b(/^#{validDomainName}#{validCCTLD}$/),twttr.txt.regexen.validPortNumber=b(/[0-9]+/),twttr.txt.regexen.validGeneralUrlPathChars=b(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~|&#{latinAccentChars}]/i),twttr.txt.regexen.validUrlBalancedParens=b(/\(#{validGeneralUrlPathChars}+\)/i),twttr.txt.regexen.validUrlPathEndingChars=b(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),twttr.txt.regexen.validUrlPath=b("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,twttr.txt.regexen.extractUrl=b("((#{validPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),twttr.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,twttr.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,twttr.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,twttr.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,twttr.txt.regexen.validateUrlPchar=b("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),twttr.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,twttr.txt.regexen.validateUrlUserinfo=b("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),twttr.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,twttr.txt.regexen.validateUrlIpv4=b(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),twttr.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,twttr.txt.regexen.validateUrlIp=b("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),twttr.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomain=b(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),twttr.txt.regexen.validateUrlHost=b("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),twttr.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomain=b(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),twttr.txt.regexen.validateUrlUnicodeHost=b("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),twttr.txt.regexen.validateUrlPort=/[0-9]{1,5}/,twttr.txt.regexen.validateUrlUnicodeAuthority=b("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlAuthority=b("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlPath=b(/(\/#{validateUrlPchar}*)*/i),twttr.txt.regexen.validateUrlQuery=b(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlFragment=b(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlUnencoded=b("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var k="tweet-url",l="list-slug",m="username",n="hashtag",o=' rel="nofollow"';twttr.txt.autoLink=function(a,b){return b=p(b||{}),twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(a,b),b),b)},twttr.txt.autoLinkUsernamesOrLists=function(a,b){b=p(b||{}),b.urlClass=b.urlClass||k,b.listClass=b.listClass||l,b.usernameClass=b.usernameClass||m,b.usernameUrlBase=b.usernameUrlBase||"https://twitter.com/",b.listUrlBase=b.listUrlBase||"https://twitter.com/";if(!b.suppressNoFollow)var d=o;var e="",f=twttr.txt.splitTags(a);for(var g=0;g<f.length;g++){var i=f[g];g!==0&&(e+=g%2===0?">":"<"),g%4!==0?e+=i:e+=i.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(a,e,f,g,i,j,k){var l=k.slice(j+a.length),m={before:e,at:b.usernameIncludeSymbol?"":f,at_before_user:b.usernameIncludeSymbol?f:"",user:twttr.txt.htmlEscape(g),slashListname:twttr.txt.htmlEscape(i),extraHtml:d,preChunk:"",postChunk:""};for(var n in b)b.hasOwnProperty(n)&&(m[n]=b[n]);if(i&&!b.suppressLists){var o=m.chunk=c("#{user}#{slashListname}",m);return m.list=twttr.txt.htmlEscape(o.toLowerCase()),c('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',m)}return l&&l.match(twttr.txt.regexen.endScreenNameMatch)?a:(m.chunk=m.user,m.dataScreenName=b.suppressDataScreenName?"":c('data-screen-name="#{chunk}" ',m),c('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',m))})}return e},twttr.txt.autoLinkHashtags=function(a,b){b=p(b||{}),b.urlClass=b.urlClass||k,b.hashtagClass=b.hashtagClass||n,b.hashtagUrlBase=b.hashtagUrlBase||"https://twitter.com/#!/search?q=%23";if(!b.suppressNoFollow)var d=o;return a.replace(twttr.txt.regexen.autoLinkHashtags,function(a,e,f,g,i,j){var k=j.slice(i+a.length);if(k.match(twttr.txt.regexen.endHashtagMatch))return a;var l={before:e,hash:twttr.txt.htmlEscape(f),preText:"",text:twttr.txt.htmlEscape(g),postText:"",extraHtml:d};for(var m in b)b.hasOwnProperty(m)&&(l[m]=b[m]);return c('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{preText}#{text}#{postText}</a>',l)})},twttr.txt.autoLinkUrlsCustom=function(a,b){b=p(b||{}),b.suppressNoFollow||(b.rel="nofollow"),b.urlClass&&(b["class"]=b.urlClass,delete b.urlClass);var d,e,f;if(b.urlEntities){d={};for(e=0,f=b.urlEntities.length;e<f;e++)d[b.urlEntities[e].url]=b.urlEntities[e]}return delete b.suppressNoFollow,delete b.suppressDataScreenName,delete b.listClass,delete b.usernameClass,delete b.usernameUrlBase,delete b.listUrlBase,delete b.urlEntities,a.replace(twttr.txt.regexen.extractUrl,function(a,e,f,g,i,j,k,l,m){var n;if(i){var o="",p="";g.match(twttr.txt.regexen.validTcoUrl)&&(g=RegExp.lastMatch,p=RegExp.rightContext);var q=g,r=twttr.txt.htmlEscape(q);if(d&&d[g]&&d[g].display_url){var q=d[g].display_url,s=d[g].expanded_url;b.title||(b.title=s);var t=q.replace(/…/g,"");if(s.indexOf(t)!=-1){var u=s.indexOf(t),v={displayUrlSansEllipses:t,beforeDisplayUrl:s.substr(0,u),afterDisplayUrl:s.substr(u+t.length),precedingEllipsis:q.match(/^…/)?"…":"",followingEllipsis:q.match(/…$/)?"…":""};$.each(v,function(a,b){v[a]=twttr.txt.htmlEscape(b)}),v.invisible="style='font-size:0; line-height:0'",r=c("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",v)}}for(var w in b){var x=b[w].toString();o+=c(' #{k}="#{val}" ',{k:w,val:twttr.txt.htmlEscape(x)})}var y={before:f,htmlAttrs:o,url:twttr.txt.htmlEscape(g),linkText:r,after:p};return c('#{before}<a href="#{url}"#{htmlAttrs}>#{linkText}</a>#{after}',y)}return e})},twttr.txt.extractMentions=function(a){var b=[],c=twttr.txt.extractMentionsWithIndices(a);for(var d=0;d<c.length;d++){var e=c[d].screenName;b.push(e)}return b},twttr.txt.extractMentionsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.extractMentions,function(d,e,f,g,i,j){var k=j.slice(i+d.length);if(!k.match(twttr.txt.regexen.endScreenNameMatch)){var l=a.indexOf(f+g,c);c=l+g.length+1,b.push({screenName:g,indices:[l,c]})}}),b},twttr.txt.extractMentionsOrListsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.extractMentionsOrLists,function(d,e,f,g,i,j,k){var l=k.slice(j+d.length);if(!l.match(twttr.txt.regexen.endScreenNameMatch)){i=i||"";var m=a.indexOf(f+g+i,c);c=m+g.length+i.length+1,b.push({screenName:g,listSlug:i,indices:[m,c]})}}),b},twttr.txt.extractReplies=function(a){if(!a)return null;var b=a.match(twttr.txt.regexen.extractReply);return!b||RegExp.rightContext.match(twttr.txt.regexen.endScreenNameMatch)?null:b[1]},twttr.txt.extractUrls=function(a){var b=[],c=twttr.txt.extractUrlsWithIndices(a);for(var d=0;d<c.length;d++)b.push(c[d].url);return b},twttr.txt.extractUrlsWithIndices=function(a){if(!a)return[];var b=[];while(twttr.txt.regexen.extractUrl.exec(a)){var c=RegExp.$2,d=RegExp.$3,e=RegExp.$4,f=RegExp.$5,g=RegExp.$7,i=twttr.txt.regexen.extractUrl.lastIndex,j=i-d.length;if(!e){var k=null,l=!1,m=0;f.replace(twttr.txt.regexen.validAsciiDomain,function(a){var c=f.indexOf(a,m);m=c+a.length,k={url:a,indices:[j+c,j+m]},l=a.match(twttr.txt.regexen.invalidShortDomain),l||b.push(k)});if(k==null)continue;g&&(l&&b.push(k),k.url=d.replace(f,k.url),k.indices[1]=i)}else d.match(twttr.txt.regexen.validTcoUrl)&&(d=RegExp.lastMatch,i=j+d.length),b.push({url:d,indices:[j,i]})}return b},twttr.txt.extractHashtags=function(a){var b=[],c=twttr.txt.extractHashtagsWithIndices(a);for(var d=0;d<c.length;d++)b.push(c[d].hashtag);return b},twttr.txt.extractHashtagsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.autoLinkHashtags,function(d,e,f,g,i,j){var k=j.slice(i+d.length);if(k.match(twttr.txt.regexen.endHashtagMatch))return;var l=a.indexOf(f+g,c);c=l+g.length+1,b.push({hashtag:g,indices:[l,c]})}),b},twttr.txt.modifyIndicesFromUnicodeToUTF16=function(a,b){twttr.txt.convertUnicodeIndices(a,b,!1)},twttr.txt.modifyIndicesFromUTF16ToUnicode=function(a,b){twttr.txt.convertUnicodeIndices(a,b,!0)},twttr.txt.convertUnicodeIndices=function(a,b,c){if(b.length==0)return;var d=0,e=0;b.sort(function(a,b){return a.indices[0]-b.indices[0]});var f=0,g=b[0];while(d<a.length){if(g.indices[0]==(c?d:e)){var i=g.indices[1]-g.indices[0];g.indices[0]=c?e:d,g.indices[1]=g.indices[0]+i,f++;if(f==b.length)break;g=b[f]}var j=a.charCodeAt(d);55296<=j&&j<=56319&&d<a.length-1&&(j=a.charCodeAt(d+1),56320<=j&&j<=57343&&d++),e++,d++}},twttr.txt.splitTags=function(a){var b=a.split("<"),c,d=[],e;for(var f=0;f<b.length;f+=1){e=b[f];if(!e)d.push("");else{c=e.split(">");for(var g=0;g<c.length;g+=1)d.push(c[g])}}return d},twttr.txt.hitHighlight=function(a,b,c){var d="em";b=b||[],c=c||{};if(b.length===0)return a;var e=c.tag||d,f=["<"+e+">","</"+e+">"],g=twttr.txt.splitTags(a),i,j,k,l="",m=0,n=g[0],o=0,p=0,q=!1,r=n,s=[],t,u,v,w,x;for(j=0;j<b.length;j+=1)for(k=0;k<b[j].length;k+=1)s.push(b[j][k]);for(t=0;t<s.length;t+=1){u=s[t],v=f[t%2],w=!1;while(n!=null&&u>=o+n.length)l+=r.slice(p),q&&u===o+r.length&&(l+=v,w=!0),g[m+1]&&(l+="<"+g[m+1]+">"),o+=r.length,p=0,m+=2,n=g[m],r=n,q=!1;!w&&n!=null?(x=u-o,l+=r.slice(p,x)+v,p=x,t%2===0?q=!0:q=!1):w||(w=!0,l+=v)}if(n!=null){p<r.length&&(l+=r.slice(p));for(t=m+1;t<g.length;t+=1)l+=t%2===0?g[t]:"<"+g[t]+">"}return l};var q=140,r=[e(65534),e(65279),e(65535),e(8234),e(8235),e(8236),e(8237),e(8238)];twttr.txt.isInvalidTweet=function(a){if(!a)return"empty";if(a.length>q)return"too_long";for(var b=0;b<r.length;b++)if(a.indexOf(r[b])>=0)return"invalid_characters";return!1},twttr.txt.isValidTweetText=function(a){return!twttr.txt.isInvalidTweet(a)},twttr.txt.isValidUsername=function(a){if(!a)return!1;var b=twttr.txt.extractMentions(a);return b.length===1&&b[0]===a.slice(1)};var s=b(/^#{autoLinkUsernamesOrLists}$/);twttr.txt.isValidList=function(a){var b=a.match(s);return!!b&&b[1]==""&&!!b[4]},twttr.txt.isValidHashtag=function(a){if(!a)return!1;var b=twttr.txt.extractHashtags(a);return b.length===1&&b[0]===a.slice(1)},twttr.txt.isValidUrl=function(a,b,c){b==null&&(b=!0),c==null&&(c=!0);if(!a)return!1;var d=a.match(twttr.txt.regexen.validateUrlUnencoded);if(!d||d[0]!==a)return!1;var e=d[1],f=d[2],g=d[3],i=d[4],j=d[5];return(!c||t(e,twttr.txt.regexen.validateUrlScheme)&&e.match(/^https?$/i))&&t(g,twttr.txt.regexen.validateUrlPath)&&t(i,twttr.txt.regexen.validateUrlQuery,!0)&&t(j,twttr.txt.regexen.validateUrlFragment,!0)?b&&t(f,twttr.txt.regexen.validateUrlUnicodeAuthority)||!b&&t(f,twttr.txt.regexen.validateUrlAuthority):!1},typeof module!="undefined"&&module.exports&&(module.exports=twttr.txt)})(),a()}),provide("setup",function(a){using("util").as(function(b){twttr.is.nil($.cookie("js"))&&$.cookie("js",1,{expires:30,path:"/"}),twttr.setup=function(a){function c(){var a=["webkit","mozilla","opera","msie"];for(var b=0;b<a.length;b++)if($.browser[a[b]])return a[b]}$("body").addClass(c()),twttr.hoversInCss||$(".js-hover").live("mouseenter mouseleave",function(a){$(this).toggleClass("hover",a.type=="mouseenter")}),twttr.currentUser?twttr.caches.User=new twttr.cache.local.User(twttr.currentUser.screenName):twttr.caches.User=new twttr.cache.local.User($.cookie("guest_id")),twttr.app.init(a),twttr.$win=$(window),twttr.$doc=$(document),twttr.provide("twttr.$elements",{page:$("#page-outer")}),twttr.windowHeight=twttr.$win.height(),twttr["interface"].setup(),twttr.ui.loadBar(),twttr.search.setup(),twttr.API.globalEvents.bind("rate_limited",function(a){twttr.errors.showErrorFromCode(twttr.constants.errorCodes.dailyLimit)}),twttr.API.globalEvents.bind("unknown_error",function(a){twttr.errors.showErrorFromResponse({})}),using(twttr.bundleMore,function(){var a=$("div.welcome-banner-outer");if(a.length>0){var b=twttr.banners.welcomeToPhoenix();b.bind("closed",function(){$.cookie("show_phx_welcome_"+twttr.currentUser.id,null)}),a.remove(),b.insert()}var c=$("div.became-user-banner-outer");c.length>0&&(c.remove(),twttr.banners.becameUser().insert());var d=$("div.top-bar-inside,div.banner div.banner-inside");twttr.isT1||twttr.$win.scroll(function(){d.css("left",-twttr.$win.scrollLeft())})}),twttr.router.bind("routed",function(a,b){twttr.$win.scrollTop(0)}),twttr.router.bind("urlChanged",function(a,b){twttr.trackPageView(b.name)}),twttr.router.bind("routeNotFound",function(){twttr.app.switchToPage("404").send("notFound")}),twttr.router.startRouting(),twttr.decider.isInfiniteScroll()&&b.util.lazyBind(window,"scroll",function(a){if(twttr.widget&&twttr.widget.Dialog&&twttr.widget.Dialog.currentModal)return;var b=twttr.app.currentPage();b.send("scrollEnd",[twttr.$win.scrollTop()]),Math.abs(twttr.$doc.scrollTop()+twttr.windowHeight-twttr.$doc.height())<500&&b.send("getStreamManager",function(a){a&&!a.noInfiniteScroll&&a.getMoreOldItems(function(a){_scribble("stream-scrolled",{page:a._page,stream:a._cacheKey,focused_tweet_id:a.focusedItemId||""})})})}),twttr.isT1||b.util.lazyBind(window,"scroll",function(a){twttr.app.currentPage().send("repositionDetailsPane")},100),b.util.lazyBind(window,"resize",function(a){var b=twttr.app.currentPage();twttr.windowHeight=twttr.$win.height(),b&&b.send("resizeDetailsPane"),twttr.windowHeight=twttr.$win.height()}),twttr.isT1&&using("idleDetector",function(a){a({wait:3e5})}),function(){function c(){var a=$(this),c=parseInt(a.attr("data-time"),10);if(b-c>864e5)a.removeClass("_timestamp").addClass("_old-timestamp");else{var d=twttr.helpers.timeAgo(c,JSON.parse(a.attr("data-long-form")||"false"),JSON.parse(a.attr("data-include-sec")||"false"));d!==a.text()&&a.text(d)}}function d(){var e=twttr.app.currentPage(),f=twttr.isT1&&twttr.at("widget.Dialog.currentModal",twttr);b=+(new Date),e&&e.$find('span._timestamp[data-time$="'+a+'000"]').each(c),f&&f.$find('span._timestamp[data-time$="'+a+'000"]').each(c);var g=+(new Date)-b;a++,a%=10,setTimeout(d,2e3)}var a=0,b;setTimeout(d,2e3)}(),using([twttr.bundleMore,"components/Autocomplete"],function(){twttr.API.User.bind("follow acceptFollow",function(a,b){twttr.currentUser.sync("friendsCount",++twttr.currentUser.friendsCount),twttr.components.Autocomplete.getAutocompletedUsers(function(){twttr.components.Autocomplete.addToList([b.id,b.screenName,b.name,b.profileImageUrl])}),$(document).trigger("currentUserUpdated")})}),twttr.API.User.bind("unfollow",function(a,b){twttr.currentUser.sync("friendsCount",Math.max(--twttr.currentUser.friendsCount,0)),$(document).trigger("currentUserUpdated")});var d=$("#loading_indicator_container");d.fadeOut("fast",function(){d.remove(),document.body.style.overflow=""})},twttr.showError=function(a){return twttr.openMessageDrawer(a,"error")},twttr.showMessage=function(a,b){var c=twttr.openMessageDrawer(a,"message",{close_button:!!b});c&&!b&&setTimeout(function(){c.$dom.css("opacity",1).animate({opacity:0},1e3,function(){c.$dom.remove(),twttr.views.MessageDrawer.isOpen=!1})},2e3)},function(){var a={close_button:!0};twttr.openMessageDrawer=function(b,c,d){d=twttr.merge({},a,d||{}),d.text=b,d.type=c,twttr.views.MessageDrawer.close();var e=new twttr.views.MessageDrawer(d);return e.render("#message-drawer","append"),twttr.views.MessageDrawer.isOpen=!0,e}}(),twttr.messageNotification=function(a){var b=new twttr.views.MessageNotification({message:a.attributes}),c=a.senderScreenName,d=a.id;$("#message-notifications").append(b.$html());var e=$("#message-notifications [data-message-id="+d+"].notification");e.bind("click",function(){var a=$(this);a.unbind(),a.find(".message-notification-reply-box").show();var b=new twttr.Editor("#message-notifications [data-message-id="+d+"].notification  .message-notification-reply-editor",function(){var a=this;this.focus(),this.height(36),$("#message-notifications [data-message-id="+d+"].notification .message-notification-reply-button").click(function(){e.html("Sent!"),setTimeout(function(){e.remove()},2e3),twttr.API.DirectMessage.send(c,a.content())})})})},twttr.provide("twttr.ui",{toggleSpinner:function(a,b){if(b)var c=$('<div class="loading-spinner"><img src="/phoenix/img/loader.gif" alt="'+_("Loading")+'"/></div>').appendTo(a);else $(a).find("div.loading-spinner").remove()},loadBar:function(){var a=$("#global-actions");a.find("a").not(".js-dropdown-toggle").each(function(){$(this).attr("href",twttr.router.lookupAndNormalizeRoute($(this).attr("href")))}),twttr.loggedIn&&a.delegate("a","mousedown",function(a){var b=$(this);scribble("globalnav",{input:"click",name:b.text(),href:b.attr("href")})})}}),a(twttr.setup)})}),provide("search",function(a){using().as(function(b){twttr.search={setup:function(){var a=this;this.$searchQuery=$("#search-query"),Modernizr.input.placeholder||(this.$searchQuery.bind({focus:function(){a.hidePlaceholder($(this))},blur:function(){a.showPlaceholder($(this))}}),this.$searchQuery[0].hasFocus?this.$searchQuery.addClass("focused"):this.$searchQuery.blur()),twttr.isT1?(twttr.app.bind("switchToPage",function(b,c){a.updatePlaceholder(c)}),this.attachTypeahead(),this.registerSearchInputEvents(),twttr.loggedIn&&this.setupSavedSearches()):this.setupFocusP1()},setupSavedSearches:function(){if(!twttr.loggedIn)return;var a=this;this.updateSavedSearches(),twttr.API.SavedSearch.bind("create delete",function(){a.updateSavedSearches()})},updateSavedSearches:function(){var a=this;twttr.currentUser.savedSearches(function(b){b.length()>0?(a.savedSearches=b,$(".global-nav .js-search-form").addClass("has-saved-searches")):$(".global-nav .js-search-form").removeClass("has-saved-searches")})},updatePlaceholder:function(a){switch(a){case"connect":this.setPlaceholder(_("Enter an @name or full name"));break;case"discover":this.setPlaceholder(_("Enter a #hashtag or keyword"));break;default:this.setPlaceholder()}},setPlaceholder:function(a){a=a||_("Search"),this.$searchQuery.attr("placeholder",a),!Modernizr.input.placeholder&&this.$searchQuery.data("placeholding")&&this.$searchQuery.val(this.$searchQuery.attr("placeholder")),$(document).trigger("searchPlaceholderUpdate",[a]),this.$searchQuery.blur()},hidePlaceholder:function(a){a.data("placeholding")&&(a.val(""),a.data("placeholding",!1))},showPlaceholder:function(a){!a.data("placeholding")&&a.val()===""&&(a.data("placeholding",!0),a.val(a.attr("placeholder")))},attachTypeahead:function(){var a=this;using(twttr.bundleMore,function(){a.$typeahead=new twttr.components.GlobalNavTypeahead})},queryWasEntered:function(){return this.$searchQuery.val()!==this.$searchQuery.attr("placeholder")&&this.$searchQuery.val()!==""},setupFocusP1:function(){var a=this;this.$searchQuery.bind({focus:function(){$(this).addClass("focused").select().closest("form").addClass("focused")},blur:function(){$(this).removeClass("focused").closest("form").removeClass("focused")}})},clear:function(){this.focusQuery("").blur()},isSavedSearch:function(a){if(!this.savedSearches)return!1;var b=this.savedSearches.filter(function(b){return b.query===a});return b.length()?b.first():!1},setLastQuerySource:function(a){twttr.app.caches.searchQuerySource.set("source",a,6e4)},getLastQuerySource:function(){var a=twttr.app.caches.searchQuerySource.get("source");return a||twttr.search.searchQuerySource.UNKNOWN},registerSearchInputEvents:function(){var a=this;$("span.js-search-action").bind({mouseenter:function(){a.mouseOverMagnifying=!0},mouseleave:function(){a.mouseOverMagnifying=!1},click:function(){!a.$searchQuery.data("placeholding")&&a.$searchQuery.val()?(twttr.search.setLastQuerySource(twttr.search.searchQuerySource.TYPED_QUERY),twttr.search.doSearch(),a.$searchQuery.blur(),twttr.widget.Dialog.trigger("close")):a.$searchQuery.focus()}}),this.$searchQuery.bind("focus",function(b){a.$searchQuery.addClass("focus"),a.$searchQuery.siblings("#search-query-hint").addClass("focus"),a.$searchQuery.parent(".js-search-form").addClass("focus")}),this.$searchQuery.bind("blur",function(b){!a.mouseOverMagnifying&&!a.mouseIsOverTypeaheadDropdown()&&(a.$searchQuery.removeClass("focus"),a.$searchQuery.siblings("#search-query-hint").removeClass("focus"),a.$searchQuery.parent(".js-search-form").removeClass("focus"))})},mouseIsOverTypeaheadDropdown:function(){return this.$typeahead&&this.$typeahead.mouseOverDropDown},focusQuery:function(a){return!this.$searchQuery[0].hasFocus&&!twttr.isT1&&this.$searchQuery.focus(),twttr.is.def(a)&&this.$searchQuery.val(a),this.$searchQuery},doSearch:function(a){var b=this.focusQuery(a).val();if(b){trackClient({section:"top_nav",component:"searchbox",action:"search"},{query:b});var c=twttr.router.getCurrentRoute().name,d=twttr.isT1&&(twttr.app.currentPageName()=="Connect"||c=="userSearch"),e=twttr.isT1&&c=="searchTimeline",f=twttr.isT1&&c=="searchRealtime";d?twttr.router.routeTo(twttr.router.userSearchPath({query:b})):e?twttr.router.routeTo(twttr.router.searchTimelinePath({query:b})):f?twttr.router.routeTo(twttr.router.searchRealtimePath({query:b})):twttr.router.routeTo(twttr.router.searchResultsPath({query:b}))}else this.$searchQuery.blur()},latestQuery:"",formifyLatestQuery:function(a){var b=jQuery.trim(this.latestQuery).replace(/\s+/," ");if(b)if(a.is(".advanced-search form")){var c,d=/(|#|\-|@|\w+:|OR |AND )?\"([^\"]+)\"/i,e=function(b,c){var d={"#":"tag","-":"nots","@":"ref","to:":"to","from:":"from","near:":"near",or:"ors",and:"ands"},e=b?d[jQuery.trim(b).toLowerCase()]:"phrase";if(e){var f=a.find("input[name="+e+"]"),g=f.val();f.val((g?g+" ":"")+c)}};while(c=d.exec(b))c&&c[2]&&e(c[1],c[2]),b=b.replace(c[0],"");twttr.each(b.split(" "),function(b,d,f){switch(b.toLowerCase()){case":)":case":(":case"?":a.find('input[value="'+b+'"]').attr("checked","checked");break;case"include:retweets":a.find("input[name=include]").attr("checked","checked");break;case"":case"or":case"and":break;default:c=/^(#|\-|@|to:|from:|near:)(.*)/i.exec(b);if(c&&c[2]){e(c[1],c[2]);break}c=/^within:(\d+)(mi|km)*/i.exec(b);if(c){var g=a.find("select[name=within]");g.find("option[value="+c[1]+"]")&&g.val(c[1]),c[2].match(/km/i)&&a.find("input[name=units]").each(function(){var a=$(this);a.attr("checked",a.val()=="km"?"checked":"")});break}c=/^lang:(\w+)/i.exec(b);if(c){var i=a.find("select[name=lang]");i.find("option[value="+c[1]+"]")&&i.val(c[1]);break}d&&f[d-1].match(/OR/i)?e("or",b):e("and",b)}})}else a.find("input[name=q]").val(b||"")},serializeAdvancedForm:function(a){var b=a.serializeArray(),c=[];for(var d in b){var e=b[d],f=jQuery.trim(e.value);if(!f)continue;switch(e.name){case"attd":case"ands":c.push(f);break;case"ors":c.push(f.split(" ").join(" OR "));break;case"phrase":c.push('"'+f+'"');break;case"nots":c.push("-"+f.split(" ").join(" -"));break;case"tag":c.push("#"+f.replace(/#+/g,"").split(" ").join(" OR #"));break;case"from":c.push("from:"+f.replace(/@+/g,"").split(" ").join(" OR from:"));break;case"to":c.push("to:"+f.replace(/@+/g,"").split(" ").join(" OR to:"));break;case"ref":c.push("@"+f.replace(/@+/g,"").split(" ").join(" OR @"));break;case"near":c.push('near:"'+f+'" within:'+a.find("select[name=within]").val()+a.find("input:radio[name=units]:checked").val());break;case"include":c.push("include:retweets");break;case"lang":f!=="all"&&c.push("lang:"+f)}}return c.join(" ")},searchQuerySource:{UNKNOWN:"unknown",TYPED_QUERY:"typed_query",HASHTAG:"hashtag_click",TREND:"trend_click",SAVED_SEARCH:"saved_search_click",TYPEAHEAD:"typeahead_click",SPELLING_CORRECTION:"spelling_correction_click",RELATED_QUERY:"related_query_click"}},a(twttr.search)})}),provide("helpers",function(a){using("_","util","constants","errors").as(function(b,_){twttr.helpers={timeStrings:function(){if(twttr.at("QUnit")||!twttr.helpers.timeStrings.memo)twttr.helpers.timeStrings.memo={words:{longForm:{singular:{now:_("now"),seconds:_("{{one}} second ago"),minutes:_("{{one}} minute ago"),hours:_("{{one}} hour ago"),days:_("{{one}} day ago")},plural:{now:_("now"),seconds:_("{{plural_number}} seconds ago"),minutes:_("{{plural_number}} minutes ago"),hours:_("{{plural_number}} hours ago"),days:_("{{plural_number}} days ago")}},shortForm:{allCounts:{now:_("now"),seconds:_("{{number}}s"),minutes:_("{{number}}m"),hours:_("{{number}}h"),days:_("{{number}}d")}}},dates:{months:[_("Jan"),_("Feb"),_("Mar"),_("Apr"),_("May"),_("Jun"),_("Jul"),_("Aug"),_("Sep"),_("Oct"),_("Nov"),_("Dec")],dates:[_("1st"),_("2nd"),_("3rd"),_("4th"),_("5th"),_("6th"),_("7th"),_("8th"),_("9th"),_("10th"),_("11th"),_("12th"),_("13th"),_("14th"),_("15th"),_("16th"),_("17th"),_("18th"),_("19th"),_("20th"),_("21st"),_("22nd"),_("23rd"),_("24th"),_("25th"),_("26th"),_("27th"),_("28th"),_("29th"),_("30th"),_("31st")]}};return twttr.helpers.timeStrings.memo},resolveHexColor:function(a){function b(a){return parseInt((a+a).slice(0,2),16)}if(!a||!a.match(/^#?([0-9A-F]{6}|[0-9A-F]{3})$/i)||!RegExp.$1)return;return RegExp.$1.match(/(..?)(..?)(..?)/),[b(RegExp.$1),b(RegExp.$2),b(RegExp.$3)]},hexToRGBA:function(a,b){var c=this.resolveHexColor(a);if(!c)return;return c.push(b||"1"),"rgba("+c.join(",")+")"},blendHexColor:function(a,b,c){var d=this.resolveHexColor(a),e=this.resolveHexColor(b),f=1-c;if(!d||!e)return;return twttr.map(d,function(a,b){var d=e[b],g=Math.floor(a*c+d*f);return(g+256).toString(16).slice(1)}).join("").toUpperCase()},sanitizeCssColor:function(a){if(a&&a.match(/^[0-9a-f]{3,6}$/i))return a},parseDateString:function(a){var b=new Date(a);return $.browser.msie&&a&&(b=new Date(Date.parse(a.replace(/( \+)/," UTC$1")))),+b},prettyTime:function(a,b){var c=twttr.helpers.timeStrings(),d=new Date(a),e={year4:d.getFullYear().toString(),year:d.getFullYear().toString().slice(2),month:c.dates.months[d.getMonth()],day:d.getDate(),hours24:d.getHours(),hours12:d.getHours()%12||12,minutes:d.getMinutes().toString().replace(/^(\d)$/,"0$1"),amPm:d.getHours()<12?_("AM"):_("PM"),date:c.dates.dates[d.getDate()-1]};return twttr.isT1&&!b?_("{{hours12}}:{{minutes}} {{amPm}} - {{day}} {{month}} {{year}}",e):_("{{hours12}}:{{minutes}} {{amPm}}, {{month}} {{date}}",e)},timeAgo:function(a,b,c,d){twttr.decider.isExpando()&&!d&&(b=!1);var e=twttr.helpers.timeStrings(),f=e.words[b?"longForm":"shortForm"],g=new Date,i=new Date(a),j=g-i,k=1e3,l=k*60,m=l*60,n=m*24,o=n*7,p,q,r;return isNaN(j)||j<0?"":(j<k*3?(p="",q="now",c=!1):j<l?(p=Math.floor(j/k),q="seconds",c=!1):j<m?(p=Math.floor(j/l),q="minutes",c=!1):j<n?(p=Math.floor(j/m),q="hours",c=!1):j<n*365?r=_("{{date}} {{month}}",{date:i.getDate(),month:e.dates.months[i.getMonth()]}):r=_("{{date}} {{month}} {{year}}",{date:i.getDate(),month:e.dates.months[i.getMonth()],year:i.getFullYear().toString().slice(2),year4:i.getFullYear().toString()}),r||(f.allCounts?f=f.allCounts:p===1?f=f.singular:f=f.plural,r=Mustache.to_html(f[q],{one:p,number:p,plural_number:p})),c&&(r+=" "+_("at {{time}}",{time:i.toTimeString().split(":").slice(0,2).join(":")})),r)},timeAgoRounded:function(a){var b=new Date,c=new Date(a),d=b-c,e=1e3,f=e*60,g=f*60,i=g*24,j=i*7,k=i*30,l=i*365,m;return isNaN(d)||d<0?"":(d<=f*5?m=_("5 minutes"):d<=f*15?m=_("15 minutes"):d<=f*30?m=_("30 minutes"):d<=f*45?m=_("45 minutes"):d<=g?m=_("1 hour"):d<=g*12?m=Math.floor(d/g)+_(" hours"):d<g*24?m=_("over 12 hours"):d<=i*2?m=_("yesterday"):d<=i*14?m=Math.floor(d/i)+_(" days"):d<k?m=_("over 2 weeks"):d<k*2?m=_("over 1 month"):d<k*3?m=_("over 2 months"):d<l?m=_("over 6 months"):d<l*2?m=_("over 1 year"):m=_("over 2 years"),m)},transformProfileImageUrl:function(a,b){if(!twttr.is.string(a))return a;!b&&a.match(/default_profile_\d_normal.png$/)&&(b="bigger");var c=/_normal(\..*)?$/i;return b?a.replace(c,"_"+b+"$1"):a.replace(c,"$1")},isCurrentUser:function(a){return twttr.currentUser?twttr.is.string(a)?twttr.currentUser.screenName===a:twttr.is.object(a)?a.id===twttr.currentUser.id:twttr.currentUser.id===a:!1},isProfileUser:function(){return twttr.profileUser&&twttr.helpers.isCurrentUser(twttr.profileUser)},userNoobLevel:function(a){var c=parseInt(twttr.Router.getCurrentQueryStringParams().nooblevel,10);if(!isNaN(c))return twttr.caches.User.set("noobLevel",c),c;var d=twttr.caches.User.get("noobLevel");if(d<0)return d;var e=b.constants.noob;return a=a||twttr.currentUser,a&&twttr.decider.isAvailable("flock")?a.statusesCount==0?a.followersCount>49?e.notNoob:a.friendsCount===0?a.followersCount?e.invited:e.total:a.followersCount||a.friendsCount>9?e.silent:e.friendless:a.friendsCount>9||a.friendsCount===0&&a.followersCount>49?e.notNoob:a.friendsCount===0?a.followersCount?e.popular:e.talking:a.followersCount?e.struggling:e.lonely:e.notNoob},canViewUser:function(a){return!a["protected"]||a.following||this.isCurrentUser(a)||twttr.is.def(twttr.isAdmin)&&twttr.isAdmin},truncate:function(a,b,c){c=c||"&hellip;";var d=$("<div/>").html(c).text().length;return a.length>b&&(a=a.slice(0,b-d)+c),a},displayUrl:function(){var a=/^www\./;return function(c,d){d=d||16;var e=new b.util.Location(c),f=e.hostname.replace(a,"");e.port!=80&&e.port!=443&&(f+=":"+e.port);var g=e.pathname+e.search+e.hash;return f+twttr.helpers.truncate(g,d,"…")}}(),getUserId:function(a){var b=parseInt(a.attr("data-user-id"),10);return isNaN(b)?0:b},getUserIdentifier:function(a){var b=twttr.helpers.getUserId(a),c=a.attr("data-screen-name");return!b&&!c&&a.attr("hash")&&(c=twttr.router.findMatchingRoute(a.attr("hash")).args.screen_name),b||c},parseEmailAddress:function(a){var c=b.constants.regexps.email.exec(a.replace(/^\s+|\s+$/g,""));return c?c[0]:null},extractEmailAddresses:function(a){return a.indexOf("<")==-1?twttr.filter(twttr.map(a.split(","),twttr.helpers.parseEmailAddress),function(a){return!twttr.is.nil(a)}):[a]},handlePopupLinks:function(a){a.find(".js-popup").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(this);window.open(b.attr("href"),b.attr("name")||"twttr_popup",b.attr("data-popup"))})},addFormEvents:function(a,c,d){d=d||{},a.bind("submit",function(b){if(a.hasClass("submitting")){b.preventDefault();return}if(c){b.preventDefault();var d={};$.each($(this).serializeArray(),function(){d[this.name]?(d[this.name].push||(d[this.name]=[d[this.name]]),d[this.name].push(this.value||"")):d[this.name]=this.value||""}),c.call(this,b,d)}}).bind("keydown keypress",function(c){if(c.ctrlKey||c.which==b.constants.keyCodes.escape)return;c.stopPropagation(),c.which==b.constants.keyCodes.enter&&!$(c.target).is('textarea, [autocomplete="on"]')&&(c.preventDefault(),c.target.blur(),a.submit())}),a.find((d.submitSelector||"div.button.submit")+", .js-submit").attr("tabindex",0).click(function(){a.submit()}),a.find("input:text, textarea").bind("keydown",function(a){if(a.which==b.constants.keyCodes.escape){this.blur();return}}).each(function(){var a=$(this),b=a.attr("placeholder");if(b&&!Modernizr.input.placeholder){var c=!1;a.focus(function(){c&&(a.val(""),c=!1),a.addClass("js-focused").removeClass("js-placeholded placeholded").select()}).blur(function(){!c&&a.val()===""&&(c=!0,a.val(b),a.addClass("js-placeholded placeholded")),a.removeClass("js-focused")}),setTimeout(function(){a.blur()},0)}})},addHoldingInputEvents:function(a){a.find("div.holding, div.placeholding-input").each(function(){var a=$(this),b=a.find("input");a.find("span").click(function(){b.focus()}),b.blur(function(){b.val().length||a.removeClass("hasome")}),b.keydown(function(c){setTimeout(function(){c&&c.keyCode==8||b.val().length?a.addClass("hasome"):a.removeClass("hasome")},0)})}),twttr.helpers._holdingInterval||(twttr.helpers._holdingInterval=window.setInterval(function(){$("form div.holding, form div.placeholding-input").each(function(){var a=$(this),b=a.find("input");b.val()&&b.val().length&&a.addClass("hasome")})},1111))},chainAnimate:function(a,b,c,d){var e=0;(function(){var f=c[e++];if(twttr.is.def(f)){var g={};g[b]=f,a.animate(g,d||100,arguments.callee)}})()},isModifier:function(a){return!!(a.shiftKey||a.metaKey||a.ctrlKey||a.altKey)},isTextOverflowEllipsisSupported:function(){return"textOverflow"in $("<div>")[0].style},ellipsify:function(a,b,c,d,e){if(c){$(a).ellipsis(d,e);return}return twttr.helpers.isTextOverflowEllipsisSupported()?!1:($(a).each(function(){var a=$(this),c;if(a.hasClass("ellipsify-container")){if(!b)return!0;c=a.find("span.ellip-content"),c.length&&a.html(c.html())}a.addClass("ellipsify-container").wrapInner($("<span>").addClass("ellip-content")),c=a.find("span.ellip-content");if(c.width()>a.width()){var d=$('<div class="ellip">&hellip;</div>');a.append(d),c.width(a.width()-d.width()).css("margin-right",d.width())}}),!0)},showErrorFromResponse:function(a,b){return twttr.errors.showErrorFromResponse(a,b)}},a(twttr.helpers)})}),provide("errors",function(a){using("constants").as(function(b){function c(a,b,c){return{regex:a,errorCode:b,requestRegex:c}}var d=[c(/not following/,b.constants.errorCodes.notFollowing),c(/duplicate|already said that/,b.constants.errorCodes.duplicateTweet),c(/malware/,b.constants.errorCodes.malwareTweet),c(/daily|only send so many/,b.constants.errorCodes.dailyLimit),c(/140/,b.constants.errorCodes.tooLongTweet),c(/(this account|User) has been suspended/,b.constants.errorCodes.otherUserSuspended),c(/suspend/,b.constants.errorCodes.suspended),c(/photo/,b.constants.errorCodes.photoTimeout),c(/unable to follow more people/,b.constants.errorCodes.followingLimitReached),c(/blocked from following/,b.constants.errorCodes.blockedFromFollowing),c(/list's name.+25 characters/,b.constants.errorCodes.tooLongListName),c(/list's description.+100 characters/,b.constants.errorCodes.tooLongListDescription),c(/list's name.+start with a letter/,b.constants.errorCodes.noLetterStartListName),c(/Not found/,b.constants.errorCodes.tweetNotFound,/statuses\/retweet/),c(/No status found/,b.constants.errorCodes.tweetNotFound),c(/Not found/,b.constants.errorCodes.userNotFound)];twttr.errors={errorCodeFromResponse:function(a){var c,e,f,g=a.response&&(a.response.error||a.response.errors&&a.response.errors[0].message)||null;if(g)for(c=0,e=d.length;c<e;c++){f=d[c];if(f.regex.test(g)&&(!f.requestRegex||f.requestRegex.test(a.response.request)))return f.errorCode}return a.status===403?b.constants.errorCodes.permission:b.constants.errorCodes.whale},showErrorFromResponse:function(a,b){var c=twttr.errors.errorCodeFromResponse(a);return twttr.errors.showErrorFromCode(c,b)},showErrorFromCode:function(a,b){var c=twttr.errors.getViewForErrorCode(a,b);return twttr.showError(c.html()),a},getViewForErrorCode:function(a,b){var c=twttr.views[a]||twttr.views.DefaultErrorMessage;if(!b||!/^(dm|(re)?tweet|(un)?follow|(un)?block|report|delete|(un)?favorite)$/.test(b))b="generic";var d={};return d["is_"+b]=!0,new c(d)}},a(twttr.errors)})}),provide("viewHelpers",function(a){using("_").as(function(b,_){twttr.viewHelpers={addRelatedTweetsLogging:function(a,b,c){b.subcomponent="related-tweets";var d;if(a&&(d=a.closest(".related-tweets")).length){var e=a.attr("data-tweet-id");b.related_tweet_info={impression_id:d.attr("data-related-impression-id"),group_name:d.attr("data-related-group-name"),annotations:d.attr("data-related-annotations"),tweet_id:e?e:"0"};var f=d.attr("data-ab-data-bucket");if(f){var g={bucket:f,experiment_key:d.attr("data-ab-data-experiment-key"),version:d.attr("data-ab-data-version")};scribble(c,g,"www_ab_testing")}}},addActivityItemLogging:function(a,b,c,d){b.streamType="activity-stream",b.activityId=a.closest(".stream-item").attr("data-item-id")},addExtraLogging:function(a,b,c){var d=a.closest(".stream-tweet"),e=twttr.app.currentPage();twttr.app.isOnPage("search")&&d.is(".stream .stream-tweet")?using([twttr.bundleMore,"components/pages/Search"],function(){twttr.components.pages.Search.addSearchClickLogging(d,b)}):d.is("div.details-pane .related-tweets .stream-tweet")?twttr.viewHelpers.addRelatedTweetsLogging(d,b,c):e.send("getStreamManager",function(a){if(a){var e=a.getCurrent();using([twttr.bundleMore,"streams/ActivityStream"],function(){e instanceof twttr.streams.ActivityStream&&twttr.viewHelpers.addActivityItemLogging(d,b,c,e)})}})}},a(twttr.viewHelpers)})}),provide("components/Base",function(a){using("util").as(function(b){twttr.provide("twttr.components"),twttr.klass.component=function(a,b){return twttr.klass(a,b).subclassOf(twttr.components.Base)},twttr.deprecateAccess(twttr.klass,"component",{replacement:"twttr.klass(...).subclassOf(twttr.components.Base)",now:1313800194870,daysRemaining:30}),$.fn.component=function(){var a=$(this),b=a.parent();return a.data("component")||b.length&&b.component()},twttr.klass("twttr.components.Base",function(){var a=!this.constructor._deciderKey||twttr.decider.isAvailable(this.constructor._deciderKey);this.constructor._baseView&&a?this.$node=(new this.constructor._baseView(this.constructor._baseViewOptions)).$html():this.$node=this.$node||$("<div/>").addClass("component"),this.$node.addClass("component").data("component",this);if(!a){this._decideredOff&&this._decideredOff();return}this.constructor._initializer&&this.constructor._initializer.apply(this,arguments);if(twttr.isT1){var c=this.scribeComponentName;c||this.constructor&&this.constructor._name&&(c=b.util.underscore(this.constructor._name)),c&&this.$node.attr("data-component-term",c)}this.initComponentEvents()}).statics({initializer:function(a){return a._owner=this,this._initializer=a,this},destructor:function(a){return this._destructor=a,this},deciderKey:function(a){return this._deciderKey=a,this},setBaseView:function(a,b){return this._baseView=a,this._baseViewOptions=b,this},setBaseViewOptions:function(a){return this._baseViewOptions=a,this}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).methods({hasRendered:function(){this._hasRendered=!0,!this.noSpacer&&!twttr.isT1&&this.$node.append("<hr class='component-spacer' />")},$find:function(){return this.$node.find.apply(this.$node,arguments)},_superInitializer:function(){var a=arguments.callee.caller._owner;if(a){var b=a.uberclass._initializer;b&&b.apply(this,arguments)}},destroy:function(){this.constructor._destructor&&this.constructor._destructor.apply(this),this.$node.remove(),this.trigger("destroyed"),this._boundEvents&&(twttr.each(this._boundEvents,function(a){a.obj.unbind(a.name,a.cb)}),this._boundEvents=[]),this.unbind()},_registerEvent:function(a,b,c){this._boundEvents||(this._boundEvents=[]),a.bind(b,c),this._boundEvents.push({obj:a,name:b,cb:c})}}),a(twttr.components.Base)})}),provide("idleDetector",function(a){function i(){var a=(new Date).getTime();!d&&a-e>b&&($(document).trigger("inactive"),clearInterval(f),d=!0)}function j(){$(document).off(".idleDetect"),clearInterval(f),e=(new Date).getTime(),setTimeout(k,c),d&&($(document).trigger("active"),d=!1)}function k(){e=(new Date).getTime(),f=setInterval(i,c),$(document).on(g,j)}function l(){d=!0,$(document).off(".idleDetect"),clearInterval(f)}function m(a){return a=$.extend({},{wait:3e5,heartBeat:1e3},a),b=a.wait,c=a.heartBeat,k(),{deactivate:l}}var b,c,d=!0,e=0,f=0,g="mousemove.idleDetect keydown.idleDetect DOMMouseScroll.idleDetect mousewheel.idleDetect mousedown.idleDetect touchstart.idleDetect touchmove.idleDetect";a(m)}),provide("interface",function(a){using("_","util","constants").as(function(b,_){twttr.klass("twttr.Interface").mixin(twttr.mixins.i18nTweetBox).methods({enableRtl:function(){twttr.i18n.rtl=!0,document.body.dir="rtl"},setup:function(){$(document).delegate("a[data-send-impression-cookie]","click",function(a){var b=a.currentTarget;if(!b||b.hostname!=window.location.hostname||!b.pathname||b.pathname.indexOf("/#!/")==0)return;var c=$(b),d=c.closest("[data-impression-cookie]").attr("data-impression-cookie");if(!d)return;var e=new Date,f=6e4,g=new Date(e.getTime()+f);$.cookie("ic",d,{expires:g})}),$("a[href$='#']").live("click",function(a){a.preventDefault()}),$(".user-profile-link").live("click",twttr.scribbles.logViewProfileDetails),$("a[href^='/']").live("click",function(a){if(a.which==1&&!a.metaKey&&!a.shiftKey){var b=$(this),c=b.attr("href"),d=b.attr("target");twttr.search.setLastQuerySource(twttr.isT1?$(a.currentTarget).data("query-source"):null);if(d&&twttr.router.shouldRedirectTo(c))return;return twttr.router.routeTo(c),a.preventDefault(),!1}}),twttr.isT1&&twttr.i18n&&$("body").hasClass("rtl")&&this.enableRtl(),$("li.user-thumb-list-member img").tipsy({live:!0,gravity:"s"}),twttr.isT1?($("div.promoted-account a.js-promoted-badge, div.promoted-account small.js-disclosure, div.promoted-tweet span.js-disclosure").tipsy({live:!0,gravity:"n",delayIn:500}),$("li.promoted-trend span.js-disclosure").tipsy({live:!0,gravity:"s",delayIn:500})):($("div.promoted-account a.icon-link, div.promoted-tweet a.icon-link, li.promoted-account a.icon-link").tipsy({live:!0,gravity:"n",delayIn:500}),$("li.promoted-trend span.icon-link").tipsy({live:!0,gravity:"s",delayIn:500}),$("form.js-search-form .js-search-action").click(function(a){$("form.js-search-form").submit()})),$("div.tweet a.twitter-timeline-link").live("mousedown",function(){var a=$(this),b={};a.is("div.dashboard a")?b.component="dashboard":a.is("div.details-pane a")?b.component="details-pane":a.is(".stream-tweet a")?b.component="stream":a.is(".twttr-dialog a")&&(b.component="dialog",b.dialog_type=a.closest(".twttr-dialog").attr("type")),twttr.viewHelpers.addExtraLogging(a,b,"tweet-link"),b.tweet_id=a.closest(".tweet").attr("data-tweet-id"),b.input="click",b.href=a.attr("href"),b.text=a.text(),scribble("tweet-link",b)}),$("a.media-attribution-link").live("mousedown",function(a){scribble("follow-attribution-link",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})}),$("a.inline-media-image").live("mousedown",function(a){scribble("open-inline-media-photo",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})}),$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(a){a.stopPropagation(),a.preventDefault(),using([twttr.bundleMore,"widget/TweetDialog"],function(){(new twttr.widget.TweetDialog({draggable:!0,template:{title:_("What&#8217;s happening?")},enableDraft:"global-tweetbox",origin:"new-tweet-titlebar-button"})).open().focus()})}).tipsy({gravity:"n",offset:6}),twttr.helpers.ellipsify($("#screen-name")),$("a.js-close-all-tweets").click(function(){$(".tipsy").remove(),twttr.app.currentPage().send("closeAllTweets")}).tipsy({gravity:"ne",delayIn:500}),$("form.js-search-form").submit(function(a){var b=$("#search-query");b.val()&&(twttr.search.setLastQuerySource(twttr.search.searchQuerySource.TYPED_QUERY),twttr.search.doSearch()),a.preventDefault()}),$("#message-drawer").delegate(".dismiss","click",function(){return twttr.views.MessageDrawer.close(),!1}),$("#message-drawer").delegate(".js-reload","click",function(){return window.location.reload(),!1}),$("a.js-signout-button").click(function(a){a.preventDefault(),twttr.cache.LocalProvider.clearAll(),window.localStorage&&localStorage.clear(),trackClient({component:"topnav",action:"logout"}),twttr.decider.isAvailable("scribe_logout_reliability_events")&&($("#signout-form .js-reliability-event").attr("value","true"),trackClient({page:"logout",section:"reliability",component:"client",action:"impression"})),$("#signout-form").submit()}),$("a.back-to-top").live("click",function(a){return $(window).scrollTop(0),a.preventDefault(),!1}),$("a.sms-codes-link").live("click",function(a){twttr.dialogs.smsCodes().open()}),$("a.use-old-twitter").live("click",function(a){$.cookie("phx_seen_dialog-"+twttr.currentUser.id,null)}),twttr.isT1||$(".contributor-account-link").each(function(a){var b=$(this),c=b.attr("data-profile-image-url");c&&(window.location.protocol==="https:"&&twttr.cdnBase&&(c=twttr.assets.getPathFromAbsoluteURL(c,{isSSL:!0,isVersioned:!1})),b.find("img").attr("src",c))});var a=this;$("#search-query").bind("keyup keypress keydown",function(b){if(b.ctrlKey)return;a.markPunctuation(b,$(this)),b.stopPropagation()});var c=parseInt(b.util.params($.cookie("twll")).l,10)||0;twttr.verifySession=function(){var a=parseInt(b.util.params($.cookie("twll")).l,10)||0;a!==c&&window.location.reload(!0)},window.setInterval(function(){twttr.verifySession()},b.constants.sessionPollInterval),$.browser.msie?document.onfocusout=function(){twttr.verifySession(),twttr.externalURLStore.scribeFocusAfterClick()}:$(window).focus(function(){twttr.verifySession(),twttr.externalURLStore.scribeFocusAfterClick()}),$(window).scrollTop(0)}}),twttr["interface"]=new twttr.Interface,a(twttr["interface"])})}),provide("run/topbarDropdown",function(a){using().as(function(b){function c(){if(twttr.loggedIn&&twttr.decider.isAvailable("api_verify_credentials_counts")){var a=$(".dropdown-menu li[data-name='lists']"),b=twttr.currentUser.counts.lists,c=function(){twttr.currentUser.hasLists()||a.hide()};c(),twttr.API.List.bind("create follow",function(c){c.type=="create"?b.owned+=1:b.subscribed+=1,a.show()}),twttr.API.List.bind("delete unfollow",function(a){a.type=="delete"?b.owned-=1:b.subscribed-=1,c()})}}$(document).ready(function(){function b(){return twttr.app&&twttr.app.isOnPage("login")}var a=$(".js-session"),d=twttr.isT1?"open":"active";a.click(function(){b()?twttr.router.routeTo(twttr.router.signupPath()):(a.toggleClass(d),!twttr.loggedIn&&a.hasClass(d)&&a.find(".username input").focus())}),$(document).bind("click",function(b){var c=a.get(0);c&&b.target!==c&&!$.contains(c,b.target)&&a.removeClass(d)}).bind("keydown",function(b){b.keyCode===27&&a.removeClass(d)});if(twttr.isT1){var e=$("li.js-language-dropdown");e.click(function(a){e.toggleClass("open"),a.preventDefault()}),e.find(".js-language-link").bind("click",function(a){var b=e.find("form");b.find('input[name="lang"]').val($(this).attr("data-lang-code")),b.find('input[name="redirect"]').val(window.location.href),b.submit(),a.preventDefault(),a.stopPropagation()});var f=$("li.js-country-dropdown");f.click(function(a){f.toggleClass("open"),a.preventDefault()}),f.find(".js-country-link").bind("click",function(a){var b=$(this);twttr.countryCode=b.attr("data-country-code"),$.cookie("co",twttr.countryCode,{domain:".twitter.com",path:"/",expires:3650}),a.preventDefault(),a.stopPropagation(),location.reload()}),$("a.js-dm-dialog").click(function(b){using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(a,b){(new b).open()}),a.removeClass(d),b.stopPropagation(),b.preventDefault()}),$(document).bind("click",function(a){var b=e.get(0);b&&a.target!==b&&!$.contains(b,a.target)&&e.removeClass(d);var c=f.get(0);c&&a.target!==c&&!$.contains(c,a.target)&&f.removeClass(d)}).bind("keydown",function(a){a.keyCode===27&&e.removeClass(d)}),c()}if(!twttr.loggedIn){$("#session > a").attr("href","#");var g=$("#signin-dropdown form"),i=g.find("input");g.bind("click",function(a){a.stopPropagation()}),g.bind("submit",function(a){if(twttr.app){var b=twttr.app.isOnPage("mobile_gallery")?"/":twttr.Router.getCurrentPath();$(this).find("input[name=redirect_after_login]").val(b)}}),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&i.each(function(){if(this.type.match(/text|password/)){var a=$(this);a.clone().appendTo(a.parent()),a.remove()}}),twttr.helpers&&twttr.helpers.addFormEvents(g),i.bind("focus",function(){b()?twttr.app.currentPage().$find(".username input").focus():a.addClass(d)})}}),a()})}),provide("tco",function(a){using().as(function(b){twttr.app.waitForSignal("init",function(){$(document.body).bind("copy",twttr.bind(twttr.tco,twttr.tco.onCopy)),$(document.body).bind("aftercopy",twttr.bind(twttr.tco,twttr.tco.onAfterCopy))}),twttr.provide("twttr.tco"),twttr.tco={shouldRefreshSelection:function(){return!$.browser.msie},onCopy:function(a){var b=twttr.tco.getSelection(),c;this.shouldRefreshSelection()&&(c=this.getCurrentRange());var d=b.anchorNode?twttr.tco.nearestCommonAncestor(b.anchorNode,b.focusNode):a.target;if(!this.displayToTco(d))return;window.setTimeout(function(){$(document.body).trigger("aftercopy",[d,c])},0)},linksForTarget:function(a){var b=$(a).find("a.twitter-timeline-link");return a.tagName.toLowerCase()==="a"&&b.push(a),b},nearestCommonAncestor:function(a,b){if(a==b)return a.parentNode;var c=$.makeArray($(a).parents()).reverse().concat(a),d=$.makeArray($(b).parents()).reverse().concat(b),e=0;while(c[e]==d[e])e++;return c[e-1]},isFirstChild:function(a,b){while(a!=b){if(a!=a.parentNode.childNodes[0])return!1;a=a.parentNode}return!0},isLastChild:function(a,b){while(a!=b){var c=a.parentNode.childNodes;if(a!=c[c.length-1])return!1;a=a.parentNode}return!0},displayToTco:function(a){var b=this,c=!1,d=twttr.tco.getCurrentRange(),e=d.focusNode?$(d.focusNode).text().length:undefined,f=twttr.tco.linksForTarget(a);return $(f).each(function(a,f){var g=$(f),i=g.attr("data-expanded-url");if(!i)return;var j=d.focusNode&&!!$(f).has(d.focusNode).length;if(j){var k=twttr.tco.isFirstChild(d.focusNode,f),l=twttr.tco.isLastChild(d.focusNode,f),m=k&&d.focusOffset==0||l&&d.focusOffset==e;if(!m)return!1}g.text().indexOf("pic.twitter.com/")===0&&(i=g.attr("href").replace(/t\.co/,"pic.twitter.com")),g.data("original-child-nodes",$.map(f.childNodes,function(a){return a})),g.empty(),g.text(i),j&&d.focusOffset>0&&b.adjustTextSelectionEndpoint(),c=!0}),c},tcoToDisplay:function(a){var b=twttr.tco.linksForTarget(a);$(b).each(function(a,b){var c=$(b),d=c.data("original-child-nodes");d&&(c.empty().append(d),c.data("original-child-nodes",null))})},getCurrentRange:function(){var a=twttr.tco.getSelection();return{anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}},onAfterCopy:function(a,b,c){this.tcoToDisplay(b),c&&this.updateSelection(c)},adjustTextSelectionEndpoint:function(){var a=twttr.tco.getSelection(),b=document.createRange(),c=a.focusNode.nodeType==3?a.focusNode.length:a.focusNode.childNodes.length;b.setStart(a.anchorNode,a.anchorOffset),b.setEnd(a.focusNode,c),a.removeAllRanges(),a.addRange(b)},getSelection:function(){return window.getSelection?window.getSelection():document.selection.createRange()},updateSelection:function(a){var b=twttr.tco.getSelection(),c=document.createRange();c.setStart(a.anchorNode,a.anchorOffset),c.setEnd(a.focusNode,a.focusOffset),c.startOffset===c.endOffset&&c.anchorNode===c.focusNode&&c.anchorNode!==a.anchorNode&&c.focusNode!==a.focusNode&&(c.setStart(a.focusNode,a.focusOffset),c.setEnd(a.anchorNode,a.anchorOffset)),b.removeAllRanges(),b.addRange(c)}},a(twttr.tco)})}),provide("streams/TweetStream",function(a){using().as(function(b){var c={ACTIVE:3e4,INACTIVE:9e4},d=c.ACTIVE;$(window).focus(function(){d=c.ACTIVE}),$(window).blur(function(){d=c.INACTIVE}),twttr.tweetStream=function(a,b){b||(b=function(){twttr.streams.TweetStream.apply(this,arguments)});var c=twttr.stream(a,b);return c.subclassOf(twttr.streams.TweetStream),c.prototype._updateMethod=function(){},c.update=function(a){return this.prototype._updateMethod=a,this},c.every=function(a){return this.prototype._interval=a*1e3,this},c.setTitle=function(a){return this.prototype._setTitle=a,this},c.deciderKey=function(a){return c._deciderKey=a,c},c.pollingDeciderKey=function(a){return c._pollingDeciderKey=a,c},c},twttr.klass("twttr.streams.TweetStream",function(){var a=this;twttr.streams.Stream.apply(this,arguments),twttr.API.User.bind("block",function(b,c){a.blockTweetsBy(c)}),twttr.API.User.bind("unblock",function(b,c){a.blockTweetsBy(c,!0)}),this.bind("didTweet",function(b,c){a.fetchTweets(function(a){a.render()})}),this.registerTweetActionEvents(),this.registerUserActionEvents(),this.updateI18nDisplay(),this.periodicUpdater=null,this.scribbler=twttr.Scribbler.clientEvent}).subclassOf(twttr.streams.Stream).mixin(twttr.mixins.tweetActionable,twttr.mixins.i18nTweet,twttr.mixins.userActionable,twttr.mixins.promotedTweetStream,twttr.mixins.streamablePageWithInlineMedia).methods(twttr.EventProvider).methods({itemViewClass:"StreamTweet",streamItemType:"tweet",_expandable:!0}).methods({_fetchCount:function(){},_fetchMoreCount:function(){return 20},convertToStatus:function(a){return new twttr.API.Status(a)},afterFirstSwitchingTo:function(a){var b=this,c=new Date;this._attachedTweetBarEvent||(this._attachedTweetBarEvent=!0,this.dom().delegate(".js-new-tweets-bar","click",function(){b._showNewItems()})),this.startPeriodicFetcher(),this._loadedStreamOnce=!0;if(this.preRendered){twttr.bootTimings&&(twttr.bootTimings.add("tweets_visible",twttr.tweetsVisibleTime),twttr.bootTimings.done()),$(this.streamManagerDomNodeSelector).find("div.stream-end").length==1&&(this._alreadyMarkedEnd=!0),this.items=[],this.itemIds={};var d=this.$node.find("div.js-stream-tweet, div.stream-tweet"),e=twttr.promotedTweetStore.getTweetInfo();storedPromotedTweetId=null,e&&e.data.promoted_status?storedPromotedTweetId=e.data.promoted_status.id_str:e&&(storedPromotedTweetId=e.data.id_str),d.each(function(a,c){var f=$(c),g,i,j,k,l,m,n;g=JSON.parse(f.attr("data-status"));if(storedPromotedTweetId===g.id_str){g=e.data,i=g.promoted_content.impression_id,f.attr("data-impression-id",i);var o=g.id_str+"-promoted";f.parent().attr("data-item-id",o).attr("id","stream-item-tweet-"+o)}else f.attr("data-impression-id")&&(k=d[a+1],k&&(l=$(k).attr("data-tweet-id"),j=!!f.find("i.badge-political").length,twttr.promotedTweetStore.setTweetInfo(l,g,j)));n=b.convertToStatus(g),m=new twttr.views.StreamTweet(n),m.wakeUp(),b.items.push(n),b.markAsRendered(n)}),this.items.length==0&&(this.noMoreOldItems=!0),this.updateI18nDisplay(),this.wokeUp(),this.onGotInitialResults(this.items),this._updateSinceId(this.items),this.logPromotedImpressions(this.items),this.addInlineMediaIcons(this.$node,function(){b._scribeTweetImpressions()}),using(">allCodeLoaded",function(){b.addActivityByFriendsToTweets(b.items)})}else this.isLoadingMore(),this.fetchTweets(!0,function(c,d){c.render(),twttr.tweetsVisibleTime||(twttr.tweetsVisibleTime=new Date),twttr.bootTimings&&(twttr.bootTimings.add("tweets_visible"),twttr.bootTimings.done()),twttr.util.params().show_time&&twttr.showMessage("Stream loaded at "+(+(new Date)-document.startTime)/1e3+"s"),c.doneLoadingMore(),d!==twttr.streams.SUCCESS?b._showError(d):b.fetchUntilScreenIsFull(),a?a():$.noop,b._scribeTweetImpressions()})},fetchUntilScreenIsFull:function(){var a=this;!this.noMoreOldItems&&this._isInDOM()&&this._shorterThanWindow()&&this.getMoreOldItems(function(b,c){c!==twttr.streams.SUCCESS?a._showError(c):a.fetchUntilScreenIsFull()})},_isInDOM:function(){return jQuery.contains(document.body,this.$node[0])},_shorterThanWindow:function(){return this.$node.height()<twttr.windowHeight},afterSwitchingToAgain:function(a){this.fetchTweets(twttr.bind(this,function(b){var c=this.newItemsCount;this.newItemsCount>0&&this._showNewItems(),this.restartFetcher();if(!twttr.isT1){var d=this.getFirstItem();this.highlightItem(d)}a?a():$.noop}))},_getStreamWhaleText:function(){return _("Loading Tweets seems to be taking a while.")},streamItemId:function(a){return a.impressionId?a.id+"-promoted":a.id},blockTweetsBy:function(a,b){var c=this.constructor._name==="User"&&this.screenName===a.screenName,d=this.constructor._name==="Search";if(c||d)return;var e=this.$find('.stream-item [data-screen-name="'+a.screenName+'"]').parent();e[b?"addClass":"removeClass"]("blocked")},onTweetActionDelete:function(a){this.remove(a);for(var b=0;b<this.items.length;b++)this.items[b].id===a&&this.items.splice(b,1)},onTweetActionHide:function(a){this.selectedItem(a).hide()},onTweetActionShow:function(a){this.selectedItem(a).show()},beforeShowNewItems:function(){var a;this.keepPromotedTweetsAtTop?a=this.$find(".js-original-tweet:not(.promoted-tweet)").first().closest(".js-stream-item"):a=this.$find(".js-stream-item").first(),this.$find(".last-new-tweet").removeClass("last-new-tweet"),a.addClass("first-old-tweet");if(a.hasClass("expanding-stream-item")){var b=a.css("margin-bottom");b&&a.css("margin-top",b)}},separateOldAndNewTweets:function(){var a=this.$find(".first-old-tweet").removeClass("first-old-tweet").first(),b=a.prev().addClass("last-new-tweet");a.is(".expanding-stream-item.open")&&b.addClass("before-expanded")},onShowNewItems:function(a){this.updateI18nDisplay();var b=this;this.addInlineMediaIcons(a,function(){b._scribeTweetImpressions()}),this.separateOldAndNewTweets(),this.$find(".js-new-tweets-bar").remove()},onShowOldItems:function(a){this.updateI18nDisplay();var b=this;this.addInlineMediaIcons(a,function(){b._scribeTweetImpressions()})},addActivityByFriendsToTweets:function(a){if(!twttr.currentUser||!twttr.decider.isActivityEnabled()||!twttr.decider.isAvailable("activity_social_context"))return;var b=this,c={},d={};return $.each(a,function(a,b){c[b.id]={retweeters:[],favoriters:[]},b.wasRetweeted&&(c[b.id].retweeters.push(b.retweetingStatus.user),d[b.retweetingStatus.user.id]=!0)}),this.activityByFriendIntersection(a,c,d)},activityByFriendIntersection:function(a,b,c){var d=this;this.loadFriends(function(e){var f={},g={};$.each(a,function(a,b){if(!b.activities)return;$.each(b.activities.favoriters,function(a,c){if(!e[c])return;g[c]||(g[c]=[]),g[c].push(b.id)}),$.each(b.activities.retweeters,function(a,d){if(!e[d]||c[d])return;f[d]||(f[d]=[]),f[d].push(b.id)})});var i=twttr.util.arrayUniq(twttr.util.objKeys(g).concat(twttr.util.objKeys(f))).slice(0,twttr.constants.users.maxLookupSize);twttr.API.User.findAll(i,{stringifiedIds:!0,success:function(a){a.each(function(a){faves=g[a.id],retweets=f[a.id],faves&&$.each(faves,function(c,d){b[d].favoriters.push(a)}),retweets&&$.each(retweets,function(c,d){b[d].retweeters.push(a)})}),d.appendActivities(b)},error:function(){d.appendActivities(b)}})})},appendActivities:function(a){for(tweetId in a){var b=a[tweetId],c=this.$node.find(".stream-item[data-item-id='"+tweetId+"']");b.retweeters.length&&(new twttr.views.StreamActivity({items:b.retweeters,item_type:"retweets"})).render(c.find(".tweet-activity-retweets"),"html"),!b.retweeters.length&&b.favoriters.length&&(new twttr.views.StreamActivity({items:b.favoriters,item_type:"favorites"})).render(c.find(".tweet-activity-favorites"),"html")}},loadFriends:function(){var a;return function(b){if(a)return b(a);twttr.currentUser.friendIds(function(c){a=twttr.inject(c,{},function(a,b,c){return a[c]=!0,a}),b(a)})}}(),onGotInitialResults:function(a){var b=a.slice(this.newItemsCount);twttr.streams.Stream.prototype.onGotInitialResults.apply(this,arguments),this.addActivityByFriendsToTweets(b)},onGotNewItems:function(a){twttr.streams.Stream.prototype.onGotNewItems.apply(this,arguments),this.addActivityByFriendsToTweets(a)},onGotOldItems:function(a){twttr.streams.Stream.prototype.onGotOldItems.apply(this,arguments),this.addActivityByFriendsToTweets(a)},_scribeTweetImpressions:function(){var a=this;twttr.abdecider.chooseWithoutImpression("tweet_anatomy_2_231")&&a.$node.find("div.js-stream-tweet").each(function(b,c){c=$(c),c.height()&&a._itemDetailsScribe("impression","tweet",c)})},_scribeResults:function(a,b,c){this._scribeEmptyResults(a,b,c);if(b.length){var d=[],e;twttr.each(b,function(a,b){var c;d.push(a.id),a.isPromoted&&a.isPromoted()?c={item_type:twttr.constants.clientEvent.itemType.promotedTweet,item_token:a.impressionId}:a.resultCategory=="popular"&&(c={item_type:twttr.constants.clientEvent.itemType.popularTweet}),c&&(e=e||{},c.item_position=b,e[a.id]=c)}),this.scribbler.scribe({component:"stream",action:"results"},{item_ids:d,item_count:d.length,event_value:d.length,cursor_or_page:this._sinceId,item_details:e,referring_event:a})}},beforeSwitchingAway:function(){this.stopPeriodicFetcher(),this.trigger("switchingAway")},_fetchItems:function(a){this.fetchTweets(!0,a)},fetchTweets:function(a,b,c){twttr.is.fn(a)&&(c=b,b=a,a=!1);if(this.preRendered&&this._alreadyMarkedEnd){b(this,twttr.streams.SUCCESS);return}if(!twttr.decider.isAvailable("tweet_streams")||this.constructor._deciderKey&&!twttr.decider.isAvailable(this.constructor._deciderKey)){b(this,twttr.streams.DECIDER);return}var d=this,e=twttr.audit.trail(),f=a?this._optionsForOld(b):this._optionsForNew(b);c=c||{},f=twttr.merge(c,f),twttr.decider.isAvailable("platform_enable_cards")&&(f.include_cards=1),f.include_entities=1,f.include_available_features=1,f.contributor_details=!e[1]||e[1].page!=="welcome",this._updateMethod(f,this.params,b)},_idForTweet:function(a){return a.wasRetweeted?a.retweetingStatus.id:a.id},_optionsForNew:function(a){var b=this,c={success:function(c){c instanceof twttr.API.util.BaseCollection&&(c=c.array),c=b.cleanStream(c);var d=!b.items.length;b.unshift(c),b._updateSinceId(c),d&&b.items.length&&b.switchEndOfStreamMarker(),a&&a(b,twttr.streams.SUCCESS)},error:function(c){c.status===502?a(b,twttr.streams.WHALE):a(b,twttr.streams.ERROR),b._scribeResults("error",[],{status_code:c.status})}};return this.items.length&&(c.since_id=this._sinceId),c},_updateSinceId:function(a){twttr.is.array(a)||(a=Array.prototype.slice.call(arguments));for(var b=0;b<a.length;b++){var c=a[b],d=this._idForTweet(c);if(!c.isPromoted()&&c.resultCategory!=="popular"){twttr.natcompare(d,this._sinceId||"0")>0&&(this._sinceId=d);return}}},_streamMaxId:function(){for(var a=this.items.length-1;a>=0;a--)if(!this.items[a].isPromoted())return this._idForTweet(this.items[a])},cleanStream:function(a){return a=this._filterMutedUsers(a),a=this._filterDeletedTweets(a),a=this._filterOutRetweets(a),a},_filterOutRetweets:function(a){return twttr.currentUser?twttr.filter(a,function(a){return a.wasRetweeted?a:a}):a},_filterMutedUsers:function(a){twttr.decider.isAvailable("muteUsers")||a;if(twttr.currentUser&&this.constructor._name=="Home"){var b=twttr.caches.User.get("muted");a=twttr.filter(a,function(a){if(!twttr.is.def(b)||a.wasRetweeted&&!twttr.is.def(b[a.retweetingStatus.user.id])||!a.wasRetweeted&&!twttr.is.def(b[a.user.id]))return a})}return a},_filterDeletedTweets:function(a){return twttr.filter(a,function(a){if(!twttr.app.caches.deletedTweets.get(a.id))return a})},_optionsForOld:function(a){var b=this,c={success:function(d){d instanceof twttr.API.util.BaseCollection&&(d=d.array),c.max_id&&(d=twttr.filter(d,function(a){return a.id!==c.max_id})),d=b.cleanStream(d),b.push(d),b._updateSinceId(d),d.length||b.reachedTheEnd(),a&&a(b,twttr.streams.SUCCESS)},error:function(c){c.status===502?a(b,twttr.streams.WHALE):a(b,twttr.streams.ERROR)},timeout:function(a){a.retry()},cancel:function(){a(b,twttr.streams.TIMEOUT)}};return this.items.length?(c.max_id=this._streamMaxId(),c.count=this._fetchMoreCount()+1):this._fetchCount()&&(c.count=this._fetchCount()),c},_getInterval:function(){return d},startPeriodicFetcher:function(){if(this.periodicUpdater||!twttr.decider.isAvailable("tweet_streams_polling")||this.constructor._pollingDeciderKey&&!twttr.decider.isAvailable(this.constructor._pollingDeciderKey))return;this.periodicUpdater=setTimeout(twttr.bind(this,this.fetchNewTweetsThenPoll),this._getInterval())},fetchNewTweetsThenPoll:function(){var a={headers:{"X-Twitter-Polling":!0}};this.fetchTweets(twttr.bind(this,function(a){var b=a.newItemsCount;b>0&&(this.showNewTweetsBar(b),this.trigger("newTweets",[a,b]))}),a),this.restartFetcher()},stopPeriodicFetcher:function(){this.periodicUpdater&&(clearTimeout(this.periodicUpdater),this.periodicUpdater=null)},restartFetcher:function(){this.stopPeriodicFetcher(),this.startPeriodicFetcher()},addInlineMediaIcons:function(a,b){using([twttr.bundleMore,"media/Iconifier"],function(){new twttr.media.Iconifier(a,b)}),using([twttr.bundleMore,"stork"],function(){if(a){var b=a.find(".js-stream-items");b.length||(b=a.closest(".js-stream-items")),twttr.stork.storkifyTweets(b)}})},showNewTweetsBar:function(a){var b=this.$find(".js-new-tweets-bar"),c=(new twttr.views.NewTweetsBar({count:a,is_tweet:!0})).$html();b.length>0?(twttr.isT1?b.parent():b).replaceWith(c):c.hide().prependTo(this.dom()).slideDown()},screen_name:function(){return this.params.screenName},_getUserStreamErrorComponent:function(a){return this.wokeUp(),a===twttr.streams.PROTECTED?new twttr.components.ProtectedUser({screen_name:this.params.screenName}):this.constructor.uber._getStreamErrorComponent.apply(this,arguments)},wokeUp:function(){signal(">wokeUp")}}),a(twttr.streams.TweetStream)})}),provide("streams/Home",function(a){using().as(function(b){twttr.tweetStream("twttr.streams.Home",function(){var a=this;twttr.streams.TweetStream.apply(this,arguments),this.unbind("didTweet"),this.bind("didTweet",function(b,c){a.fetchTweets(function(b,d){if(d!=twttr.streams.WHALE&&d!=twttr.streams.ERROR){a.insertTweetIfNotPresent(c);var e=a.$node.find(".js-stream-item:first"),f=e.length>0,g=f&&e.position().top;b._showNewItems("insert");if(f){var i=e.position().top,j=twttr.$win.scrollTop();$("html, body").scrollTop(j+(i-g))}b._showOldItems(!0)}})})}).update(function(a,b,c){a.pc=!0,twttr.currentUser.homeTimeline(a)}).methods({onShowNewItems:function(a){this.constructor.uber.onShowNewItems.apply(this,arguments),this.logPromotedImpressions(this.items.slice(0,this.newItemsCount))},onShowOldItems:function(a){this.constructor.uber.onShowOldItems.apply(this,arguments),this.logPromotedImpressions(this.items.slice(this.items.length-this.oldItemsCount)),twttr.streams.Home.scribeTweetDensity&&(this._scribeTweetDensity(a),twttr.streams.Home.scribeTweetDensity=!1)},_scribeTweetDensity:function(a){var b=a.find(".js-stream-tweet"),c={};if(b.length<10)return;for(var d=0;d<10;++d){var e=b.eq(d),f=e.attr("data-user-id");c[f]?c[f]++:c[f]=1}var g=0,i=null,j=0,k=0;$.each(c,function(a,b){b>g&&(g=b,i=a),j+=b*(b-1);var c=b/10;k+=c*Math.log(1/c)});var l=1-j/90;k/=Math.log(10),scribble("welcome-timeline-stats",{density:g,density_leader:i,diversity:l,entropy:k})},_fetchCount:function(){return null},_fetchMoreCount:function(){return 20},_getStreamEndComponent:function(){return this.constructor.uber._getStreamEndComponent.apply(this,arguments)},insertTweetIfNotPresent:function(a){a instanceof twttr.API.Status||(a=new twttr.API.Status(a));var b=this.cleanStream([a]);if(b&&!this.hasTweet(a)){var c=this.insertionIndexOfTweet(a);this.splice(c,b),this.newItemsCount++,c==0&&this._updateSinceId(b),this.onInsertItems(b)}},hasTweet:function(a){for(var b=0,c=this.items.length;b<c;b++)if(this.items[b].id==a.id)return!0;return!1},insertionIndexOfTweet:function(a){for(var b=0,c=this.items.length;b<c;b++)if(!this.items[b].isPromoted()){var d=a.id,e=this.items[b].id;if(twttr.natcompare(d,e)>=0)return b}return b}}).deciderKey("tweet_stream_home").pollingDeciderKey("tweet_stream_home_polling"),twttr.isT1?twttr.streams.Home.methods({_setTitle:function(a){a(_("Tweets"))},_getEmptyStreamHtml:function(){return(new twttr.views.EmptyTimelineMessage).html()}}):twttr.streams.Home.methods({_getEmptyStreamComponent:function(){var a=new twttr.components.EmptyHome,b="newItemsCountChanged.EmptyHomeComponent",c=this;return this.bind(b,function(d,e){!e&&!c.isEmpty()&&(a.destroy(),c.unbind(b),c._alreadyMarkedEnd=!1,c.markStreamEnd())}),a}}),a()})}),provide("streams/StreamManager",function(a){using("_","mixins/serverRenderableObject").as(function(b,_,c){var d=twttr.klass("twttr.streams.StreamManager",function(a,b){var c=this,d="";if(a){var e=a+"-stream-manager";d=' id="'+e+'"',this.domNodeSelector="#"+e}this.$node=this.$domNode('<div class="js-stream-manager" '+d+'><div class="stream-title"></div><div class="stream-container"></div></div>'),this.$page=b||$(),twttr.decider.isInfiniteScroll()||(this.$moreButton=(new twttr.views.MoreButton).$html().appendTo(this.$node).click(function(a){c.getMoreOldItems(function(a){scribble("stream-more-button",{page:a._cacheKey,stream:a._cacheKey,focused_tweet_id:a.focusedItemId||""})}),a.stopPropagation(),a.preventDefault()})),this.resetCache(),twttr.loggedIn&&(twttr.decider.isAvailable("route_timing")||twttr.util.params().routetimer)&&(c.bind("switchingToStream didNotSwitch",function(a,b){twttr.RouteTimer.streamSwitch(b)}),c.bind("afterSwitchingTo",function(a,b,c){twttr.RouteTimer.streamAfterSwitch(b,c)})),window.ttft&&c.bind("afterSwitchingTo",function(){window.ttft.clientRendered(twttr.app.currentPageName())})}).statics({cacheKeyForStream:function(a){return a._cacheKey},cacheKeyForStreamClass:function(a,b){var c=a._name;if(b&&!$.isEmptyObject(b)){var d=twttr.filter(b,function(a,b){return!twttr.is.fn(b)&&!twttr.is.object(b)});c+=JSON.stringify(d)}return encodeURIComponent(c)}}).methods(twttr.EventProvider).mixin(c).methods({$find:function(){return this.$node.find.apply(this.$node,arguments)},getCurrent:function(){return this.streams.current},setCurrent:function(a){this.streams.current=a},getStream:function(a,b){var c=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b);return this.streams[c]},onSwitchAway:function(){var a=this.getCurrent();a&&a.beforeSwitchingAway()},switchOut:function(){var a=this.getCurrent();a&&(a.beforeSwitchingAway(),a.dom().detach()),this.$headerContainer().empty(),this.titleContainer().empty()},switchTo:function(a,b,c){var d=null;b&&b.initialItems!==undefined&&(d=b.initialItems,delete b.initialItems);var e=this,f=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b),g=this.getCurrent(),i,j=!1,k=function(a){return function(){e.trigger("afterSwitchingTo",[a,j]),c&&c.apply(this,arguments)}};_scribble("stream-view",{stream_name:a._name}),b=b||{};if(g){var l=twttr.streams.StreamManager.cacheKeyForStream(g);if(l===f)return this.trigger("didNotSwitch",g),j=!0,g.afterSwitchingToAgain(k(g)),g;this.switchOut()}this.trigger("switchTo"),this.streams[f]&&!d?(i=this.streams[f],j=!0):(i=new a(b,d,this),i._cacheKey=f,i.bind("newItemsCountChanged",twttr.bind(this,function(a,b){i===this.getCurrent()&&this.trigger("newItemsCountChanged",[b])})),i.bind("reloadCurrentStream",twttr.bind(this,function(a,b){i.unbindEvents(),this.clearFromCache(b),this.$node.find("div.stream-container").empty(),delete this.streams.current,this.switchTo(b)})),i.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),i._shouldCache&&(this.streams[f]=i),i.bind("governmentSearch",function(a,b){twttr.router.routeTo(twttr.router.governmentSearchByZipPath({zipCode:b}))})),this.trigger("switchingToStream",i);var m=this.$node.find("div.stream-container");m.has(i.$node).length===0&&m.prepend(i.$node),this.setHeader(i,b);if(e.$moreButton){function n(){e.$moreButton.toggle(!i._alreadyMarkedEnd&&!i._errorComponent)}i.bind("streamEnd doneLoadingMore",n),n()}return i.bind("doneLoadingMore",function(){e.trigger("doneLoadingMore")}),this.setCurrent(i),this.trigger("newItemsCountChanged",[i.newItemsCount]),j?i.afterSwitchingToAgain(k(i)):i.afterFirstSwitchingTo(k(i)),twttr.decider.isInfiniteScroll()&&i.showLoadingSpinner(),this.preRendered&&!i.preRendered&&!twttr.app.fullyLoaded()&&signal(">wokeUp"),i},setTitle:function(a){var b=this.titleContainer();b.empty(),a._setTitle(twttr.bind(this,function(a){if(!a)return;this.setTitleHTML(a)}))},getMoreOldItems:function(a){this.getCurrent()&&this.getCurrent().getMoreOldItems(a)},resetCache:function(){this.streams={},this.setCurrent(null)},$headerContainer:function(){return this.$page.find("div.js-stream-header")},titleContainer:function(){return twttr.isT1?this.$page.find(".js-stream-title"):this.$node.find("div.stream-title")},clearFromCache:function(a,b){b=b||{};var c=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b);this.clearKeyFromCache(c)},clearKeyFromCache:function(a){delete this.streams[a]}});twttr.isT1?d.methods({setHeader:function(a,b){if(a._setHeader){var c=this;using(twttr.bundleMore,function(){a._setHeader(twttr.bind(c,function(d){c.renderHeader(a,b,d)}),b)})}else this.renderHeader(a,b,(new twttr.views.StreamHeader(b)).$html())},renderHeader:function(a,b,c){this.setHeaderHTML(c),this.setTitle(a),this.setViewToggler(a,b),this.setHeaderButton(a,b)},setHeaderHTML:function(a){this.$headerContainer().html(a)},setTitleHTML:function(a){var b=this.titleContainer();b&&b.html(a)},setViewToggler:function(a,b){$viewTogglerContainer=this.$page.find("small.js-view-toggler");if(!$viewTogglerContainer)return;$viewTogglerContainer.empty(),a._setViewToggler&&using(twttr.bundleMore,function(){a._setViewToggler(twttr.bind(this,function(a){if(!a)return;a.render($viewTogglerContainer)}),b)})},setHeaderButton:function(a,b){$headerButtonContainer=this.$page.find("span.js-header-button-container");if(!$headerButtonContainer)return;$headerButtonContainer.empty(),a._setHeaderButton&&using(twttr.bundleMore,function(){a._setHeaderButton(twttr.bind(this,function(a){if(!a)return;a.render($headerButtonContainer)}),b)})}}):d.methods({setHeader:function(a,b){this.setTitle(a)},setTitleHTML:function(a){this.titleContainer().html("<h2>"+a+"</h2>")},setViewToggler:twttr.util.noopInP1,setHeaderButton:twttr.util.noopInP1}),a(d)})}),provide("view",function(a){using("util").as(function(b){twttr.augmentString("twttr.views",{makeDefaultViews:function(a){twttr.map(a,function(a,c){var d=b.util.capitalize(b.util.camelize(c));twttr.views[d]=twttr.views[d]||twttr.view("twttr.views."+d)}),signal(">defaultViews")}}),twttr.view=function(a,b){b||(b=function(){twttr.views.Base.apply(this,arguments)}),twttr.development&&twttr.at(a)&&console.error("twttr.view duplicate definition of:",a);var c=twttr.klass(a,b);return c.subclassOf(twttr.views.Base),c.template=function(a){return this._template=a,this},twttr.view._setDefaultTemplate(c,a),c._partials=twttr.templates,c},twttr.view._setDefaultTemplate=function(a,c){a.template(twttr.templates[b.util.underscore(c.split(".")[2]).toLowerCase()])},twttr.klass("twttr.ViewStack",function(a,b){this.$referenceNode=$(a),this.operation=b||"append",this._cache={},this._stack=[]}).methods({cached:function(a){return twttr.is.string(a)||(a=a.viewId),twttr.is.def(this._cache[a])},size:function(){return this._stack.length},contains:function(a){return twttr.is.inArray(a,this._stack)},remove:function(a){delete this._cache[a.viewId]},top:function(a){return this._stack[this._stack.length-1-(a||0)]},push:function(a){var b=this.top();return b&&b._backLabel&&(a._backLabel=b._backLabel,b.hide()),this.cached(a)?(a=this._cache[a.viewId],this._stack.push(a)):(this._cache[a.viewId]=a,a._viewstack=this,this._stack.push(a),a.render(this.$referenceNode,this.operation)),a.show(),a},pop:function(a){var b=this._stack.pop(),c=this._stack[this._stack.length-1];return b&&b.hide(),c&&!a&&c.show(),b?b:null},reset:function(a){while(this.pop());if(a)return this.push(a)}}),a(twttr.view)})}),provide("urlResolver",function(a){using().as(function(b){twttr.augmentString("twttr.urlResolver",function(){var a={};return{expand:function(b,c){var d,e={},f=[];if(twttr.decider.isAvailable("phoenix_url_resolver")&&twttr.is.array(b)){for(var g=0,i=b.length;g<i;++g){var j=b[g];(d=a[j])?e[j]=d:f.push(j)}f.length===0?c(e):twttr.API.Urls.resolve(f,function(b){$.each(b,function(b,c){a[b]=e[b]=c}),c(e)})}}}}()),a(twttr.urlResolver)})}),provide("multiGlobals/core_views",function(exports){using("util").as(function(phx){var logContext=phx.util.params().log_context;twttr.view("twttr.views.Base",function(a,b){twttr.is.string(a)?(this.viewId=a,this.obj=b):(this.obj=a,this.viewId=null);var c=twttr.audit.currentPage();c&&(this["in_"+c+"_page"]=!0);var d=twttr.audit.currentAction();d&&(this.actionName=twttr.util.underscore(d),this["in_"+this.actionName+"_action"]=!0);if(!this.obj)return;this.originalObject=this.obj,this.attach(this.obj)}).statics({formatDeciderMethodName:function(a){return twttr.util.underscore((""+a).replace(/[^A-Z0-9]/gi,"_"))},_addBucketTestMethod:function(a,b,c){var d=b+"_"+this.formatDeciderMethodName(c);c&&!this.prototype[d]&&this.method(d,function(){return c==twttr.abdecider.choose(a)})},addABTestMethods:function(a,b,c){var d="abtest_"+this.formatDeciderMethodName(a);this.prototype[d]||this.method(d,function(){return!!twttr.abdecider.choose(a)});var e=d+"_any_bucket";this.prototype[e]||this.method(e,function(){var b=twttr.abdecider.choose(a);return!!b&&b!="control"});if(c)for(var f=0;f<c.length;f++)this._addBucketTestMethod(a,d,c[f]);else this._addBucketTestMethod(a,d,b)},addDeciderMethod:function(a){this.method("decider_"+twttr.util.underscore(a),function(){return twttr.decider.isAvailable(a)})},onDeciderKeyChange:function(a,b){twttr.views.Base.addDeciderMethod(b.key)},onABTestKeyChange:function(a,b){b.current&&twttr.views.Base.addABTestMethods(b.key,b.current.bucket,b.current.bucket_names)}}).methods({anatomy_world:function(){return!1},anatomy_world_with_expand:function(){return!1},change_german_verbs:function(){return twttr.isT1&&twttr.currentUser&&new Date(2012,6,3)<new Date(twttr.currentUser.createdAt)&&twttr.abdecider.choose("change_deutsch_verbs_229")==="change_verbs"},"debugger":function(){return twttr.development&&eval("debugger;"),""},languages:function(){return twttr.languages},languages_by_own:function(){return twttr.languages.sort(function(a,b){var c=a.name.toLowerCase(),d=b.name.toLowerCase();return c<d?-1:c===d?0:1})},media_cards_enabled:function(){return twttr.isT1&&twttr.decider.isAvailable("platform_enable_cards")},render:function(a,b){this.selector=a,this.operation=b||"html";try{this.$dom=$(this.html())}catch(c){if(!c.message||c.message.indexOf("Syntax error, unrecognized expression")!=0)throw c;this.$dom=$("")}return $(this.selector)[this.operation](this.$dom),this.afterRender(this.$dom),this.$dom},attach:function(a){if(twttr.API.Base&&a instanceof twttr.API.Base)throw new Error("You failed to subclass BaseAPI with this view ("+this.constructor._name+"), so we're about to clobber all your favorite properties.  Subclass twttr.views.BaseAPI!");for(var b in a)this[b]=a[b]},hide:function(){this.$dom.hide(),this.$dom.addClass("inactive").removeClass("active")},show:function(){this.$dom.show(),this.$dom.addClass("active").removeClass("inactive")},refresh:function(){this.$dom=$(this.html(!0)),$(this.selector)[this.operation](this.$dom)},html:function(a){if(!a&&this._html)return this._html;if(!twttr.is.def(this.constructor._template))return console.log("Missing template file: ",this,this.constructor._name),"";if(logContext==""||logContext==this.constructor._name){try{var b=JSON.stringify(this.obj,null,2)}catch(c){var b=c.toString()}console.log("View inputs to",this.constructor._name+":",{originalObject:this,stringified:b})}var d=[this.constructor._template,this];this.constructor._partials&&d.push(this.constructor._partials);try{this._html=Mustache.to_html.apply(Mustache,d)}catch(c){if(c.message)throw twttr.development&&console.error("Error rendering "+this.constructor._name,c.message),c}return this.afterHtml(this._html),this._html},$html:function(a){return $(this.html())},rendering_on_server:!1,swift:!1,afterHtml:function(a){},afterRender:function(a){},subview:function(a,b){return this[a]=b,this},logged_in:function(){return!!twttr.currentUser},is_ssl:function(){return twttr.proto=="https"},is_mobile:function(){return!!twttr.isMobile},t1_actions_eligible:function(){return twttr.t1_actions_eligible},form_authenticity_token:function(){return twttr.anywhere.api.config.postAuthenticityToken},plural_rules:{r0:function(){return"other"},r1:function(a){return a===1?"one":"other"},r2:function(a){return a<=1?"one":"other"},r3:function(a){if(parseInt(a)===a){switch(a%10){case 1:if(a===11)break;return"one";case 2:case 3:case 4:if(a>=12&&a<=14)break;return"few"}return"many"}return"other"},r4:function(a){switch(a){case 0:return"zero";case 1:return"one";case 2:return"two";default:var b=a%100;return b>=11?"many":b>=3&&b<=10?"few":"other"}}},lang_to_rule:{ar:"r4",da:"r1",de:"r1",en:"r1",es:"r1",fa:"r0",fil:"r2",fr:"r2",he:"r1",hi:"r2",hu:"r0",id:"r0",it:"r1",ja:"r0",ko:"r0",msa:"r0",nl:"r1",pt:"r1",ru:"r3",sv:"r1",tr:"r0",ur:"r1","zh-cn":"r0","zh-tw":"r0"},lookup_missing_property:function(a,b){var c=a.lastIndexOf("_");if(c!==-1){var d=a.substring(c+1);switch(d){case"zero":case"one":case"two":case"few":case"many":case"other":var e=a.substring(0,c);if(e in b){function f(a){return a||a===!1||a===0}var g=this.plural_rules[this.lang_to_rule[twttr.pageLocale]||"r0"];function i(){var a;return f(this[e])&&(a=this[e]),typeof a=="function"&&(a=a.apply(this)),d===g(a)}var j=null;Object.getPrototypeOf?j=Object.getPrototypeOf(b):b.__proto__&&(j=b.__proto__);if(!j||j===Object.prototype)j=b;return j[a]=i,i.apply(b)}break;default:}}return undefined},render_page_content:!0}),function(){for(var a in twttr.decider.features())twttr.views.Base.addDeciderMethod(a);var b=twttr.abdecider.experiments();for(var c in b){var d=b[c];d&&d.bucket&&twttr.views.Base.addABTestMethods(c,d.bucket,d.bucket_names)}}(),twttr.decider.bind("keyChanged",twttr.views.Base.onDeciderKeyChange),twttr.abdecider.bind("keyChanged",twttr.views.Base.onABTestKeyChange),twttr.view("twttr.views.BaseAPI").methods({attach:function(a){var b=a.attributes||a;for(var c in b)this[c]=b[c]}}),twttr.view("twttr.views.UserLink").subclassOf(twttr.views.BaseAPI),twttr.view("twttr.views.BaseTweet",function(){twttr.views.BaseAPI.apply(this,arguments),this.user=new twttr.views.BaseUser({attributes:this.user})}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.userActionable).methods({impression_cookie:function(){if(!this.impression_id)return;var a=[];return JSON.stringify([this.id,this.impression_id,this.disclosure_type,this.disclosure_text,a])},full_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp(),!0)},short_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp())},explicit_timestamp:function(){return twttr.helpers.prettyTime(this.actual_timestamp())},actual_timestamp:function(){return twttr.helpers.parseDateString(this.created_at)},linkified_text:function(){if(!this.text)return"";var a=this.text;this.is_withheld()&&this.is_current_user()&&(a=this.withheld_text);if(twttr.decider.isAvailable("geo_place_entities_read")&&this.entities&&this.entities.places){this.entities.places.sort(function(a,b){return b.indices[0]-a.indices[0]});var b=a.length;twttr.each(this.entities.places,function(c){var d=c.indices[0],e=c.indices[1];if(e<=b&&e>d){var f=a.substring(d,e);twttr.txt.extractUrlsWithIndices(f).length===0&&(a=a.substring(0,d)+'<a href="/places/'+h(c.id)+'" target="_blank" '+'class="twitter-place" data-place-id="'+h(c.id)+'">'+f+"</a>"+a.substring(e)),b=d}})}return a=twttr.util.linkify(a,{nofollow:!0}),a=twttr.util.linkifyEntities(a,this),this.render_withheld()&&(this.is_withheld_copyright()?a+='  <a href="'+twttr.router.withheldCopyrightHelpPath()+'" target="_blank">'+_("Learn more")+"</a>":a+='  <a href="'+twttr.router.withheldHelpPath()+'" target="_blank">'+_("Learn more")+"</a>"),this.query?twttr.util.queryHighlight(this.query,a):a},is_withheld:function(){return this.is_tweet_withheld()||this.is_user_withheld()},is_tweet_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="status"},is_user_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_withheld_copyright:function(){return this.is_tweet_withheld_copyright()||this.is_user_withheld_copyright()},is_tweet_withheld_copyright:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="status"&&!!this.withheld_copyright},is_user_withheld_copyright:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"&&!!this.withheld_copyright},is_current_user:function(){return twttr.helpers.isCurrentUser(this.user)},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},render_withheld:function(){return this.is_withheld()&&!this.is_current_user()},is_top_tweet:function(){return this.result_category==="popular"},is_sponsored:function(){return!!this.impression_id},tweet_impression_id:function(){return this.impression_id?Mustache.to_html('data-impression-id="{{id}}" ',{id:this.impression_id}):""},promoted_badge_class:function(){return"badge-"+(this.disclosure_type||"promoted")},social_context:function(){if(this.socialContext&&this.socialContext.length){this.user.socialContext=this.socialContext,this.user.screenName=this.user.screen_name;var a=this.makeSocialContextHtml(this.user,!1);return _('<span class="icon-link social-context">{{{social_context}}}</span>',{social_context:a})}return""},has_native_media:function(){return twttr.Cards.prototype.hasCardPhotoEntities(this)},has_visible_cards:function(){return twttr.Cards.prototype.hasCards(this)},advertiser_name:function(){return this.was_retweeted?this.retweeting_status.user.name:this.user.name},allowed_to_retweet:function(){return!this.user["protected"]&&!twttr.helpers.isCurrentUser(this.user)},retweet_count_text:function(){var a=this.retweet_count;return a===1?_("{{retweet_count}} Retweet",{retweet_count:a}):_("{{retweet_count}} Retweets",{retweet_count:twttr.util.formatNumber(a,twttr.pageLocale)})},activity_count:function(a){var b=this.activities&&this.activities[a]&&this.activities[a]!=="0";return b?"("+this.activities[a]+")":""},favoriter_count:function(){return this.activity_count("favoriters_count")},retweeter_count:function(){return this.activity_count("retweeters_count")},has_retweet_count:function(){return this.retweet_count>0},replier_count:function(){return this.activity_count("repliers_count")},is_retweeted_by_current_user:function(){return!!this.current_user_retweet},is_my_tweet:function(){return twttr.helpers.isCurrentUser(this.user)},show_trashcan:function(){return twttr.helpers.isCurrentUser(this.user)||twttr.admin&&twttr.admin.showTrashcan()},show_not_relevant_action:function(){return twttr.decider.isAvailable("phoenix_search_relevance_not_relevant_action")&&this.result_category==="relevance"},contributor:function(){return this.contributors?this.contributors[0]:null},can_view:function(){return this.user.can_view()},retweet_source_screen_name_link:function(){if(this.retweeting_status){var a=this.retweeting_status.text.match(/^RT @?([0-9A-Za-z_]*):/).pop();return Mustache.to_html("<a href='{{path}}' class='latest-status-retweeted-user'>{{screen_name}}</a>",{path:twttr.router.profilePath({screen_name:a}),screen_name:a})}},css_classes:function(){var a="";return $.each({is_top_tweet:"top-tweet",is_sponsored:"promoted-tweet",current_user_retweet:"retweeted",favorited:"favorited"},twttr.bind(this,function(b,c){if(twttr.is.fn(this[b])?this[b]():this[b])a+=c+" "})),a},permalink_path:function(){return twttr.router.permalinkPath({screen_name:this.user.screen_name,id:this.id})},embed_dialog_permalink_path:function(){return twttr.router.embedDialogPermalinkPath({screen_name:this.user.screen_name,id:this.id})},place_path:function(){return twttr.router.placePath({place_id:this.place.id})},truncated_text:function(){return twttr.helpers.truncate(this.text,50)},can_expand:function(){return twttr.decider.isExpando()},in_reply_to_path:function(){return twttr.router.permalinkPath({screen_name:this.in_reply_to_screen_name,id:this.in_reply_to_status_id})},in_reply_to_name:function(){var a=this.in_reply_to_screen_name,b=this.entities&&this.entities.user_mentions;if(b)for(var c=0,d=b.length;c<d;c++)if(b[c].screen_name===a)return b[c].name;return"@"+a}}),twttr.view("twttr.views.BaseUser",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.i18nTweet).methods({defaultAvatarRegEx:/default_profile_\d/,defaultAvatar:function(a){return this.profile_image_url.match(this.defaultAvatarRegEx)&&this.is_current_user()?a?twttr.assets.path("/images/default_profile_add_photo.png"):twttr.router.settingsProfilePath():!1},raw_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url)},bigger_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},mini_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")},reasonably_small_profile_image_url:function(){return this.defaultAvatar(!0)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"reasonably_small")},right_image_size:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},account_profile_image_path:function(){return"/account/profile_image/"+this.screen_name},description_is_rtl:function(){if(!this.description)return!1;var a=this.getMachedRtlChars(this.description);return a&&this.shouldBeRTL(this.description,a)},linkified_description:function(){var a=this.description;this.is_withheld()&&this.is_current_user()&&(a=this.withheld_description);if(!a)return"";var b=twttr.util.linkifyEntities(twttr.util.linkify(a,{nofollow:!0}),this);return this.query?twttr.util.queryHighlight(this.query,b):b},display_url_or_url:function(){return this.url?twttr.txt.htmlEscape(this.display_url||this.url):""},is_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},is_withheld_copyright:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"&&!!this.withheld_copyright},is_current_user_withheld_copyright:function(){return this.is_withheld_copyright()&&this.is_current_user()},is_current_user:function(){return twttr.helpers.isCurrentUser(this.id)},can_view:function(){return twttr.helpers.canViewUser(this)},is_sponsored:function(){return!!this.promoted_content},promoted_badge_class:function(){return"badge-"+(this.promoted_content.disclosure_type||"promoted")},translation_tool_path:function(){return twttr.decider.isAvailable("i18n_new_translation_center")?"http://translate.twttr.com":this.translate_path()},account_impression_id:function(){var a=this.promoted_content;return a?Mustache.to_html("data-impression-id='{{id}}' ",{id:a.impression_id}):""},feedback_token:function(){return this.feedback?Mustache.to_html("data-feedback-token='{{feedback}}' ",{feedback:this.feedback}):""},mini_profile_image_url:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")}}),twttr.view("twttr.views.StreamTweet",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet).mixin(twttr.mixins.serverRenderableObject).methods({wakeUp:function(){this.initDomNode();var a=this.$node.children().remove();this.$node.html(twttr.views.BaseTweet.prototype.html.call(this,!0)),this.render_withheld()&&this.$node.addClass("withheld-item");var b=$('<div style="display:none;" class="js-old-content" />').append(a);this.$node.append(b);var c=b[0];using(">actionQueueEmpty",function(){c.parentNode.removeChild(c)})},initDomNode:function(){if(this.$node)return;var a=this;this.$node=this.$domNode(function(){return twttr.views.BaseTweet.prototype.html.apply(a,arguments)})},html:function(a){return a&&(this.$node=null),this.initDomNode(),this.preRendered?this.$node.html():twttr.views.Base.prototype.html.apply(this,arguments)},domNodeSelector:function(){var a=this.id;return this.impression_id&&(a+="-promoted"),"#stream-item-tweet-"+a}}),twttr.view("twttr.views.TweetActions",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),twttr.view("twttr.views.TweetDogear",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),twttr.view("twttr.views.DetailsPane").methods({closable:!0,back_label:function(){return this._backLabel},popable:function(){return this._viewstack&&this._viewstack.size()>1},hide:function(){this.$dom.addClass("inactive").removeClass("active"),this.$dom.find("div.tweet-media").trigger("hideMedia"),this.$dom=this.$dom.detach()},show:function(){$(this.selector)[this.operation](this.$dom),this.$dom.find("div.tweet-media").trigger("showMedia"),this.$dom.addClass("active").removeClass("inactive")}}),twttr.view("twttr.views.MessageDrawer").statics({isOpen:!1,close:function(){twttr.views.MessageDrawer.isOpen=!1,$("#message-drawer .message").remove()}}),twttr.view("twttr.views.UserCss",function(){twttr.views.BaseAPI.apply(this,arguments);var a=["profile_background_color","profile_text_color","profile_link_color","profile_sidebar_fill_color"];for(var b=0;b<a.length;b++)this[a[b]]=twttr.helpers.sanitizeCssColor(this[a[b]])}).subclassOf(twttr.views.BaseAPI).methods({rgba_sidebar_color:function(){if(!this.profile_sidebar_fill_color)return;return twttr.helpers.hexToRGBA(this.profile_sidebar_fill_color,"0.9")},rgba_tweet_background_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.1")},rgba_tweet_border_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.15")},rgba_newtweets_background_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.2")},rgba_newtweets_border_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.25")},rgba_text_color:function(){if(!this.profile_text_color)return;return twttr.helpers.hexToRGBA(this.profile_text_color,"0.6")},profile_pretty_link_color:function(){if(!this.profile_link_color)return;return twttr.helpers.blendHexColor(this.profile_link_color,"FFF",.6)},profile_pretty_link_sidebar_color:function(){if(!this.profile_link_color||!this.profile_sidebar_fill_color)return;return twttr.helpers.blendHexColor(this.profile_link_color,this.profile_sidebar_fill_color,.6)}}),twttr.view("twttr.views.UserCssP1",function(){twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss),twttr.view("twttr.views.UserCssT1",function(a){twttr.inputUser=a,twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss).methods({style_namespace:function(){return this.screen_name?this.screen_name:"twttr"},has_hovers_in_css:function(){return!!twttr.hasHoversInCss},colon_hover:function(){return twttr.hasHoversInCss?":hover":""}}),twttr.view("twttr.views.BgImgCss",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI),twttr.view("twttr.views.BaseStats",function(a){twttr.views.BaseUser.apply(this,arguments),a.status&&(this.status=new twttr.views.BaseTweet(a.status),this.status.user=this)}).subclassOf(twttr.views.BaseUser).methods({statuses_count_commaized:function(){return phx.util.formatNumber(this.statuses_count,twttr.pageLocale)},following_nobody:function(a){return this.friends_count===0},friends_count_commaized:function(){return this.screen_name==="toptweets"?_("everyone!"):phx.util.formatNumber(this.friends_count,twttr.pageLocale)},followers_count_commaized:function(){return phx.util.formatNumber(this.followers_count,twttr.pageLocale)},favorites_count_commaized:function(){return this.favourites_count&&parseInt(this.favourites_count,10)>0?phx.util.formatNumber(this.favourites_count,twttr.pageLocale):0},listed_count_commaized:function(){return this.listed_count&&parseInt(this.listed_count,10)>0?phx.util.formatNumber(this.listed_count,twttr.pageLocale):0},can_view:function(){return twttr.helpers.canViewUser(this)},source_impression_id:function(){var a=this.impression_id;return a?Mustache.to_html('data-impression-id="{{id}}" ',{id:a}):""},translator_profile_path:function(){return twttr.decider.isAvailable("i18n_new_translation_center")?this.translation_tool_path()+"/user/"+this.screen_name:this.translation_tool_path()}}),twttr.view("twttr.views.MessageNotification").statics({isOpen:!1,close:function(){twttr.views.MessageNotification.isOpen=!1,$("#message-notification .notification").remove()}}),twttr.view("twttr.views.StreamActivity").statics({maxItems:2,sentences:{favorites:[_("Favorited by {{{screen_name_0}}}"),_("Favorited by {{{screen_name_0}}} and {{{screen_name_1}}}")],retweets:[_("Retweeted by {{{screen_name_0}}}"),_("Retweeted by {{{screen_name_0}}} and {{{screen_name_1}}}")]}}).methods({sentence:function(){var a=this.constructor.sentences[this.item_type],b=this.items.slice(0,this.constructor.maxItems);return!b.length||!a?"":Mustache.to_html(a[b.length-1],twttr.inject(b,{},function(a,b,c){return a["screen_name_"+b]=(new twttr.views.UserLink(c.attributes)).html(),a}))}}),exports()})}),provide("multiGlobals/core_views_t1",function(a){using("util").as(function(b){twttr.view("twttr.views.StreamTweeter",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),a()})}),provide("router_t1",function(a){using("util",">deciderFeaturesFromBootstrap").as(function(b){function i(a){function c(c){var d=twttr.app.switchToPage(a);d&&b&&d.send(b,Array.prototype.slice.apply(arguments))}var b;return c.action=function(a){return this.actionName=b=a,c},c.pageName=a,c}function j(a,b,d){c("hashbang"+twttr.util.capitalize(a),"/#!"+b,function(){twttr.themes.loadLoadingTheme(),twttr.Router.performRedirect(d||b)})}function k(a,b){j(a,b),c(a,b,$.noop)}function l(a,b){var c=(twttr.isLocalhost?"":"https://"+location.hostname)+b;j(a,b,c),d(a,c)}function m(a,b,d,e,f){var g=n(e)?f:b;twttr.router.swiftRoutes[a]={decider:e,path:f},c(a,g,d)}function n(a){var b=twttr.util.params(window.location.search);return twttr.is.def(b.render_on_server)?b["render_on_server"]=="1"||b["render_on_server"]=="true":twttr.decider.isAvailable(a)}function o(a){return twttr.loggedIn?a.loggedIn:a.loggedOut||p()}function p(){return twttr.ScribeBuffer&&twttr.ScribeBuffer.instance.send(),i("Login").action("loginRequired")}function q(){var a=twttr.router.shouldRedirectToCanonicalUrl(twttr.router.getCurrentRoute());if(a)return twttr.router.routingEnabled=!1,window.location.replace(a),!0}twttr.router=new twttr.Router;var c=twttr.bind(twttr.router,twttr.router.route),d=twttr.bind(twttr.router,twttr.router.staticRoute),e=twttr.bind(twttr.router,twttr.router.redirectRoute);twttr.router.bind("routeAdded",function(a,c,d){twttr.views.Base.method(b.util.underscore(c),function(){return d(this)})}),k("about","/about"),k("jobs","/jobs"),k("tos","/tos"),k("privacy","/privacy"),k("deactivated","/account/deactivated"),k("deactivate","/account/deactivate"),k("suspendedHelp","/account/suspended_help"),k("suspended","/suspended"),k("settings","/settings/account"),k("design","/settings/design"),k("settingsProfile","/settings/profile"),k("devices","/devices"),k("invitationEmailPreview","/invitations/email_preview"),k("campaigns","/account/campaigns"),k("resources","/about/resources"),k("translate","/translate"),k("whatsNew","/newtwitter"),k("changeLocale","/sessions/change_locale"),k("resendPassword","/account/resend_password"),k("mobileComplete","/account/complete"),k("turnPhxOff","/account/use_phx?setting=false&format=html"),k("mobileGallery","/download"),e("terms","/#!/terms","tos"),e("admin","/#!/admin","home"),l("sessions","/sessions?phx=1"),l("signup","/signup"),m("login","/#!/login",i("login").action("index"),"swift_login","/login"),m("sessionsNew","/#!/sessions/new",i("login").action("index"),"swift_login","/sessions/new"),m("loginRedirect","/#!/login/redirect/:redirect_after_login",i("login").action("index"),"swift_login","/login/redirect/:redirect_after_login"),m("loginError","/#!/login/:error",i("login").action("error"),"swift_login","/login/:error"),c("logout","/#!/logout",i("logout").action("index")),k("logout_action","/logout"),d("support","//support.twitter.com"),d("blog",twttr.localize({ja:"http://blog.jp.twitter.com",es:"http://blog.es.twitter.com",fr:"http://blog.fr.twitter.com",de:"http://blog.de.twitter.com",pt:"http://blog.pt.twitter.com",ko:"http://blog.kr.twitter.com",it:"http://blog.it.twitter.com",ru:"http://blog.ru.twitter.com"},"http://blog.twitter.com")),d("status",twttr.localize({ja:"http://status.twitter.jp"},"http://status.twitter.com")),d("developers","//dev.twitter.com"),d("businesses","//business.twitter.com/index_"+twttr.pageLocale+".html"),d("advertisers","//business.twitter.com/"+twttr.pageLocale+"/advertise/start"),d("partnerships","http://media.twitter.com"),d("helpPromotedTweets","//support.twitter.com/articles/142101"),d("helpPromotedAccounts","//support.twitter.com/articles/282154"),d("helpPromotedTrends","//support.twitter.com/articles/282142"),d("spamLearnMore","//support.twitter.com/articles/64986-how-to-report-spam-on-twitter"),d("malwareLearnMore","//support.twitter.com/articles/90491-my-website-is-being-flagged-as-malware-or-spam"),d("suspendedLearnMore","//support.twitter.com/articles/15790-my-account-is-suspended"),d("dailyLimitLearnMore","//support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following"),d("savedSearchesHelp","//support.twitter.com/articles/96646-how-to-save-searches"),d("listsHelp","//support.twitter.com/articles/76460-how-to-use-twitter-lists"),d("emailHelp","//support.twitter.com/articles/82050-i-m-having-trouble-confirming-my-email"),d("changeEmail","//twitter.com/settings/account?change_email=true"),d("mobile","//mobile.twitter.com"),d("mobileHelp","//support.twitter.com/groups/34-mobile"),d("mobileHelpFaq","//support.twitter.com/groups/34-mobile/topics/123-getting-started/articles/14014-twitter-phone-faqs"),d("shortCodeHelp","//support.twitter.com/articles/14226-how-to-find-your-twitter-short-code"),d("smsHelp","//support.twitter.com/articles/14020-about-twitter-sms-commands"),d("pushHelp","//support.twitter.com/articles/20169887"),d("helpDiscovery","//support.twitter.com/articles/14022"),d("analytics","//analytics.twitter.com/"),d("turkeySupport","https://support.twitter.com/articles/20156423"),d("flagTurkeySupport","https://support.twitter.com/articles/20069937"),d("twirefoxSupport","https://support.twitter.com/articles/20167003-about-firefox-with-twitter"),d("tweetIntent","https://twitter.com/share"),d("withheldCopyrightHelp","https://support.twitter.com/articles/15795"),d("withheldHelp","https://support.twitter.com/articles/20169222"),d("followLimitReachedLearnMore","https://support.twitter.com/articles/66885"),d("blockedFromFollowingLearnMore","https://support.twitter.com/articles/117063"),d("listNameErrorLearnMore","https://support.twitter.com/articles/20169276"),d("cookiePersonalizationLearnMore","https://support.twitter.com/articles/20169421"),d("embedDocumentation","//dev.twitter.com/docs/embedded-tweets"),d("directMessageLearnMore","http://support.twitter.com/groups/31-twitter-basics/topics/109-tweets-messages/articles/14606-what-is-a-direct-message-dm"),m("home","/#!/",o({loggedIn:i("home").action("home"),loggedOut:i("front").action("index")}),"swift_home_timeline","/"),m("homeIndex","/#!/",o({loggedIn:i("home").action("home"),loggedOut:i("front").action("index")}),"swift_home_timeline","/"),c("savedSearches","/#!/saved-search",o({loggedIn:i("home").action("savedSearches")})),c("listsFollowingYou","/#!/lists/memberships",o({loggedIn:i("home").action("memberships")})),c("listsYouFollow","/#!/lists/subscriptions",o({loggedIn:i("home").action("subscriptions")})),c("messages","/#!/messages",o({loggedIn:i("home").action("messages")})),c("messageCreate","/#!/messages/create/:screen_name",o({loggedIn:i("home").action("messages")})),c("inbox","/#!/inbox",o({loggedIn:i("home").action("messages")})),c("sent","/#!/sent",o({loggedIn:i("home").action("messages")})),c("createDm","/#!/direct_messages/create/:screen_name",o({loggedIn:i("home").action("messages")}));if(twttr.griffin&&twttr.griffin.current){for(var f=0;f<twttr.griffin.current.length;f++){var g=twttr.griffin.current[f];k(g+"Static","/hashtag/"+g),e(g,"/#"+g,g+"Static")}c("searchNoReroute","/#!/search/:query/show",i("search").action("searchShow")),c("eventsGrid","/#!/hashtag/:query/grid/:mode",i("eventsMediaGallery").action("grid")),c("eventsSlideshow","/#!/hashtag/:query/slideshow/:mode",i("eventsMediaGallery").action("slideshow"))}e("retweetsByOthers","/#!/retweets_by_others","connect"),e("retweetsOfMine","/#!/retweeted_of_mine","connect"),c("rateLimit","/#!/twttr/rate_limit",i("rateLimit").action("tooMuch")),m("discover","/#!/i/discover",o({loggedIn:i("discover").action("discover")}),"swift_discover","/i/discover"),c("networkActivity","/#!/activity",o({loggedIn:i("discover").action("networkActivity")})),c("whoToFollow","/#!/who_to_follow",o({loggedIn:i("discover").action("suggestions")})),c("whoToFollowSuggestions","/#!/who_to_follow/suggestions",o({loggedIn:i("discover").action("suggestions")})),c("whoToFollowSuggestionsSearch","/#!/who_to_follow/suggestions/search/:query",o({loggedIn:i("discover").action("suggestions_search")})),c("whoToFollowSuggestionsSearchForm","/#!/who_to_follow/suggestions/search/",o({loggedIn:i("discover").action("suggestions_search")})),c("whoToFollowImport","/#!/who_to_follow/import",o({loggedIn:i("discover").action("find_friends")})),c("whoToFollowImportMatches","/#!/who_to_follow/matches",o({loggedIn:i("discover").action("matches")})),c("whoToFollowImportSearch","/#!/who_to_follow/import/search/:query",o({loggedIn:i("discover").action("find_friends_search")})),c("whoToFollowImportSearchForm","/#!/who_to_follow/import/search/",o({loggedIn:i("discover").action("find_friends_search")})),c("whoToFollowInterests","/#!/who_to_follow/interests",o({loggedIn:i("discover").action("interests")})),c("whoToFollowInterestsSearch","/#!/who_to_follow/interests/search/:query",o({loggedIn:i("discover").action("interests_search")})),c("whoToFollowInterestsSearchForm","/#!/who_to_follow/interests/search",o({loggedIn:i("discover").action("interests_search")})),c("whoToFollowInterestsCategory","/#!/who_to_follow/interests/:category",o({loggedIn:i("discover").action("category")})),c("governmentSearchByZip","/#!/who_to_follow/government_by_zip/:zipCode",o({loggedIn:i("discover").action("government_by_zip")})),c("personalizationPreview","/#!/who_to_follow/web_personalized",i("WebPersonalizationPreview").action("preview")),c("searchHome","/#!/search-home",i("searchHome").action("index")),c("searchAdvanced","/#!/search-advanced",i("searchHome").action("advanced")),c("searchRealtime","/#!/search/realtime/:query",i("search").action("realtime")),c("searchTimeline","/#!/search/timeline/:query",i("search").action("timeline")),c("formSearchResults","/#!/search",i("search").action("search")),c("searchResults","/#!/search/:query",i("search").action("search")),c("userSearch","/#!/search/users/:query",i("search").action("people")),c("savedSearch","/#!/saved-search/:query",i("search").action("search")),c("searchFacetsGrid","/#!/search/:query/grid/:mode",i("facetsMediaGallery").action("grid")),c("searchFacetsSlideshow","/#!/search/:query/slideshow/:mode",i("facetsMediaGallery").action("slideshow")),c("searchFacetsGridDefault","/#!/search/:query/grid",i("facetsMediaGallery").action("grid")),c("searchFacetsSlideshowDefault","/#!/search/:query/slideshow",i("facetsMediaGallery").action("slideshow")),c("place","/#!/places/:place_id",i("PlaceT1").action("tweets")),c("trends","/#!/trends",i("trends").action("trends")),m("connect","/#!/i/connect",o({loggedIn:i("Connect").action("connect")}),"swift_interactions","/i/connect"),m("mentions","/#!/mentions",o({loggedIn:i("Connect").action("mentions")}),"swift_mentions","/mentions"),m("replies","/#!/replies",o({loggedIn:i("Connect").action("mentions")}),"swift_mentions","/replies"),m("permalink","/#!/:screen_name/status/:id",i("permalink").action("permalink"),"swift_permalink","/:screen_name/status/:id"),m("permalinkOld","/#!/:screen_name/statuses/:id",i("permalink").action("permalink"),"swift_permalink","/:screen_name/statuses/:id"),m("photoPermalink","/#!/:screen_name/status/:id/photo/:photo_index",i("permalink").action("permalink"),"swift_permalink","/:screen_name/status/:id/photo/:photo_index"),m("bigPhotoPermalink","/#!/:screen_name/status/:id/photo/:photo_index/large",i("bigPhotoPermalink").action("permalink"),"swift_permalink","/:screen_name/status/:id/photo/:photo_index/large"),c("embedDialogPermalink","/#!/:screen_name/status/:id/embed",i("permalink").action("permalinkWithEmbedDialog")),c("welcome","/#!/welcome",o({loggedIn:i("welcome").action("welcome")})),c("welcomeSearch","/#!/welcome/search/:query",o({loggedIn:i("welcome").action("search")})),c("welcomeSearchTop","/#!/welcome/search_top/:query",o({loggedIn:i("welcome").action("searchTop")})),c("welcomeSearchForm","/#!/welcome/search",o({loggedIn:i("welcome").action("search")})),c("welcomeIntro","/#!/welcome/intro",o({loggedIn:i("welcome").action("intro")})),c("welcomeInterests","/#!/welcome/interests",o({loggedIn:i("welcome").action("interests")})),c("welcomeInterestsCategory","/#!/welcome/interests/:category",o({loggedIn:i("welcome").action("category")})),c("welcomeImport","/#!/welcome/import",o({loggedIn:i("welcome").action("import")})),c("welcomeImportMatches","/#!/welcome/matches",o({loggedIn:i("welcome").action("matches")})),c("welcomeRecommendations","/#!/welcome/recommendations",o({loggedIn:i("welcome").action("recommendations")})),c("welcomeResurrect","/#!/welcome/return",o({loggedIn:i("welcome").action("resurrect")})),c("welcomeProfile","/#!/welcome/profile",o({loggedIn:i("welcome").action("profile")})),m("followers","/#!/followers",o({loggedIn:i("profile").action("followers")}),"swift_followers","/followers"),m("following","/#!/following",o({loggedIn:i("profile").action("following")}),"swift_following","/following"),m("favorites","/#!/favorites",o({loggedIn:i("profile").action("favorites")}),"swift_favorites","/favorites"),m("friends","/#!/friends",o({loggedIn:i("profile").action("following")}),"swift_following","/following"),m("lists","/#!/lists",o({loggedIn:i("profile").action("lists")}),"swift_lists","/lists"),m("followersYouFollow","/#!/:screen_name/followers_you_follow",i("profile").action("followersYouFollow"),"swift_followers_you_follow","/:screen_name/followers_you_follow"),m("profile","/#!/:screen_name",i("profile").action("profile"),"swift_profile","/:screen_name"),m("profileWithReplies","/#!/:screen_name/with_replies",i("profile").action("with_replies"),"swift_profile","/:screen_name/with_replies"),m("userFavorites","/#!/:screen_name/favorites",i("profile").action("favorites"),"swift_favorites","/:screen_name/favorites"),m("userFollowers","/#!/:screen_name/followers",i("profile").action("followers"),"swift_followers","/:screen_name/followers"),c("userMediaGrid","/#!/:screen_name/media/grid",i("userMediaGallery").action("grid")),c("userMediaSlideshow","/#!/:screen_name/media/slideshow",i("userMediaGallery").action("slideshow")),m("userFollowing","/#!/:screen_name/following",i("profile").action("following"),"swift_following","/:screen_name/following"),c("userLists","/#!/:screen_name/userlists",i("profile").action("lists")),m("memberships","/#!/:screen_name/lists/memberships",i("profile").action("memberships"),"swift_lists","/:screen_name/lists/memberships"),m("subscriptions","/#!/:screen_name/lists",i("profile").action("allLists"),"swift_lists","/:screen_name/lists"),m("followerRequests","/#!/:screen_name/follower_requests",i("profile").action("followerRequests"),"swift_follower_requests","/:screen_name/follower_requests"),m("similarTo","/#!/similar_to/:screen_name",i("profile").action("similarTo"),"swift_similar_to","/similar_to/:screen_name"),c("userList","/#!/:screen_name/:list_slug",i("list").action("list")),c("listMembers","/#!/:screen_name/:list_slug/members",i("list").action("members")),c("listSubscribers","/#!/:screen_name/:list_slug/subscribers",i("list").action("followers")),q()||(twttr.router.bind("routeFollowed",q),a())})}),provide("audit",function(a){using().as(function(b){twttr.klass("twttr.AuditTrail",function(){this.array=[]}).methods({MAX_LENGTH:20,add:function(a){this.array.unshift(a),this.array.length>this.MAX_LENGTH&&(this.array=this.array.slice(0,this.MAX_LENGTH))},trail:function(){return this.array},currentPage:function(){return this.page(0)},currentAction:function(){return this.action(0)},currentPath:function(){return this.path(0)},page:function(a){var b=this._routes();return b[a]&&b[a].page},action:function(a){var b=this._routes();return b[a]&&b[a].action},path:function(a){var b=this._routes();return b[a]&&b[a].path},_routes:function(){return twttr.filter(this.array,function(a,b){return a.type==="route"})}}),twttr.audit=new twttr.AuditTrail,twttr.router.bind("routeFollowed",function(a,b,c){var d=b.fn.pageName;twttr.audit.add({action:b.fn.actionName,page:d,path:c,type:"route"}),window.sessionStorage&&sessionStorage.setItem("ScribeTransport.internal_referer",c);var e=$("#doc").removeClass();d&&e.addClass("route-"+d.replace(/_/g,"-"))}),a(twttr.audit)})}),provide("multiGlobals/ClickTrail",function(a){using("util").as(function(b){twttr.klass("twttr.ClickTrail",function(){this.array=[]}).methods({MAX_LENGTH:5,add:function(a){this.array.unshift(a),this.array.length>this.MAX_LENGTH&&(this.array=this.array.slice(0,this.MAX_LENGTH))},lastClick:function(){if(this.array.length)return this.array[0].eventName},trail:function(){return this.array}}),twttr.clicks=new twttr.ClickTrail,twttr.app.waitForSignal("init",function(){$("body").mousedown(function(a){var c=$(a.target),d=c.closest("[data-element-term]"),e=c.closest("[data-component-term]"),f=c.closest("[data-section-term]"),g=twttr.Scribbler.getElementEventNameTerms(c),i=twttr.audit.currentPage(),j=c.closest("[href]").attr("href");g.section||(g.section=b.util.underscore(twttr.audit.currentAction())),g.component&&g.section&&i&&(g.client="web",g.page=b.util.underscore(i),g.action="navigate",twttr.clicks.add({eventName:twttr.Scribbler.clientAppEventNameGenerator(g),eventTerms:g,path:j,target:c}))}),twttr.router.bind("routeFollowed",function(a,b,c){var d=twttr.clicks.trail()[0];d&&d.path==c&&trackClient(d.eventTerms,{url:c})})}),a(twttr.clicks)})}),provide("run/defaultViews",function(a){using().as(function(b){using(">payload",function(){twttr.payload.conditionalTemplates&&($.each(twttr.payload.conditionalTemplates,function(a,b){twttr.templates[a]=b}),twttr.views.makeDefaultViews(twttr.templates))}),twttr.views.makeDefaultViews(twttr.templates),a()})}),provide("TrendLocations",function(a){using("_","constants").as(function(b,_){twttr.klass("twttr.TrendLocations",function(a){this.getLocation(a)}).statics({LOGGED_OUT_TREND_LOCATION_COOKIE:"trend_location",install:function(a){twttr.trendLocations?twttr.trendLocations.getLocation(a):twttr.trendLocations=new twttr.TrendLocations(a)}}).methods({getLocation:function(a){var b=this;twttr.API.Trend.locations({lang:twttr.pageLocale,success:function(c){b.all=c;if(twttr.currentUser)twttr.currentUser.trendLocation().first(function(c){c?b.current=c:b.current=b.worldwide(),a(b.current)});else{var d=parseInt($.cookie(b.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE),10);b.current=b.locationForWoeid(d)||b.worldwide(),a(b.current)}}})},allLocations:function(){return this.all.array},ancestorsOf:function(a){if(!a.parentid)return[];var b=this.locationForWoeid(a.parentid);return[b].concat(this.ancestorsOf(b))},withAncestorsOf:function(a){return[a].concat(this.ancestorsOf(a))},currentAncestors:function(){return this.ancestorsOf(this.current)},withCurrentAncestors:function(){return this.withAncestorsOf(this.current)},withFilterAncestors:function(){return this.withAncestorsOf(this.currentFilter())},childrenOf:function(a){return twttr.filter(this.allLocations(),function(b){return b.parentid===a.woeid})},currentChildren:function(){return this.current.isPersonalized?this.childrenOf(this.currentFilter(this.worldwide())):this.childrenOf(this.currentFilter())},locationForWoeid:function(a){return a?twttr.filter(this.allLocations(),function(b){return b.woeid==a})[0]:null},locationsForWoeids:function(a){var b=this;return twttr.map(a,function(a){return b.locationForWoeid(a)})},worldwide:function(){return this.locationForWoeid(1)},currentFilter:function(a){var c=a||this.current;return c.placeType.code===b.constants.placeTypes.city||this.childrenOf(c).length===0?this._currentFilterWoeid=c.parentid:this._currentFilterWoeid=c.woeid,this.locationForWoeid(this._currentFilterWoeid)},setPersonalized:function(a){this.current=$.extend(this.current,{isPersonalized:a})},setCurrent:function(a){this.current=this.locationForWoeid(a.woeid)||this.current,this.setPersonalized(a.isPersonalized),twttr.currentUser?twttr.currentUser.setTrendLocation(a.woeid,a.isPersonalized):(twttr.API.CurrentUser.trigger("changedLocation_success"),$.cookie(this.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE,a.woeid)),scribble("switch-trend-location",{woeid:a.woeid,input:"click",origin:a.origin})}}),a(twttr.TrendLocations)})}),provide("mixins/sideNavigationT1",function(a){using().as(function(b){var c=twttr.klass.mixin(function(){this.methods({selectCurrentSideNav:function(){this.selectSideNav(twttr.router.getCurrentRoute().name)},selectSideNav:function(a){var b=this.$find("li.js-sidenav-link[data-name='"+a+"']");this.$find("li.js-sidenav-link").removeClass("active"),b.length&&b.addClass("active")},setSideNavBadge:function(a,b){var c=$(document).find("li.js-sidenav-link a[href='"+a+"']");c.find('[class="unread"]').remove(),b&&c.append('<i class="unread"><i>')}})});a(c)})}),provide("components/PagePromise",function(a){using("mixins/serverRenderableObject").as(function(b,c){twttr.klass("twttr.PagePromise",function(a){this._queue=[],this._unavailableQueue=[],this._isUnavailable=!1,this._name=a,this.pageNodeId="page-node-"+twttr.util.underscore(a),this.$node=this.$domNode("<div/>")}).mixin(c).methods({domNodeSelector:function(){return"#"+this.pageNodeId},build:function(){var a=this,b=twttr.components.pages[this._name];b?a._build(a._name):using(twttr.bundleMore,function(){a._build(a._name)})},send:function(a,b,c,d){typeof b=="function"&&(error=c,c=b,b=[]);var e={name:a,args:b,cb:c,missing:d};this._instance?this._execute(e):this._enqueue(e)},getInstanceProperty:function(a){if(this._instance&&this._instance[a])return this._instance[a]},bind:function(){this.send("bind",Array.prototype.slice.apply(arguments))},one:function(){this.send("one",Array.prototype.slice.apply(arguments))},trigger:function(){this.send("trigger",Array.prototype.slice.apply(arguments))},$find:function(){return this.$node.find.apply(this.$node,arguments||[])},_build:function(a){var b=twttr.components.pages[a];b?(this._instance=new b(this.$node,this.preRendered),b.isAvailable()?this._flush():this._unavailable()):this._unavailable()},whenUnavailable:function(a){this._isUnavailable?a():this._unavailableQueue.push(a)},_unavailable:function(){this._isUnavailable=!0;for(var a=0;a<this._unavailableQueue.length;a++)this._unavailableQueue[a].call(null);this._unavailableQueue=[]},_enqueue:function(a){this._queue.push(a)},_execute:function(a){var b=this._instance[a.name];if(b){var c=b.apply(this._instance,a.args||[]);a.cb&&a.cb.call(null,c)}else a.missing&&a.missing.apply(null)},_flush:function(){for(var a=0;a<this._queue.length;a++)this._execute(this._queue[a]);this._queue=[]}}),a()})}),provide("components/Page",function(a){using(twttr.isT1?"mixins/sideNavigationT1":"mixins/sideNavigationP1","util","constants","mixins/serverRenderableObject").as(function(b,c){twttr.klass("twttr.components.Page",function(a,b){var c=this._namespace.match(/\.([^.]+)$/)[1];this.pageNameUnderscore=twttr.util.underscore(c),this.$node=a||this.$domNode("<div/>"),this.preRendered=!!b,b||signal(">wokeUp"),this._isOpen=!1,this.initComponentEvents()}).statics({view:function(a){return this.prototype._View=a,this},containerCssClass:function(a){return this._containerCssClass=a,this},deciderKey:function(a){return this._deciderKey=a,this},isAvailable:function(){return!this._deciderKey||twttr.decider.isAvailable(this._deciderKey)}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).mixin(b.mixins.serverRenderableObject).methods({_isActive:function(){return twttr.app.currentPageName().toLowerCase()===this.constructor._name.toLowerCase()},$find:function(){return this.$node.find.apply(this.$node,arguments)},keyevent:function(a,c){if(twttr.helpers.isModifier(a))return;var d;a.keyCode===b.constants.keyCodes.esc?d="esc":a.keyCode===b.constants.keyCodes.enter?d="return":a.which===b.constants.which.period?d="period":a.keyCode===b.constants.keyCodes.leftArrow?d="left":a.keyCode===b.constants.keyCodes.rightArrow?d="right":a.keyCode===b.constants.keyCodes.upArrow?d="up":a.keyCode===b.constants.keyCodes.downArrow?d="down":d=String.fromCharCode(a.which).toLowerCase();if(this["_"+c]&&this["_"+c][d]&&(a.which<111||a.which>118)&&!twttr.shortcuts.currentKey)return this["_"+c][d].call(this,a)},render:function(a){this.beforeRender();var b=$.extend(this.viewData(),a);return this.preRendered||(this.$node.empty(),twttr.development&&!this._View&&console.log("Missing view for page "+this.constructor.name),this.$node.html((new this._View(b)).html())),this.afterRender(),this.trigger("rendered",[this]),this},onkeydown:function(a){this.keyevent(a,"keydown")},onkeypress:function(a){this.keyevent(a,"keypress")},onkeyup:function(a){this.keyevent(a,"keyup")},addContainerComponent:function(a,b,c){c==null?a.append(b.$node):twttr.is.number(c)?a.children(":nth-child("+c+")").before(b.$node):a[c](b.$node),b.bind("notRendered",twttr.bind(this,function(a){this.componentNotRendered(b,a)})),b.trigger("addedToPage",[b])},addTopContentComponent:function(a,b){this.$topContent||(this.$topContent=this.$find("div.js-content-top")),this.addContainerComponent(this.$topContent,a,b)},addDashboardComponent:function(a,b){this.$dashboard||(this.$dashboard=this.$find(".dashboard")),a&&this.addContainerComponent(this.$dashboard,a,b)},addDashboardComponents:function(a){var b=this;twttr.each(a,function(a){b.addDashboardComponent(a)})},componentNotRendered:function(a,b){},updatePageTitle:function(a){twttr.isPreflight&&(a="PREFLIGHT :: "+a),this._pageTitle=a,this._isActive()&&(document.title=a)},hasNewItems:function(a){a?($("#global-actions .active").addClass("new"),document.title="("+a+") "+this._pageTitle):($("#global-actions .active").removeClass("new"),document.title=this._pageTitle)},shouldAutoRender:function(){return!this.noAutoRender},addImpressionData:function(a){}}),twttr.klass.page=function(a,b){return twttr.klass(a,b).subclassOf(twttr.components.Page)},$.each(["beforeRender","afterRender","onFirstSwitch","viewData","onSwitchAway","onSwitchTo"],function(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1),d="_"+b;twttr.components.Page["add"+c]=function(a){var b=[],c=this.prototype[d];if(c)for(var e=0;e<c.length;e++)b.push(c[e]);return b.push(a),this.prototype[d]=b,this},twttr.components.Page.prototype[b]=function(){var a=this,b={};return $.each(this[d]||[],function(c,d){twttr.aug(b,d.call(a))}),b}}),twttr.components.Page.addOnSwitchTo(function(){this.constructor._containerCssClass&&$("#page-container").addClass(this.constructor._containerCssClass)}).addOnSwitchAway(function(){this.constructor._containerCssClass&&$("#page-container").removeClass(this.constructor._containerCssClass),$("div.tipsy").remove()}).addBeforeRender(function(){$("div.tipsy").remove()}).addAfterRender(function(){this.$topContent=this.$find("div.js-content-top"),$("div.tipsy").remove()}).addBeforeRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?twttr.isRendering+1:1}).addAfterRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?twttr.isRendering-1:0}).addAfterRender(function(){twttr.currentUser&&twttr.currentUser.facebookProfileId&&window.setTimeout(function(){if($("#facebook-token").length==0){var a=$('<iframe style="display: none"/>');a.attr("src","/settings/facebook/token?profile_id="+twttr.currentUser.facebookProfileId),$("body").append(a)}},3e3)}).mixin(twttr.mixins.listActionable,c).click({"[data-modal='list-new']":function(a,b){(new twttr.widget.ListDialog({})).open(),trackElement(b,"click")}}),a(twttr.components.Page)})}),provide("components/pages/mixins/homeT1",function(a){using("util","mixins/t1/emptyTimelineRecommendations").as(function(b,c,d){var e=twttr.klass.mixin("twttr.components.pages.mixins.homeT1",function(){this.view(twttr.views.Page),this.methods({insertTweetbox:twttr.util.noopInT1,insertPromptbirdPrompt:function(){var a=this;using([twttr.bundleMore,"promptbird"]).as(function(a){var b=a.promptbird.getPrompt();if(!b)return;var c=a.promptbird.renderComponentFromPrompt(b);if(!c)return;var d="#js-promptbird-"+b.prompt.format.replace(/_/g,"-")+"-hook";$(d).html(c.$node)})},selectDashboardComponents:function(){return this.trendsComponent=new twttr.components.Trends,[new twttr.components.PromptbirdDashboardPlaceholder,new twttr.components.t1.dashboard.MiniHomeProfile(!0),twttr.at("twttr.currentUser.protected")&&new twttr.components.FollowerRequestLink,new twttr.components.JapaneseAd,new twttr.components.UserRecommendations({showLinks:twttr.decider.isAvailable("wtf_home_timeline_show_links")}),this.trendsComponent,new twttr.components.Footer]},getTweetBoxOptions:function(){return{condensedContent:_("Compose new Tweet..."),autocompleteSuggestionLimit:twttr.isT1?5:10}},home:function(a,b){var c=this,e=twttr.util.params().badLinkRecipient;e&&!this.warnedOfBadLink&&(this.warnedOfBadLink=!0,twttr.API.User.find(+e,function(a){twttr.showError(_("Sorry, you must be logged in as @{{screenName}} to use this link!",a))})),this.selectCurrentSideNav(),this.insertEmptyTimeline({reloadStream:!0,onDestroyCb:function(){c.trigger("emptyTimelineModuleDestroyed")}}),this.waitForSignal("emptyTimelineModuleLogicCompleted",function(){var a=c.$find('.component[data-component-term="user_recommendations"]'),b=function(){a.length===1&&(d.showing?a.hide():a.show())};b(),c.bind("emptyTimelineModuleDestroyed",function(){b()})}),this.loadPage(_("Twitter / Home"),"home","Home"),this.insertPromptbirdPrompt(),this._maybeShowReplyDialog(b)},networkActivity:function(a){this.selectCurrentSideNav(),this.loadPage(_("Twitter / Activity"),"activity","ActivityByNetworkStream")},memberships:function(a){var b=this;this.selectSideNav("lists"),this.loadPage(_("Twitter / Lists following you"),"listFollowingYou","Memberships",{screenName:twttr.currentUser.screenName})},subscriptions:function(a){var b=this;this.selectSideNav("lists"),this.loadPage(_("Twitter / Lists you follow"),"listYouFollow","AllSubscriptions",{screenName:twttr.currentUser.screenName})},messages:function(a){var b=this;using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(c,d){b.home(a),a.screen_name?(new d(twttr.widget.DirectMessageDialog.views.conversation,a.screen_name)).open():(new d).open()})},savedSearches:function(a){this.selectCurrentSideNav(),this.loadPage(_("Twitter / Saved Searches"),"savedSearches","SavedSearches")}})});a(e)})}),provide("components/pages/Home",function(a){using("_",twttr.isT1?"components/pages/mixins/homeT1":"components/pages/mixins/homeP1",twttr.isT1?"mixins/t1/emptyTimelineRecommendations":"mixins/emptyTimelineRecommendations","util","constants").as(function(b,_,c,d){var e=twttr.klass("twttr.components.pages.Home").subclassOf(twttr.components.Page).mixin(twttr.mixins.streamablePage,twttr.mixins.welcomeScribing,d).view(twttr.views.HomePage).containerCssClass("home-container").addOnSwitchTo(function(){var a=this;using([twttr.bundleMore,"TweetBox"],function(){a._hasRendered&&a.insertTweetbox(),twttr.TweetBox.bind("tweetSuccess",function(b,c){var d=a.streamManager.getCurrent().trigger("didTweet",[c])})});var b=twttr.currentUser.states;if(b&&b.pending_email&&!$.cookie("abtest_email_verification_18")){var c=twttr.abdecider.choose("email_verification-18",!0);c&&c!="control"&&using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.verifyEmail(c).open()})}this.scrollTop&&twttr.$win.scrollTop(this.scrollTop),$(".promptbird").show(),this.maybeScribeWelcomeSkip()}).addOnSwitchAway(function(){using([twttr.bundleMore,"TweetBox"],function(){twttr.TweetBox.unbind("tweetSuccess")}),$(".promptbird").hide()}).addViewData(function(){return{current_user_screen_name:twttr.currentUser.screenName}}).methods({loadPage:function(a,b,c,d){function f(){e.streamManager.switchTo(twttr.streams[c],d||{})}var e=this;this.updatePageTitle(a),twttr.themes.loadCurrentUserStyle(),twttr.streams[c]?f():(this.streamManager.switchOut(),using(twttr.bundleMore,function(){f()})),b&&(this.focusStreamTab(b),b=="home"&&twttr.currentUser.friendsCount==0&&twttr.abdecider.choose("show_wtf_recs_in_timeline_105",true)=="show_wtf"&&this.$find(".stream-tab.stream-tab-home.active a").text("Who To Follow")),this.unfocusStreamItem(),twttr.components.JapaneseAd&&twttr.components.JapaneseAd.refreshAds(),twttr.isT1||trackClient({action:"impression"})},shouldShowSubtabs:function(){return window.location.search.match(/subtabs\=1/)},componentNotRendered:function(a,b){a._namespace=="twttr.components.UserRecommendations"&&this.$dashboard.find("div.trends-inner").addClass("wide-trends")},onFirstSwitch:function(){using([twttr.bundleMore,"photo/turkey"],function(){twttr.decider.isAvailable("turkey")&&twttr.turkey.showFirstTimeTurkey()})},getTweetbox:function(){return this.tweetBox},_maybeShowReplyDialog:function(a){a&&a.in_reply_to_status_id&&a.screen_name&&(defaultContent=a.status||"",using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.reply({tweetId:a.in_reply_to_status_id,screenName:a.screen_name,dataFields:{defaultContent:defaultContent,multiple:defaultContent.split(/@/).length>2}}).open()}),$.browser.msie||window.location.replace(twttr.router.homePath()))},insertPromptbirdPrompt:function(){var a=this;using([twttr.bundleMore,"promptbird"]).as(function(b){var c=twttr.promptbird.getPrompt();if(!c)return;var d=twttr.promptbird.renderComponentFromPrompt(c);if(!d)return;switch(c.prompt.format){case"dashboard_narrow":a.addDashboardComponent(d,1);break;case"below_black_bar":a._isActive()&&twttr.app.addComponentToAppBody(d)}})},scrollEnd:function(a){this.scrollTop=a,a>100&&twttr.components.pages.Home.scribeScroll&&(trackClient({action:"scroll"}),twttr.components.pages.Home.scribeScroll=!1)}}).addAfterRender(function(){var a=this;this._hasRendered=!0,using([twttr.bundleMore,"TweetBox"],function(){a.insertTweetbox()}),using(twttr.bundleMore,function(){a.preRendered&&a.$find("div.dashboard, section.dashboard").empty(),a.addDashboardComponents(a.selectDashboardComponents()),a.signal("dashboardComponentsAdded")}),this.waitForSignal("dashboardComponentsAdded",function(){a.insertPromptbirdPrompt()})}).click({".done-right":function(a,b){twttr.currentUser.friendsCount>0?(twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is following accounts"),window.location="/"):(twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is not following any accounts"),this.$find(".stream-tab.stream-tab-home.active a").text("Timeline"),this.$find(".stream-title").css("border-bottom","none"),this.loadPage(_("Twitter / Home"),"home","Home"))}});e.mixin(c),a(e)})}),provide("themes",function(a){using().as(function(b){twttr.themes={loadUserStyleFor:function(a){twttr.helpers.isCurrentUser(a)&&(a=twttr.currentUser);if(a&&!this._hasBrokenDefaults(a)){this._setTheme("user-style-"+a.screenName);if($("style#user-style-"+a.screenName).length===0){$("head style.js-user-style").remove();var b=twttr.isT1?twttr.views.UserCssT1:twttr.views.UserCssP1;(new b(a)).render("head","append")}$("style#user-style-"+a.screenName+"-bg-img").length===0&&($("head style.js-user-style-bg-img").remove(),(new twttr.views.BgImgCss(a)).render("head","append"))}else this.loadDefaultTheme()},loadCurrentUserStyle:function(){this.loadUserStyleFor(twttr.currentUser)},loadDefaultTheme:function(){twttr.isT1?this._setTheme("default-theme"):this._setTheme("user-style-twttr")},loadFrontPageTheme:function(){this._setTheme("front-page")},loadLoadingTheme:function(){this._setTheme("loading-body")},clear:function(){this._setTheme(!1)},_setTheme:function(a){var b=$("body");this._clearExistingTheme(),a&&b.addClass(a)},_brokenTheme:{profileBackgroundColor:"9ae4e8",profileBackgroundImageUrl:/\/images\/themes\/theme1\/bg.png$/i,profileBackgroundTile:!1,profileLinkColor:"0000ff",profileSidebarBorderColor:"87bc44",profileSidebarFillColor:"e0ff92",profileTextColor:"000000",profileUseBackgroundImage:!0},_hasBrokenDefaults:function(a){for(var b in this._brokenTheme){var c=this._brokenTheme[b],d=a[b],e=!1;twttr.is.regex(c)?e=!!d.match(c):e=c===d;if(!e)return!1}return!0},_clearExistingTheme:function(){var a=$("body");$("style[id^=user-style]").each(function(){a.removeClass(this.id)}),a.removeClass("loading-body front-page default-theme"),twttr.isT1||a.removeClass("static-page user-style-twttr")}},twttr.isT1||twttr.aug(twttr.themes,{loadStaticPageTheme:function(){this._setTheme("static-page")}}),a(twttr.themes)})}),provide("Profiler",function(a){using("util").as(function(b){var c=0,d=b.util.params().profiling,e=twttr.klass("twttr.Profiler",function(a){if(!e.isEnabled()){this.waypoint=$.noop,this.waitFor=$.noop,this.done=$.noop,this.addBeforeScribbleFilter=$.noop,this.doneAfterCallback=function(a){return a};return}this.id=++c,this.description=a,this.pendingProfilers=0,this.subProfilers=[],this.startTime=new Date,this.endTime=null,this.isDone=!1,this.isComplete=!1,this.runawayProfilerTimeout=setTimeout(twttr.bind(this,this._giveUp),e.timeoutAfter),this.timedOut=!1,this.timedOutSubProfilers=[],this.beforeScribbleFilters=[],this.profilerType=e.types.GENERIC,d&&console.log("%s started",this.description)}).methods(twttr.EventProvider).statics({isEnabled:function(){return!!twttr.payload.profiling||!!d},logPreviousEvent:function(a,b,c){var d=new e(a);d.addBeforeScribbleFilter(function(a){return a.start_time_ms=b,a.end_time_ms=c,a.duration_ms=c-b,a}),d.done()},logDataSet:function(a,b,c){var d=new e(a);d.startTime=b,$.each(c,function(a,b){d.waypoint(b.name,b.timestamp)}),d.done()},timeoutAfter:15e3,types:{GENERIC:0,FIRST_PAGE_LOAD:1}}).methods({addBeforeScribbleFilter:function(a){this.beforeScribbleFilters.push(a)},doneAfterCallback:function(a){var b=this,c=function(a){return function(){twttr.is.fn(a)||console.warn("Invalid call to doneAfterCallback");var c=a.apply(this,arguments);return b.done(),c}};return twttr.is.fn(a)?c(a):(a.cancel=a.cancel||$.noop,a.cancel=c(a.cancel),a.complete=a.complete||$.noop,a.complete=c(a.complete),a)},waitFor:function(){this.isDone&&console.warn(".waitFor called on a profiler that's already complete",this);var a=this;$(arguments).each(function(b,c){if(!c||!(c instanceof e)){if(!twttr.is.def(c.profiler)){console.error("Non-profiler passed in, and it doesn't have a .profiler property");return}c=c.profiler}if(c.isComplete)return;d&&console.log("%s waiting for %o",a.description,c),a.pendingProfilers++,a.subProfilers.push(c),c.bind("complete",function(b,c,e){d&&(e?console.log("%s noticed that %o timed out",a.description,c):console.log("%s noticed that %o finished",a.description,c)),a.pendingProfilers--,e&&a.timedOutSubProfilers.push(c),a.pendingProfilers===0&&a.isDone&&a._complete()})})},done:function(){if(this.isDone)return;d&&console.log("%s is done",this.description),this.isDone=!0,clearTimeout(this.runawayProfilerTimeout),this.runawayProfilerTimeout=null,this.pendingProfilers===0&&!this.isComplete&&this._complete()},_complete:function(){d&&console.log("%s is complete",this.description),this.isComplete=!0,this.endTime=new Date,this.waypoint("complete"),this.trigger("complete",[this,this.timedOut])},_giveUp:function(){console.warn("Runaway profiler detected!",this),this.timedOut=!0,this.done()},waypoint:function(a,c){c=c||new Date;var e={profiler_type:this.profilerType,product:"webclient",start_time_ms:twttr.appStartTime,impression_id:twttr.session&&twttr.session.impressionId?twttr.session.impressionId.toString():null,id:this.id,description:this.description};this.isComplete?(e.end_time_ms=this.endTime.getTime(),e.duration_ms=this.endTime-this.startTime):(e.waypoint_time_ms=c.getTime(),e.duration_ms=e.waypoint_time_ms-this.startTime,e.waypoint_key=a),this.timedOut&&(e.timed_out=!0);var f=this;$.each(["subProfilers","timedOutSubProfilers"],function(a,c){f[c].length>0&&(e[b.util.underscore(c)]=twttr.map(f[c],function(a){return a.description}))}),$.each(this.beforeScribbleFilters,function(a,b){e=b.call(f,e)}),scribble("profiler_waypoint",e,"perftown"),d&&(this.isComplete?console.log("%s: complete after %d ms; data %o",this.description,e.duration_ms,e):console.log("%s: %s waypoint after %d ms; data %o",this.description,a,e.waypoint_time_ms-this.startTime,e))}});e.verboseProfiling=d,a(e)})}),provide("RouteTimer",function(a){using("util").as(function(b){twttr.provide("twttr.RouteTimer",{previousRoute:null,previousPath:null,trackedRoute:null,trackedPath:null,trackedStream:null,trackAjax:!1,prestreamAjaxCount:0,poststreamAjax:{},routeTiming:{},timeoutId:0,routeStart:function(a,b){var c=this;this.routeTiming.next_time=(new Date).getTime(),this._scribeResultsAndReset(),this.previousRoute=this.trackedRoute||a,this.previousPath=this.trackedPath||b,this.trackedRoute=a,this.trackedPath=b,this.trackedStream=null,this.routeTiming.start_time=(new Date).getTime(),this.timeoutId=window.setTimeout(function(){c._scribeResultsAndReset()},2e4)},streamSwitch:function(a){var b=this,c=twttr.router.getCurrentRoute(),d=twttr.Router.getCurrentPath();if(!this.routeTiming.start_time||!this._routesEqual(c,this.trackedRoute)||d!==this.trackedPath||this._routesEqual(this.previousRoute,this.trackedRoute)&&this.previousPath===this.trackedPath){this._reset();return}this.routeTiming.stream_switch_time=(new Date).getTime(),this.trackedStream=a},streamAfterSwitch:function(a,b){this.trackedStream===a&&this.routeTiming.stream_switch_time?(this.routeTiming.stream_complete_time=(new Date).getTime(),this.routeTiming.cached=b,this._startAjaxTracking()):this._reset()},onAjaxComplete:function(a,b){if(!this.trackAjax||this.prestreamAjaxCount==0)return;if(b&&b.url in this.poststreamAjax)for(i=0;i<this.poststreamAjax[b.url].length;i++)if(b===this.poststreamAjax[b.url][i]){this.poststreamAjax[b.url].splice(i,1);return}this.prestreamAjaxCount--;if(this.prestreamAjaxCount==0||$.active==0)this.trackAjax=!1,this.routeTiming.ajax_complete_time=(new Date).getTime(),this._scribeResultsAndReset()},onAjaxSend:function(a,b){this.trackAjax&&b&&b.url&&(this.poststreamAjax[b.url]||(this.poststreamAjax[b.url]=[]),this.poststreamAjax[b.url].push(b))},_scribeResultsAndReset:function(){var a=this;if(this.routeTiming){var c=!0;$.each(["start_time","stream_switch_time","stream_complete_time","cached"],function(b,d){d in a.routeTiming||(c=!1)}),c&&(b.util.params().routetimer&&twttr.showMessage("switch: "+(this.routeTiming.stream_switch_time-this.routeTiming.start_time)+"<br>stream: "+(this.routeTiming.stream_complete_time-this.routeTiming.start_time)+"<br>ajax: "+(this.routeTiming.ajax_complete_time-this.routeTiming.start_time)+"<br>cached: "+this.routeTiming.cached,!0),scribble("route_time",$.extend({source_page:this.previousRoute.fn.pageName,source_action:this.previousRoute.fn.actionName,source_path:this.previousPath,dest_page:this.trackedRoute.fn.pageName,dest_action:this.trackedRoute.fn.actionName,dest_path:this.trackedPath},this.routeTiming),"route_timing"))}this._reset()},_startAjaxTracking:function(){var a=this;this.routeTiming.ajax_count=this.prestreamAjaxCount=$.active,this.prestreamAjaxCount==0?(this.routeTiming.ajax_complete_time=(new Date).getTime(),this._scribeResultsAndReset()):this.trackAjax=!0},_routesEqual:function(a,b){return a.name===b.name&&a.path===b.path},_reset:function(){this.routeTiming={},this.trackAjax=!1,this.prestreamAjaxCount=0,this.poststreamAjax={},this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=0}}),twttr.loggedIn&&(twttr.decider.isAvailable("route_timing")||b.util.params().routetimer)&&(twttr.router.bind("routeFollowed",function(a,b,c){twttr.RouteTimer.routeStart(b,c)}),$(document).ajaxComplete(function(a,b,c){twttr.RouteTimer.onAjaxComplete(b,c)}),$(document).ajaxSend(function(a,b,c){twttr.RouteTimer.onAjaxSend(b,c)})),a(twttr.RouteTimer)})}),provide("$lib/jquery-1.7.1.js",function(a){(function(a,b){function i(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function m(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(l,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):k.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function n(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function o(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",i=f._data(a,d);i&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),i.fire())},0)}function K(){return!1}function L(){return!0}function T(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function U(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(P.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function V(a){var b=W.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function lb(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function mb(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),i=f._data(b,g),j=g.events;if(j){delete i.handle,i.events={};for(c in j)for(d=0,e=j[c].length;d<e;d++)f.event.add(b,c+(j[c][d].namespace?".":"")+j[c][d].namespace,j[c][d],j[c][d].data)}i.data&&(i.data=f.extend({},i.data))}function nb(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function ob(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function pb(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function qb(a){var b=(a.nodeName||"").toLowerCase();b==="input"?pb(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),pb)}function rb(a){var b=c.createElement("div");return kb.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function sb(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(ib,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function Fb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?Ab:Bb,g=0,i=e.length;if(d>0){if(c!=="border")for(;g<i;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=Cb(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<i;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function ac(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(Sb),e=0,g=d.length,i,j,k;for(;e<g;e++)i=d[e],k=/^\+/.test(i),k&&(i=i.substr(1)||"*"),j=a[i]=a[i]||[],j[k?"unshift":"push"](c)}}}function bc(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var i=a[f],j=0,k=i?i.length:0,l=a===Wb,m;for(;j<k&&(l||!m);j++)m=i[j](c,d,e),typeof m=="string"&&(!l||g[m]?m=b:(c.dataTypes.unshift(m),m=bc(a,c,d,e,m,g)));return(l||!m)&&!g["*"]&&(m=bc(a,c,d,e,"*",g)),m}function cc(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function dc(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||Hb.test(a)?d(a,e):dc(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)dc(a+"["+e+"]",b[e],c,d);else d(a,b)}function ec(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,i,j,k,l;for(j in g)j in d&&(c[g[j]]=d[j]);while(f[0]==="*")f.shift(),i===b&&(i=a.mimeType||c.getResponseHeader("content-type"));if(i)for(j in e)if(e[j]&&e[j].test(i)){f.unshift(j);break}if(f[0]in d)k=f[0];else{for(j in d){if(!f[0]||a.converters[j+" "+f[0]]){k=j;break}l||(l=j)}k=k||l}if(k)return k!==f[0]&&f.unshift(k),d[k]}function fc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,i,j=d.length,k,l=d[0],m,n,o,p,q;for(g=1;g<j;g++){if(g===1)for(i in a.converters)typeof i=="string"&&(e[i.toLowerCase()]=a.converters[i]);m=l,l=d[g];if(l==="*")l=m;else if(m!=="*"&&m!==l){n=m+" "+l,o=e[n]||e["* "+l];if(!o){q=b;for(p in e){k=p.split(" ");if(k[0]===m||k[0]==="*"){q=e[k[1]+" "+l];if(q){p=e[p],p===!0?o=q:q===!0&&(o=p);break}}}}!o&&!q&&f.error("No conversion from "+n.replace(" "," to ")),o!==!0&&(c=o?o(c):q(p(c)))}}return c}function lc(){try{return new a.XMLHttpRequest}catch(b){}}function mc(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function vc(){return setTimeout(wc,0),uc=f.now()}function wc(){uc=b}function xc(a,b){var c={};return f.each(tc.concat.apply([],tc.slice(0,b)),function(){c[this]=a}),c}function yc(a){if(!nc[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){oc||(oc=c.createElement("iframe"),oc.frameBorder=oc.width=oc.height=0),b.appendChild(oc);if(!pc||!oc.createElement)pc=(oc.contentWindow||oc.contentDocument).document,pc.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),pc.close();d=pc.createElement(a),pc.body.appendChild(d),e=f.css(d,"display"),b.removeChild(oc)}nc[a]=e}return nc[a]}function Bc(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function K(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(K,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,i)},f=a.jQuery,g=a.$,i,j=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=/\S/,l=/^\s+/,m=/\s+$/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/gi,x=/^-ms-/,y=function(a,b){return(b+"").toUpperCase()},z=d.userAgent,A,B,C,D=Object.prototype.toString,E=Object.prototype.hasOwnProperty,F=Array.prototype.push,G=Array.prototype.slice,H=String.prototype.trim,I=Array.prototype.indexOf,J={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,i,k,l;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=j.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,l=d?d.ownerDocument||d:c,k=n.exec(a),k?e.isPlainObject(d)?(a=[c.createElement(k[1])],e.fn.attr.call(a,d,!0)):a=[l.createElement(k[1])]:(k=e.buildFragment([g[1]],[l]),a=(k.cacheable?e.clone(k.fragment):k.fragment).childNodes),e.merge(this,a);i=c.getElementById(g[2]);if(i&&i.parentNode){if(i.id!==g[2])return f.find(a);this.length=1,this[0]=i}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return G.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?F.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),B.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:F,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,i,j=arguments[0]||{},k=1,l=arguments.length,m=!1;typeof j=="boolean"&&(m=j,j=arguments[1]||{},k=2),typeof j!="object"&&!e.isFunction(j)&&(j={}),l===k&&(j=this,--k);for(;k<l;k++)if((a=arguments[k])!=null)for(c in a){d=j[c],f=a[c];if(j===f)continue;m&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,i=d&&e.isArray(d)?d:[]):i=d&&e.isPlainObject(d)?d:{},j[c]=e.extend(m,i,f)):f!==b&&(j[c]=f)}return j},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;B.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(B)return;B=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",C,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",C),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&K()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):J[D.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!E.call(a,"constructor")&&!E.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||E.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(o.test(b.replace(p,"@").replace(q,"]").replace(r,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&k.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(x,"ms-").replace(w,y)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,i=a.length,j=i===b||e.isFunction(a);if(d){if(j){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<i;)if(c.apply(a[g++],d)===!1)break}else if(j){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<i;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:H?function(a){return a==null?"":H.call(a)}:function(a){return a==null?"":a.toString().replace(l,"").replace(m,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?F.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(I)return I.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,i=[],j=0,k=a.length,l=a instanceof e||k!==b&&typeof k=="number"&&(k>0&&a[0]&&a[k-1]||k===0||e.isArray(a));if(l)for(;j<k;j++)f=c(a[j],j,d),f!=null&&(i[i.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(i[i.length]=f);return i.concat.apply([],i)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=G.call(arguments,2),g=function(){return a.apply(c,f.concat(G.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,i){var j=a.length;if(typeof c=="object"){for(var k in c)e.access(a,k,c[k],f,g,d);return a}if(d!==b){f=!i&&f&&e.isFunction(d);for(var l=0;l<j;l++)g(a[l],c,f?d.call(a[l],l,g(a[l],c)):d,i);return a}return j?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=s.exec(a)||t.exec(a)||u.exec(a)||a.indexOf("compatible")<0&&v.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),A=e.uaMatch(z),A.browser&&(e.browser[A.browser]=!0,e.browser.version=A.version),e.browser.webkit&&(e.browser.safari=!0),k.test(" ")&&(l=/^[\s\xA0]+/,m=/[\s\xA0]+$/),i=e(c),c.addEventListener?C=function(){c.removeEventListener("DOMContentLoaded",C,!1),e.ready()}:c.attachEvent&&(C=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",C),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||i(a):{};var c=[],d=[],e,j,k,l,m,n=function(b){var d,e,g,i,j;for(d=0,e=b.length;d<e;d++)g=b[d],i=f.type(g),i==="array"?n(g):i==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&p.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!e}};return p};var j=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},i={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return j.done(a).fail(b).progress(c),this},always:function(){return j.done.apply(j,arguments).fail.apply(j,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?j[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===j?d:this,[g])}):j[a](d[e])})}).promise()},promise:function(a){if(a==null)a=i;else for(var b in i)a[b]=i[b];return a}},j=i.promise({}),k;for(k in g)j[k]=g[k].fire,j[k+"With"]=g[k].fireWith;return j.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(j,j),j},when:function(a){function m(a){return function(c){b[a]=arguments.length>1?j.call(arguments,0):c,--g||k.resolveWith(k,b)}}function n(a){return function(b){e[a]=arguments.length>1?j.call(arguments,0):b,k.notifyWith(l,e)}}var b=j.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,i=d,k=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),l=k.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(m(c),k.reject,n(c)):--g;g||k.resolveWith(k,b)}else k!==a&&k.resolveWith(k,d?[a]:[]);return l}}),f.support=function(){var b,d,e,g,i,j,k,l,m,n,o,p,q,r=c.createElement("div"),s=c.documentElement;r.setAttribute("className","t"),r.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=r.getElementsByTagName("*"),e=r.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),i=g.appendChild(c.createElement("option")),j=r.getElementsByTagName("input")[0],b={leadingWhitespace:r.firstChild.nodeType===3,tbody:!r.getElementsByTagName("tbody").length,htmlSerialize:!!r.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:j.value==="on",optSelected:i.selected,getSetAttribute:r.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},j.checked=!0,b.noCloneChecked=j.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!i.disabled;try{delete r.test}catch(t){b.deleteExpando=!1}!r.addEventListener&&r.attachEvent&&r.fireEvent&&(r.attachEvent("onclick",function(){b.noCloneEvent=!1}),r.cloneNode(!0).fireEvent("onclick")),j=c.createElement("input"),j.value="t",j.setAttribute("type","radio"),b.radioValue=j.value==="t",j.setAttribute("checked","checked"),r.appendChild(j),l=c.createDocumentFragment(),l.appendChild(r.lastChild),b.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=j.checked,l.removeChild(j),l.appendChild(r),r.innerHTML="",a.getComputedStyle&&(k=c.createElement("div"),k.style.width="0",k.style.marginRight="0",r.style.width="2px",r.appendChild(k),b.reliableMarginRight=(parseInt((a.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)===0);if(r.attachEvent)for(p in{submit:1,change:1,focusin:1})o="on"+p,q=o in r,q||(r.setAttribute(o,"return;"),q=typeof r[o]=="function"),b[p+"Bubbles"]=q;return l.removeChild(r),l=g=i=k=r=j=null,f(function(){var a,d,e,g,i,j,k,l,n,o,p,s=c.getElementsByTagName("body")[0];if(!s)return;k=1,l="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",n="visibility:hidden;border:0;",o="style='"+l+"border:5px solid #000;padding:0;'",p="<div "+o+"><div></div></div>"+"<table "+o+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=n+"width:0;height:0;position:static;top:0;margin-top:"+k+"px",s.insertBefore(a,s.firstChild),r=c.createElement("div"),a.appendChild(r),r.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",m=r.getElementsByTagName("td"),q=m[0].offsetHeight===0,m[0].style.display="",m[1].style.display="none",b.reliableHiddenOffsets=q&&m[0].offsetHeight===0,r.innerHTML="",r.style.width=r.style.paddingLeft="1px",f.boxModel=b.boxModel=r.offsetWidth===2,typeof r.style.zoom!="undefined"&&(r.style.display="inline",r.style.zoom=1,b.inlineBlockNeedsLayout=r.offsetWidth===2,r.style.display="",r.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=r.offsetWidth!==2),r.style.cssText=l+n,r.innerHTML=p,d=r.firstChild,e=d.firstChild,i=d.nextSibling.firstChild.firstChild,j={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},e.style.position="fixed",e.style.top="20px",j.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",j.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=s.offsetTop!==k,s.removeChild(a),r=a=null,f.extend(b,j)}),b}();var k=/^(?:\{.*\}|\[.*\])$/,l=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!n(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,i,j,k=f.expando,l=typeof c=="string",m=a.nodeType,n=m?f.cache:a,o=m?a[k]:a[k]&&k,p=c==="events";if((!o||!n[o]||!p&&!e&&!n[o].data)&&l&&d===b)return;o||(m?a[k]=o=++f.uuid:o=k),n[o]||(n[o]={},m||(n[o].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?n[o]=f.extend(n[o],c):n[o].data=f.extend(n[o].data,c);return g=i=n[o],e||(i.data||(i.data={}),i=i.data),d!==b&&(i[f.camelCase(c)]=d),p&&!i[c]?g.events:(l?(j=i[c],j==null&&(j=i[f.camelCase(c)])):j=i,j)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,i=f.expando,j=a.nodeType,k=j?f.cache:a,l=j?a[i]:i;if(!k[l])return;if(b){d=c?k[l]:k[l].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?n:f.isEmptyObject)(d))return}}if(!c){delete k[l].data;if(!n(k[l]))return}f.support.deleteExpando||!k.setInterval?delete k[l]:k[l]=null,j&&(f.support.deleteExpando?delete a[i]:a.removeAttribute?a.removeAttribute(i):a[i]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,i=null;if(typeof a=="undefined"){if(this.length){i=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var j=0,k=e.length;j<k;j++)g=e[j].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),m(this[0],g,i[g]));f._data(this[0],"parsedAttrs",!0)}}return i}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(i=this.triggerHandler("getData"+d[1]+"!",[d[0]]),i===b&&this.length&&(i=f.data(this[0],a),i=m(this[0],a,i)),i===b&&d[1]?this.data(d[0]):i):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),o(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),o(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function n(){--i||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark",m;while(g--)if(m=f.data(e[g],j,b,!0)||(f.data(e[g],k,b,!0)||f.data(e[g],l,b,!0))&&f.data(e[g],j,f.Callbacks("once memory"),!0))i++,m.add(n);return n(),d.promise()}});var p=/[\n\t\r]/g,q=/\s+/,r=/\r/g,s=/^(?:button|input)$/i,t=/^(?:button|input|object|select|textarea)$/i,u=/^a(?:rea)?$/i,v=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=f.support.getSetAttribute,x,y,z;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,i,j;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(i=0,j=b.length;i<j;i++)~g.indexOf(" "+b[i]+" ")||(g+=b[i]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,i,j,k;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(q);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){i=(" "+g.className+" ").replace(p," ");for(j=0,k=c.length;j<k;j++)i=i.replace(" "+c[j]+" "," ");g.className=f.trim(i)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,i=f(this),j=b,k=a.split(q);while(e=k[g++])j=d?j:!i.hasClass(e),i[j?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(p," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length){if(g)return c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(r,""):d==null?"":d);return}return e=f.isFunction(a),this.each(function(d){var g=f(this),i;if(this.nodeType!==1)return;e?i=a.call(this,d,g.val()):i=a,i==null?i="":typeof i=="number"?i+="":f.isArray(i)&&(i=f.map(i,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,i,"value")===b)this.value=i})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,i=[],j=a.options,k=a.type==="select-one";if(g<0)return null;c=k?g:0,d=k?g+1:j.length;for(;c<d;c++){e=j[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(k)return b;i.push(b)}}return k&&!i.length&&j.length?f(j[g]).val():i},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,i,j,k=a.nodeType;if(!a||k===3||k===8||k===2)return;if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);j=k!==1||!f.isXMLDoc(a),j&&(c=c.toLowerCase(),i=f.attrHooks[c]||(v.test(c)?y:x));if(d!==b){if(d===null){f.removeAttr(a,c);return}return i&&"set"in i&&j&&(g=i.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d)}return i&&"get"in i&&j&&(g=i.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)},removeAttr:function(a,b){var c,d,e,g,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(q),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(w?e:c),v.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(s.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return x&&f.nodeName(a,"button")?x.get(a,b):b in a?a.value:null},set:function(a,b,c){if(x&&f.nodeName(a,"button"))return x.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;return i=j!==1||!f.isXMLDoc(a),i&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):t.test(a.nodeName)||u.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,y={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},w||(z={name:!0,id:!0},x=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(z[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=x.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:x.get,set:function(a,b,c){b===""&&(b="false"),x.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var A=/^(?:textarea|input|select)$/i,B=/^([^\.]*)?(?:\.(.+))?$/,C=/\bhover(\.\S+)?\b/,D=/^key/,E=/^(?:mouse|contextmenu)|click/,F=/^(?:focusinfocus|focusoutblur)$/,G=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,H=function(a){var b=G.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},I=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},J=function(a){return f.event.special.hover?a:a.replace(C,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var i,j,k,l,m,n,o,p,q,r,s,t;if(a.nodeType===3||a.nodeType===8||!c||!d||!(i=f._data(a)))return;d.handler&&(q=d,d=q.handler),d.guid||(d.guid=f.guid++),k=i.events,k||(i.events=k={}),j=i.handle,j||(i.handle=j=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(j.elem,arguments)},j.elem=a),c=f.trim(J(c)).split(" ");for(l=0;l<c.length;l++){m=B.exec(c[l])||[],n=m[1],o=(m[2]||"").split(".").sort(),t=f.event.special[n]||{},n=(g?t.delegateType:t.bindType)||n,t=f.event.special[n]||{},p=f.extend({type:n,origType:m[1],data:e,handler:d,guid:d.guid,selector:g,quick:H(g),namespace:o.join(".")},q),s=k[n];if(!s){s=k[n]=[],s.delegateCount=0;if(!t.setup||t.setup.call(a,e,o,j)===!1)a.addEventListener?a.addEventListener(n,j,!1):a.attachEvent&&a.attachEvent("on"+n,j)}t.add&&(t.add.call(a,p),p.handler.guid||(p.handler.guid=d.guid)),g?s.splice(s.delegateCount++,0,p):s.push(p),f.event.global[n]=!0}a=null},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),i,j,k,l,m,n,o,p,q,r,s,t;if(!g||!(p=g.events))return;b=f.trim(J(b||"")).split(" ");for(i=0;i<b.length;i++){j=B.exec(b[i])||[],k=l=j[1],m=j[2];if(!k){for(k in p)f.event.remove(a,k+b[i],c,d,!0);continue}q=f.event.special[k]||{},k=(d?q.delegateType:q.bindType)||k,s=p[k]||[],n=s.length,m=m?new RegExp("(^|\\.)"+m.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(o=0;o<s.length;o++)t=s[o],(e||l===t.origType)&&(!c||c.guid===t.guid)&&(!m||m.test(t.namespace))&&(!d||d===t.selector||d==="**"&&t.selector)&&(s.splice(o--,1),t.selector&&s.delegateCount--,q.remove&&q.remove.call(a,t));s.length===0&&n!==s.length&&((!q.teardown||q.teardown.call(a,m)===!1)&&f.removeEvent(a,k,g.handle),delete p[k])}f.isEmptyObject(p)&&(r=g.handle,r&&(r.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var i=c.type||c,j=[],k,l,m,n,o,p,q,r,s,t;if(F.test(i+f.event.triggered))return;i.indexOf("!")>=0&&(i=i.slice(0,-1),l=!0),i.indexOf(".")>=0&&(j=i.split("."),i=j.shift(),j.sort());if((!e||f.event.customEvent[i])&&!f.event.global[i])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(i,c):new f.Event(i),c.type=i,c.isTrigger=!0,c.exclusive=l,c.namespace=j.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+j.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=i.indexOf(":")<0?"on"+i:"";if(!e){k=f.cache;for(m in k)k[m].events&&k[m].events[i]&&f.event.trigger(c,d,k[m].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),q=f.event.special[i]||{};if(q.trigger&&q.trigger.apply(e,d)===!1)return;s=[[e,q.bindType||i]];if(!g&&!q.noBubble&&!f.isWindow(e)){t=q.delegateType||i,n=F.test(t+i)?e:e.parentNode,o=null;for(;n;n=n.parentNode)s.push([n,t]),o=n;o&&o===e.ownerDocument&&s.push([o.defaultView||o.parentWindow||a,t])}for(m=0;m<s.length&&!c.isPropagationStopped();m++)n=s[m][0],c.type=s[m][1],r=(f._data(n,"events")||{})[c.type]&&f._data(n,"handle"),r&&r.apply(n,d),r=p&&n[p],r&&f.acceptData(n)&&r.apply(n,d)===!1&&c.preventDefault();return c.type=i,!g&&!c.isDefaultPrevented()&&(!q._default||q._default.apply(e.ownerDocument,d)===!1)&&(i!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&p&&e[i]&&(i!=="focus"&&i!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(o=e[p],o&&(e[p]=null),f.event.triggered=i,e[i](),f.event.triggered=b,o&&(e[p]=o)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),i=!c.exclusive&&!c.namespace,j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?I(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(i||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,i=d.button,j=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&j&&(a.relatedTarget=j===a.target?d.toElement:j),!a.which&&i!==b&&(a.which=i&1?1:i&2?3:i&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,i=f.event.fixHooks[a.type]||{},j=i.props?this.props.concat(i.props):this.props;a=f.Event(g);for(d=j.length;d;)e=j[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),i.filter?i.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?L:K):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=L;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=L;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=L,this.stopPropagation()},isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,i;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,i=e.handler.apply(this,arguments),a.type=b;return i}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(A.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;A.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),A.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var i,j;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(j in a)this.on(j,c,d,a[j],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=K;else if(!e)return this;return g===1&&(i=e,e=function(a){return f().off(a),i.apply(this,arguments)},e.guid=i.guid||(i.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=K),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),D.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),E.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var i=0,j=e.length;i<j;i++){var k=e[i];if(k){var l=!1;k=k[a];while(k){if(k[d]===c){l=e[k.sizset];break}k.nodeType===1&&!g&&(k[d]=c,k.sizset=i);if(k.nodeName.toLowerCase()===b){l=k;break}k=k[a]}e[i]=l}}}function y(a,b,c,e,f,g){for(var i=0,j=e.length;i<j;i++){var k=e[i];if(k){var l=!1;k=k[a];while(k){if(k[d]===c){l=e[k.sizset];break}if(k.nodeType===1){g||(k[d]=c,k.sizset=i);if(typeof b!="string"){if(k===b){l=!0;break}}else if(n.filter(b,[k]).length>0){l=k;break}}k=k[a]}e[i]=l}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,i=!1,j=!0,k=/\\/g,l=/\r\n/g,m=/\W/;[0,0].sort(function(){return j=!1,0});var n=function(b,d,e,f){e=e||[],d=d||c;var i=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var j,k,l,m,o,r,s,u,v=!0,w=n.isXML(d),x=[],y=b;do{a.exec(""),j=a.exec(y);if(j){y=j[3],x.push(j[1]);if(j[2]){m=j[3];break}}}while(j);if(x.length>1&&q.exec(b))if(x.length===2&&p.relative[x[0]])k=z(x[0]+x[1],d,f);else{k=p.relative[x[0]]?[d]:n(x.shift(),d);while(x.length)b=x.shift(),p.relative[b]&&(b+=x.shift()),k=z(b,k,f)}else{!f&&x.length>1&&d.nodeType===9&&!w&&p.match.ID.test(x[0])&&!p.match.ID.test(x[x.length-1])&&(o=n.find(x.shift(),d,w),d=o.expr?n.filter(o.expr,o.set)[0]:o.set[0]);if(d){o=f?{expr:x.pop(),set:t(f)}:n.find(x.pop(),x.length!==1||x[0]!=="~"&&x[0]!=="+"||!d.parentNode?d:d.parentNode,w),k=o.expr?n.filter(o.expr,o.set):o.set,x.length>0?l=t(k):v=!1;while(x.length)r=x.pop(),s=r,p.relative[r]?s=x.pop():r="",s==null&&(s=d),p.relative[r](l,s,w)}else l=x=[]}l||(l=k),l||n.error(r||b);if(g.call(l)==="[object Array]")if(!v)e.push.apply(e,l);else if(d&&d.nodeType===1)for(u=0;l[u]!=null;u++)l[u]&&(l[u]===!0||l[u].nodeType===1&&n.contains(d,l[u]))&&e.push(k[u]);else for(u=0;l[u]!=null;u++)l[u]&&l[u].nodeType===1&&e.push(k[u]);else t(l,e);return m&&(n(m,i,e,f),n.uniqueSort(e)),e};n.uniqueSort=function(a){if(v){i=j,a.sort(v);if(i)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},n.matches=function(a,b){return n(a,null,null,b)},n.matchesSelector=function(a,b){return n(b,null,null,[a]).length>0},n.find=function(a,b,c){var d,e,f,g,i,j;if(!a)return[];for(e=0,f=p.order.length;e<f;e++){i=p.order[e];if(g=p.leftMatch[i].exec(a)){j=g[1],g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(k,""),d=p.find[i](g,b,c);if(d!=null){a=a.replace(p.match[i],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},n.filter=function(a,c,d,e){var f,g,i,j,k,l,m,o,q,r=a,s=[],t=c,u=c&&c[0]&&n.isXML(c[0]);while(a&&c.length){for(i in p.filter)if((f=p.leftMatch[i].exec(a))!=null&&f[2]){l=p.filter[i],m=f[1],g=!1,f.splice(1,1);if(m.substr(m.length-1)==="\\")continue;t===s&&(s=[]);if(p.preFilter[i]){f=p.preFilter[i](f,t,d,s,e,u);if(!f)g=j=!0;else if(f===!0)continue}if(f)for(o=0;(k=t[o])!=null;o++)k&&(j=l(k,f,o,t),q=e^j,d&&j!=null?q?g=!0:t[o]=!1:q&&(s.push(k),g=!0));if(j!==b){d||(t=s),a=a.replace(p.match[i],"");if(!g)return[];break}}if(a===r){if(g!=null)break;n.error(a)}r=a}return t},n.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var o=n.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(l,"");for(a=a.firstChild;a;a=a.nextSibling)e+=o(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=o(c));return e},p=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!m.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,i;f<g;f++)if(i=a[f]){while((i=i.previousSibling)&&i.nodeType!==1);a[f]=e||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}e&&n.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!m.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&n.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=y;typeof b=="string"&&!m.test(b)&&(b=b.toLowerCase(),d=b,g=x),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=y;typeof b=="string"&&!m.test(b)&&(b=b.toLowerCase(),d=b,g=x),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(k,"")+" ";if(f)return a;for(var g=0,i;(i=b[g])!=null;g++)i&&(e^(i.className&&(" "+i.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(i):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(k,"")},TAG:function(a,b){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||n.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&n.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(k,"");return!f&&p.attrMap[g]&&(a[1]=p.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(k,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var g=n.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=n(b[3],null,null,c)}else if(p.match.POS.test(b[0])||p.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!n(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=p.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||o([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var i=0,j=g.length;i<j;i++)if(g[i]===a)return!1;return!0}n.error(e)},CHILD:function(a,b){var c,e,f,g,i,j,k,l=b[1],m=a;switch(l){case"only":case"first":while(m=m.previousSibling)if(m.nodeType===1)return!1;if(l==="first")return!0;m=a;case"last":while(m=m.nextSibling)if(m.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){j=0;for(m=g.firstChild;m;m=m.nextSibling)m.nodeType===1&&(m.nodeIndex=++j);g[d]=f}return k=a.nodeIndex-e,c===0?k===0:k%c===0&&k/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=n.attr?n.attr(a,c):p.attrHandle[c]?p.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&n.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=p.setFilters[e];if(f)return f(a,c,b,d)}}},q=p.match.POS,r=function(a,b){return"\\"+(b-0+1)};for(var s in p.match)p.match[s]=new RegExp(p.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[s]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[s].source.replace(/\\(\d+)/g,r));var t=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(u){t=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var v,w;c.documentElement.compareDocumentPosition?v=function(a,b){return a===b?(i=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(v=function(a,b){if(a===b)return i=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,j=b.parentNode,k=g;if(g===j)return w(a,b);if(!g)return-1;if(!j)return 1;while(k)e.unshift(k),k=k.parentNode;k=j;while(k)f.unshift(k),k=k.parentNode;c=e.length,d=f.length;for(var l=0;l<c&&l<d;l++)if(e[l]!==f[l])return w(e[l],f[l]);return l===c?w(a,f[l],-1):w(e[l],b,1)},w=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(p.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},p.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(p.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=n,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;n=function(b,e,f,g){e=e||c;if(!g&&!n.isXML(e)){var i=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(i&&(e.nodeType===1||e.nodeType===9)){if(i[1])return t(e.getElementsByTagName(b),f);if(i[2]&&p.find.CLASS&&e.getElementsByClassName)return t(e.getElementsByClassName(i[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return t([e.body],f);if(i&&i[3]){var j=e.getElementById(i[3]);if(!j||!j.parentNode)return t([],f);if(j.id===i[3])return t([j],f)}try{return t(e.querySelectorAll(b),f)}catch(k){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var l=e,m=e.getAttribute("id"),o=m||d,q=e.parentNode,r=/^\s*[+~]/.test(b);m?o=o.replace(/'/g,"\\$&"):e.setAttribute("id",o),r&&q&&(e=e.parentNode);try{if(!r||q)return t(e.querySelectorAll("[id='"+o+"'] "+b),f)}catch(s){}finally{m||l.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)n[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}n.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(a))try{if(e||!p.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return n(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?n.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?n.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:n.contains=function(){return!1},n.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var z=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=p.match.PSEUDO.exec(a))f+=d[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;for(var i=0,j=g.length;i<j;i++)n(a,g[i],e,c);return n.filter(f,e)};n.attr=f.attr,n.selectors.attrMap={},f.find=n,f.expr=n.selectors,f.expr[":"]=f.expr.filters,f.unique=n.uniqueSort,f.text=n.getText,f.isXMLDoc=n.isXML,f.contains=n.contains}();var M=/Until$/,N=/^(?:parents|prevUntil|prevAll)/,O=/,/,P=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,R=f.expr.match.POS,S={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,i,j;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(i=g;i<e.length;i++)for(j=0;j<g;j++)if(e[j]===e[i]){e.splice(i--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(U(this,a,!1),"not",a)},filter:function(a){return this.pushStack(U(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?R.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var i=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:i});g=g.parentNode,i++}return c}var j=R.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(j?j.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(T(c[0])||T(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return M.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!S[a]?f.unique(e):e,(this.length>1||O.test(d))&&N.test(a)&&(e=e.reverse()),this.pushStack(e,a,Q.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var W="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",X=/ jQuery\d+="(?:\d+|null)"/g,Y=/^\s+/,Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ab=/<([\w:]+)/,bb=/<tbody/i,cb=/<|&#?\w+;/,db=/<(?:script|style)/i,eb=/<(?:script|object|embed|option|style)/i,fb=new RegExp("<(?:"+W+")","i"),gb=/checked\s*(?:[^=]|=\s*.checked.)/i,hb=/\/(java|ecma)script/i,ib=/^\s*<!(?:\[CDATA\[|\-\-)/,jb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},kb=V(c);jb.optgroup=jb.option,jb.tbody=jb.tfoot=jb.colgroup=jb.caption=jb.thead,jb.th=jb.td,f.support.htmlSerialize||(jb._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(X,""):null;if(typeof a=="string"&&!db.test(a)&&(f.support.leadingWhitespace||!Y.test(a))&&!jb[(ab.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Z,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,i,j,k=a[0],l=[];if(!f.support.checkClone&&arguments.length===3&&typeof k=="string"&&gb.test(k))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(k))return this.each(function(e){var g=f(this);a[0]=k.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){j=k&&k.parentNode,f.support.parentNode&&j&&j.nodeType===11&&j.childNodes.length===this.length?e={fragment:j}:e=f.buildFragment(a,this,l),i=e.fragment,i.childNodes.length===1?g=i=i.firstChild:g=i.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var m=0,n=this.length,o=n-1;m<n;m++)d.call(c?lb(this[m],g):this[m],e.cacheable||n>1&&m<o?f.clone(i,!0,!0):i)}l.length&&f.each(l,sb)}return this}}),f.buildFragment=function(a,b,d){var e,g,i,j,k=a[0];return b&&b[0]&&(j=b[0].ownerDocument||b[0]),j.createDocumentFragment||(j=c),a.length===1&&typeof k=="string"&&k.length<512&&j===c&&k.charAt(0)==="<"&&!eb.test(k)&&(f.support.checkClone||!gb.test(k))&&(f.support.html5Clone||!fb.test(k))&&(g=!0,i=f.fragments[k],i&&i!==1&&(e=i)),e||(e=j.createDocumentFragment(),f.clean(a,j,e,d)),g&&(f.fragments[k]=i?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var i=0,j=e.length;i<j;i++){var k=(i>0?this.clone(!0):this).get();f(e[i])[b](k),d=d.concat(k)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,i=f.support.html5Clone||!fb.test("<"+a.nodeName)?a.cloneNode(!0):rb(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){nb(a,i),d=ob(a),e=ob(i);for(g=0;d[g];++g)e[g]&&nb(d[g],e[g])}if(b){mb(a,i);if(c){d=ob(a),e=ob(i);for(g=0;d[g];++g)mb(d[g],e[g])}}return d=e=null,i},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var i=[],j;for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!cb.test(l))l=b.createTextNode(l);else{l=l.replace(Z,"<$1></$2>");var m=(ab.exec(l)||["",""])[1].toLowerCase(),n=jb[m]||jb._default,o=n[0],p=b.createElement("div");b===c?kb.appendChild(p):V(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var q=bb.test(l),r=m==="table"&&!q?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!q?p.childNodes:[];for(j=r.length-1;j>=0;--j)f.nodeName(r[j],"tbody")&&!r[j].childNodes.length&&r[j].parentNode.removeChild(r[j])}!f.support.leadingWhitespace&&Y.test(l)&&p.insertBefore(b.createTextNode(Y.exec(l)[0]),p.firstChild),l=p.childNodes}var s;if(!f.support.appendChecked)if(l[0]&&typeof (s=l.length)=="number")for(j=0;j<s;j++)qb(l[j]);else qb(l);l.nodeType?i.push(l):i=f.merge(i,l)}if(d){g=function(a){return!a.type||hb.test(a.type)};for(k=0;i[k];k++)if(e&&f.nodeName(i[k],"script")&&(!i[k].type||i[k].type.toLowerCase()==="text/javascript"))e.push(i[k].parentNode?i[k].parentNode.removeChild(i[k]):i[k]);else{if(i[k].nodeType===1){var t=f.grep(i[k].getElementsByTagName("script"),g);i.splice.apply(i,[k+1,0].concat(t))}d.appendChild(i[k])}}return i},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&f.noData[j.nodeName.toLowerCase()])continue;c=j[f.expando];if(c){b=d[c];if(b&&b.events){for(var k in b.events)e[k]?f.event.remove(j,k):f.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}g?delete j[f.expando]:j.removeAttribute&&j.removeAttribute(f.expando),delete d[c]}}}});var tb=/alpha\([^)]*\)/i,ub=/opacity=([^)]*)/,vb=/([A-Z]|^ms)/g,wb=/^-?\d+(?:px)?$/i,xb=/^-?\d/,yb=/^([\-+])=([\-+.\de]+)/,zb={position:"absolute",visibility:"hidden",display:"block"},Ab=["Left","Right"],Bb=["Top","Bottom"],Cb,Db,Eb;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Cb(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,i,j=f.camelCase(c),k=a.style,l=f.cssHooks[j];c=f.cssProps[j]||j;if(d===b)return l&&"get"in l&&(g=l.get(a,!1,e))!==b?g:k[c];i=typeof d,i==="string"&&(g=yb.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),i="number");if(d==null||i==="number"&&isNaN(d))return;i==="number"&&!f.cssNumber[j]&&(d+="px");if(!l||!("set"in l)||(d=l.set(a,d))!==b)try{k[c]=d}catch(m){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(Cb)return Cb(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?Fb(a,b,d):(f.swap(a,zb,function(){e=Fb(a,b,d)}),e)},set:function(a,b){if(!wb.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return ub.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(tb,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=tb.test(g)?g.replace(tb,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=Cb(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(Db=function(a,b){var c,d,e;return b=b.replace(vb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),c}),c.documentElement.currentStyle&&(Eb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!wb.test(f)&&xb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),Cb=Db||Eb,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var Gb=/%20/g,Hb=/\[\]$/,Ib=/\r?\n/g,Jb=/#.*$/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Mb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb=/\?/,Qb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Rb=/^(?:select|textarea)/i,Sb=/\s+/,Tb=/([?&])_=[^&]*/,Ub=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Vb=f.fn.load,Wb={},Xb={},Yb,Zb,$b=["*/"]+["*"];try{Yb=e.href}catch(_b){Yb=c.createElement("a"),Yb.href="",Yb=Yb.href}Zb=Ub.exec(Yb.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&Vb)return Vb.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var i="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),i="POST"));var j=this;return f.ajax({url:a,type:i,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),j.html(g?f("<div>").append(c.replace(Qb,"")).find(g):c)),d&&j.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Rb.test(this.nodeName)||Lb.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(Ib,"\r\n")}}):{name:b.name,value:c.replace(Ib,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cc(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),cc(a,b),a},ajaxSettings:{url:Yb,isLocal:Mb.test(Zb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":$b},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:ac(Wb),ajaxTransport:ac(Xb),ajax:function(a,c){function x(a,c,m,n){if(t===2)return;t=2,r&&clearTimeout(r),q=b,o=n||"",w.readyState=a>0?4:0;var p,s,v,x=c,y=m?ec(d,w,m):b,z,A;if(a>=200&&a<300||a===304){if(d.ifModified){if(z=w.getResponseHeader("Last-Modified"))f.lastModified[l]=z;if(A=w.getResponseHeader("Etag"))f.etag[l]=A}if(a===304)x="notmodified",p=!0;else try{s=fc(d,y),x="success",p=!0}catch(B){x="parsererror",v=B}}else{v=x;if(!x||a)x="error",a<0&&(a=0)}w.status=a,w.statusText=""+(c||x),p?i.resolveWith(e,[s,x,w]):i.rejectWith(e,[w,x,v]),w.statusCode(k),k=b,u&&g.trigger("ajax"+(p?"Success":"Error"),[w,d,p?s:v]),j.fireWith(e,[w,x]),u&&(g.trigger("ajaxComplete",[w,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,i=f.Deferred(),j=f.Callbacks("once memory"),k=d.statusCode||{},l,m={},n={},o,p,q,r,s,t=0,u,v,w={readyState:0,setRequestHeader:function(a,b){if(!t){var c=a.toLowerCase();a=n[c]=n[c]||a,m[a]=b}return this},getAllResponseHeaders:function(){return t===2?o:null},getResponseHeader:function(a){var c;if(t===2){if(!p){p={};while(c=Kb.exec(o))p[c[1].toLowerCase()]=c[2]}c=p[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return t||(d.mimeType=a),this},abort:function(a){return a=a||"abort",q&&q.abort(a),x(0,a),this}};i.promise(w),w.success=w.done,w.error=w.fail,w.complete=j.add,w.statusCode=function(a){if(a){var b;if(t<2)for(b in a)k[b]=[k[b],a[b]];else b=a[w.status],w.then(b,b)}return this},d.url=((a||d.url)+"").replace(Jb,"").replace(Ob,Zb[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(Sb),d.crossDomain==null&&(s=Ub.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]==Zb[1]&&s[2]==Zb[2]&&(s[3]||(s[1]==="http:"?80:443))==(Zb[3]||(Zb[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bc(Wb,d,c,w);if(t===2)return!1;u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Nb.test(d.type),u&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(Pb.test(d.url)?"&":"?")+d.data,delete d.data),l=d.url;if(d.cache===!1){var y=f.now(),z=d.url.replace(Tb,"$1_="+y);d.url=z+(z===d.url?(Pb.test(d.url)?"&":"?")+"_="+y:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(l=l||d.url,f.lastModified[l]&&w.setRequestHeader("If-Modified-Since",f.lastModified[l]),f.etag[l]&&w.setRequestHeader("If-None-Match",f.etag[l])),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+$b+"; q=0.01":""):d.accepts["*"]);for(v in d.headers)w.setRequestHeader(v,d.headers[v]);if(!d.beforeSend||d.beforeSend.call(e,w,d)!==!1&&t!==2){for(v in{success:1,error:1,complete:1})w[v](d[v]);q=bc(Xb,d,c,w);if(!q)x(-1,"No Transport");else{w.readyState=1,u&&g.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(r=setTimeout(function(){w.abort("timeout")},d.timeout));try{t=1,q.send(m,x)}catch(A){if(!(t<2))throw A;x(-1,A)}}return w}return w.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)dc(g,a[g],c,e);return d.join("&").replace(Gb,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var gc=f.now(),hc=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+gc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(hc.test(b.url)||e&&hc.test(b.data))){var g,i=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,j=a[i],k=b.url,l=b.data,m="$1"+i+"$2";return b.jsonp!==!1&&(k=k.replace(hc,m),b.url===k&&(e&&(l=l.replace(hc,m)),b.data===l&&(k+=(/\?/.test(k)?"&":"?")+b.jsonp+"="+i))),b.url=k,b.data=l,a[i]=function(a){g=[a]},d.always(function(){a[i]=j,g&&f.isFunction(j)&&a[i](g[0])}),b.converters["script json"]=function(){return g||f.error(i+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(_,f){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(_,a){if(a||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,a||f(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ic=a.ActiveXObject?function(){for(var a in kc)kc[a](0,1)}:!1,jc=0,kc;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&lc()||mc()}:lc,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var i=c.xhr(),j,k;c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(k in c.xhrFields)i[k]=c.xhrFields[k];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)i.setRequestHeader(k,e[k])}catch(_){}i.send(c.hasContent&&c.data||null),d=function(_,a){var e,k,l,m,n;try{if(d&&(a||i.readyState===4)){d=b,j&&(i.onreadystatechange=f.noop,ic&&delete kc[j]);if(a)i.readyState!==4&&i.abort();else{e=i.status,l=i.getAllResponseHeaders(),m={},n=i.responseXML,n&&n.documentElement&&(m.xml=n),m.text=i.responseText;try{k=i.statusText}catch(o){k=""}!e&&c.isLocal&&!c.crossDomain?e=m.text?200:404:e===1223&&(e=204)}}}catch(p){a||g(-1,p)}m&&g(e,k,m,l)},!c.async||i.readyState===4?d():(j=++jc,ic&&(kc||(kc={},f(a).unload(ic)),kc[j]=d),i.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var nc={},oc,pc,qc=/^(?:toggle|show|hide)$/,rc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,sc,tc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],uc;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(xc("show",3),a,b,c);for(var g=0,i=this.length;g<i;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",yc(d.nodeName)));for(g=0;g<i;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(xc("hide",3),a,b,c);var d,e,g=0,i=this.length;for(;g<i;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<i;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(xc("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,i,j,k,l,m,n,o,p;b.animatedProperties={};for(j in a){g=f.camelCase(j),j!==g&&(a[g]=a[j],delete a[j]),i=a[g],f.isArray(i)?(b.animatedProperties[g]=i[1],i=a[g]=i[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(i==="hide"&&d||i==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||yc(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(j in a)k=new f.fx(this,b,j),i=a[j],qc.test(i)?(p=f._data(this,"toggle"+j)||(i==="toggle"?d?"show":"hide":0),p?(f._data(this,"toggle"+j,p==="show"?"hide":"show"),k[p]()):k[i]()):(l=rc.exec(i),m=k.cur(),l?(n=parseFloat(l[2]),o=l[3]||(f.cssNumber[j]?"":"px"),o!=="px"&&(f.style(this,j,(n||1)+o),m=(n||1)/k.cur()*m,f.style(this,j,m+o)),l[1]&&(n=(l[1]==="-="?-1:1)*n+m),k.custom(m,n,o)):k.custom(m,i,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function i(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&i(this,g,b);else g[b=a+".run"]&&g[b].stop&&i(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:xc("show",1),slideUp:xc("hide",1),slideToggle:xc("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function i(a){return e.step(a)}var e=this,g=f.fx;this.startTime=uc||vc(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},i()&&f.timers.push(i)&&!sc&&(sc=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=uc||vc(),g=!0,i=this.elem,j=this.options;if(a||e>=j.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),j.animatedProperties[this.prop]=!0;for(b in j.animatedProperties)j.animatedProperties[b]!==!0&&(g=!1);if(g){j.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){i.style["overflow"+b]=j.overflow[a]}),j.hide&&f(i).hide();if(j.hide||j.show)for(b in j.animatedProperties)f.style(i,b,j.orig[b]),f.removeData(i,"fxshow"+b,!0),f.removeData(i,"toggle"+b,!0);d=j.complete,d&&(j.complete=!1,d.call(i))}return!1}return j.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/j.duration,this.pos=f.easing[j.animatedProperties[this.prop]](this.state,c,0,1,j.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(sc),sc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var zc=/^t(?:able|d|h)$/i,Ac=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var i=e.body,j=Bc(e),k=g.clientTop||i.clientTop||0,l=g.clientLeft||i.clientLeft||0,m=j.pageYOffset||f.support.boxModel&&g.scrollTop||i.scrollTop,n=j.pageXOffset||f.support.boxModel&&g.scrollLeft||i.scrollLeft,o=c.top+m-k,p=c.left+n-l;return{top:o,left:p}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,i=g.documentElement,j=g.body,k=g.defaultView,l=k?k.getComputedStyle(b,null):b.currentStyle,m=b.offsetTop,n=b.offsetLeft;while((b=b.parentNode)&&b!==j&&b!==i){if(f.support.fixedPosition&&l.position==="fixed")break;c=k?k.getComputedStyle(b,null):b.currentStyle,m-=b.scrollTop,n-=b.scrollLeft,b===d&&(m+=b.offsetTop,n+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!zc.test(b.nodeName))&&(m+=parseFloat(c.borderTopWidth)||0,n+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(m+=parseFloat(c.borderTopWidth)||0,n+=parseFloat(c.borderLeftWidth)||0),l=c}if(l.position==="relative"||l.position==="static")m+=j.offsetTop,n+=j.offsetLeft;return f.support.fixedPosition&&l.position==="fixed"&&(m+=Math.max(i.scrollTop,j.scrollTop),n+=Math.max(i.scrollLeft,j.scrollLeft)),{top:m,left:n}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),i=f.css(a,"top"),j=f.css(a,"left"),k=(d==="absolute"||d==="fixed")&&f.inArray("auto",[i,j])>-1,l={},m={},n,o;k?(m=e.position(),n=m.top,o=m.left):(n=parseFloat(i)||0,o=parseFloat(j)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(l.top=b.top-g.top+n),b.left!=null&&(l.left=b.left-g.left+o),"using"in b?b.using.call(a,l):e.css(l)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=Ac.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!Ac.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=Bc(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=Bc(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],i=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||i&&i["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var j=f.css(e,d),k=parseFloat(j);return f.isNumeric(k)?k:j}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window),a()}),provide("libwrap/jquery",function(a){using(window.twttr&&window.twttr.isT1?"$lib/jquery-1.7.1.js":"$lib/jquery-1.5.2.js",function(){a(jQuery)})}),provide("$lib/json2.js",function(exports){this.JSON||(this.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,i,j=b[a];j&&typeof j=="object"&&typeof j.toJSON=="function"&&(j=j.toJSON(a)),typeof rep=="function"&&(j=rep.call(b,a,j));switch(typeof j){case"string":return quote(j);case"number":return isFinite(j)?String(j):"null";case"boolean":case"null":return String(j);case"object":if(!j)return"null";gap+=indent,i=[];if(Object.prototype.toString.apply(j)==="[object Array]"){f=j.length;for(c=0;c<f;c+=1)i[c]=str(c,j)||"null";return e=i.length===0?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+g+"]":"["+i.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,j),e&&i.push(quote(d)+(gap?": ":":")+e))}else for(d in j)Object.hasOwnProperty.call(j,d)&&(e=str(d,j),e&&i.push(quote(d)+(gap?": ":":")+e));return e=i.length===0?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+g+"}":"{"+i.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports()}),provide("libwrap/json",function(a){using("$lib/json2.js",function(){a(JSON)})}),provide("$lib/hogan.js",function(a){var b={},c=!1;typeof window!="undefined"&&(c=window.$.browser.msie&&parseInt(window.$.browser.version,10)<=7),function(a,b){function c(a,b){function c(){}function d(){}c.prototype=a,d.prototype=a.subs;var e=new c;e.subs=new d;for(var f in b)e.subs[f]=b[f];return e}function k(a){return String(a===null||a===undefined?"":a)}function l(a){return a=k(a),j.test(a)?a.replace(d,"&amp;").replace(e,"&lt;").replace(f,"&gt;").replace(g,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,c,d,e){a=a||{},this.r=a.main||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:"",this.partials=a.partials||{},this.subs=a.subs||{}},a.Template.prototype={r:function(a,b,c){return""},v:l,t:k,render:function(b,c,d){return this.ri([b],c||{},d)},ri:function(a,b,c){return this.r(a,b,c)},ep:function(a,b){var d=this.partials[a],e=b[d.name];if(d.instance&&d.base==e)return d.instance;if(typeof e=="string"){if(!this.c)throw new Error("No compiler available.");e=this.c.compile(e,this.options)}return e?(this.partials[a].base=e,d.subs&&(e=c(e,d.subs)),this.partials[a].instance=e,e):null},rp:function(a,b,c,d){var e=this.ep(a,c);return e?e.ri(b,c,d):""},rs:function(a,b,c){var d=a[a.length-1];if(!m(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var i;return m(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ms(a,b,c,d,e,f,g)),i=a===""||!!a,!d&&i&&b&&b.push(typeof a=="object"?a:b[b.length-1]),i)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if(a==="."&&m(b[b.length-2]))return b[b.length-1];for(var i=1;i<e.length;i++)f&&typeof f=="object"&&f[e[i]]!=null?(g=f,f=f[e[i]]):f="";return d&&!f?!1:(!d&&typeof f=="function"&&(b.push(g),f=this.mv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var i=b.length-1;i>=0;i--){f=b[i];if(f&&typeof f=="object"&&f[a]!=null){e=f[a],g=!0;break}}return g?(!d&&typeof e=="function"&&(e=this.mv(e,b,c)),e):d?!1:""},ls:function(a,b,c,d,e){var f=this.options.delimiters;return this.options.delimiters=e,this.b(this.ct(k(a.call(b,d)),b,c)),this.options.delimiters=f,!1},ct:function(a,b,c){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(a,this.options).render(b,c)},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ms:function(a,b,c,d,e,f,g){var i=b[b.length-1],j=a.call(i);return typeof j=="function"?d?!0:this.ls(j,i,c,this.text.substring(e,f),g):j},mv:function(a,b,c){var d=b[b.length-1],e=a.call(d);return typeof e=="function"?this.ct(k(e.call(d)),d,c):e},sub:function(a,b,c){var d=this.subs[a];d&&d(b,c,this)}};var d=/&/g,e=/</g,f=/>/g,g=/\'/g,i=/\"/g,j=/[&<>\"\']/,m=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}}(b,c),function(a){function g(a){a.n.substr(a.n.length-1)==="}"&&(a.n=a.n.substring(0,a.n.length-1))}function i(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function j(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function l(b,c,d,e){var f=[],g=null,i=null,j=null;i=d[d.length-1];while(b.length>0){j=b.shift();if(!(!i||i.tag!="<"||j.tag in k))throw new Error("Illegal content in < super tag.");if(a.tags[j.tag]<=a.tags.$||m(j,e))d.push(j),j.nodes=l(b,j.tag,d,e);else{if(j.tag=="/"){if(d.length===0)throw new Error("Closing tag without opener: /"+j.n);g=d.pop();if(j.n!=g.n&&!n(j.n,g.n,e))throw new Error("Nesting error: "+g.n+" vs. "+j.n);return g.end=j.i,f}j.tag=="\n"&&(j.last=b.length==0||b[0].tag=="\n")}f.push(j)}if(d.length>0)throw new Error("missing closing tag: "+d.pop().n);return f}function m(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c].o==a.n)return a.tag="#",!0}function n(a,b,c){for(var d=0,e=c.length;d<e;d++)if(c[d].c==a&&c[d].o==b)return!0}function o(a){var b=[];for(var c in a)b.push('"'+r(c)+'": function(c,p,t) {'+a[c]+"}");return"{ "+b.join(",")+" }"}function q(a,b,c){for(var d in a)b[d]=new Function("c","p","t",a[d])}function r(a){return a.replace(f,"\\\\").replace(c,'\\"').replace(d,"\\n").replace(e,"\\r")}function s(a){return~a.indexOf(".")?"d":"f"}function t(a,b){var c=a.n+p++;return b.partials[c]={name:a.n},b.code+='t.b(t.rp("'+r(c)+'",c,p,"'+(a.indent||"")+'"));',c}function u(a,b){b.code+="t.b(t.t(t."+s(a.n)+'("'+r(a.n)+'",c,p,0)));'}function v(a){return"t.b("+a+");"}var b=/\S/,c=/\"/g,d=/\n/g,e=/\r/g,f=/\\/g;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},a.scan=function(d,e){function x(){q.length>0&&(r.push({tag:"_t",text:new String(q)}),q="")}function y(){var c=!0;for(var d=u;d<r.length;d++){c=a.tags[r[d].tag]<a.tags._v||r[d].tag=="_t"&&r[d].text.match(b)===null;if(!c)return!1}return c}function z(a,b){x();if(a&&y())for(var c=u,d;c<r.length;c++)r[c].text&&((d=r[c+1])&&d.tag==">"&&(d.indent=r[c].text.toString()),r.splice(c,1));else b||r.push({tag:"\n"});s=!1,u=r.length}function A(a,b){var c="="+w,d=a.indexOf(c,b),e=i(a.substring(a.indexOf("=",b)+1,d)).split(" ");return v=e[0],w=e[1],d+c.length-1}var f=d.length,k=0,l=1,m=2,n=k,o=null,p=null,q="",r=[],s=!1,t=0,u=0,v="{{",w="}}";e&&(e=e.split(" "),v=e[0],w=e[1]);for(t=0;t<f;t++)n==k?j(v,d,t)?(--t,x(),n=l):d.charAt(t)=="\n"?z(s):q+=d.charAt(t):n==l?(t+=v.length-1,p=a.tags[d.charAt(t+1)],o=p?d.charAt(t+1):"_v",o=="="?(t=A(d,t),n=k):(p&&t++,n=m),s=t):j(w,d,t)?(r.push({tag:o,n:i(q),otag:v,ctag:w,i:o=="/"?s-w.length:t+v.length}),q="",t+=w.length-1,n=k,o=="{"&&(w=="}}"?t++:g(r[r.length-1]))):q+=d.charAt(t);return z(s,!0),r};var k={_t:!0,"\n":!0,$:!0,"/":!0};a.stringify=function(b,c,d){var e=[],f="{main: function (c,p,i) { "+a.wrapMain(b.code)+" }, partials: {";for(var g in b.partials)e.push('"'+r(g)+'": {name:"'+r(b.partials[g].name)+'"}');return f+=e.join(",")+"}, subs: "+o(b.subs)+" }",f};var p=0;a.generate=function(b,c,d){p=0;var e={code:"",subs:{},partials:{}};return a.walk(b,e),d.asString?this.stringify(e,c,d):this.makeTemplate(e,c,d)},a.wrapMain=function(a){return'var t=this;t.b(i=i||"");'+a+"return t.fl();"},a.template=a.Template,a.makeTemplate=function(a,b,c){var d={main:new Function("c","p","i",this.wrapMain(a.code)),subs:{},partials:{}};d.partials=a.partials;for(var e in d.partials)q(d.partials[e].subs,d.partials[e].subs);return q(a.subs,d.subs),new this.template(d,b,this,c)},a.codegen={"#":function(b,c){c.code+="if(t.s(t."+s(b.n)+'("'+r(b.n)+'",c,p,1),'+"c,p,0,"+b.i+","+b.end+',"'+b.otag+" "+b.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){",a.walk(b.nodes,c),c.code+="});c.pop();}"},"^":function(b,c){c.code+="if(!t.s(t."+s(b.n)+'("'+r(b.n)+'",c,p,1),c,p,1,0,0,"")){',a.walk(b.nodes,c),c.code+="};"},">":t,"<":function(b,c){var d={partials:c.partials,code:"",subs:{},inPartial:!0};a.walk(b.nodes,d),c.partials[t(b,c)].subs=d.subs},$:function(b,c){var d={subs:{},code:"",partials:c.partials};a.walk(b.nodes,d),c.subs[b.n]=d.code,c.inPartial||(c.code+='t.sub("'+r(b.n)+'",c,p);')},"\n":function(a,b){b.code+=v('"\\n"'+(a.last?"":" + i"))},_v:function(a,b){b.code+="t.b(t.v(t."+s(a.n)+'("'+r(a.n)+'",c,p,0)));'},_t:function(a,b){b.code+=v('"'+r(a.text)+'"')},"{":u,"&":u},a.walk=function(b,c){var d;for(var e=0,f=b.length;e<f;e++)d=a.codegen[b[e].tag],d&&d(b[e],c);return c},a.parse=function(a,b,c){return c=c||{},l(a,"",[],c.sectionTags||[])},a.cache={},a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda].join("||")},a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];return e?e:(e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c),this.cache[d]=e)}}(b);var d=function(a){function b(b,c,d,e){var f=c,g=this.partials[b],i=this.f(g.name,c,d,0);return i&&(f=f.concat(i)),a.Template.prototype.rp.call(this,b,f,d,e)}function c(b,c,d,e){var f=c[c.length-1],g=a.Template.prototype.f.call(this,b,c,d,e);if(g===!1){var i=f.lookup_missing_property?f:c[0];i.lookup_missing_property&&(g=i.lookup_missing_property(b,f),!e&&typeof g=="function"&&(g=this.lv(g,c,d)))}return g}function e(b,c,d){var e=a.parse.call(this,b,c,d),g="";for(var i=0;i<e.length;i++)if(e[i].tag=="_v"&&e[i].n.indexOf("%TRANSLATION-HINT")==0){var j=e.splice(i,1)[0];i--,g=j.n.substring(j.n.indexOf("mode=")+"mode=".length)}return f(e,g,c,d)}function f(b,c,d,e){var j=[];for(var k=0;k<b.length;k++)if(b[k].tag=="#"&&b[k].n=="_i"){var l=i(d.substring(b[k].i,b[k].end),c);l.tag=="raw"?j.push(l):Array.prototype.push.apply(j,a.parse(a.scan(l,e.delimiters),d,e))}else b[k].tag=="#"||b[k].tag=="^"?(b[k].nodes=f(b[k].nodes,c,d,e),j.push(b[k])):j.push(b[k]);return g(j)}function g(a){if(a.length==0)return a;var b=[a[0]];for(var c=1;c<a.length;c++)b[b.length-1].tag!="_t"||a[c].tag!="\n"&&a[c].tag!="_t"?b.push(a[c]):b[b.length-1].text+=a[c].text||"\n";return b}function i(a,b){var c={text:a,mode:b},d=typeof _!="undefined"?_(c):c.text;return d?d:a}var d=function(d,e,f,g){this.rp=b,this.f=c,a.Template.call(this,d,e,f,g)};d.prototype=a.Template.prototype;var j,k=function(){};return k.prototype=a,j=new k,j.template=d,j.parse=e,{twitterHogan:j,TwitterTemplate:d,to_html:function(a,b,c,e){a instanceof d||(a=j.compile(a,{sectionTags:[{o:"_i",c:"i"}]}));var f=a.render(b,c);if(!e)return f;e(f)}}}(b);typeof window!="undefined"&&(window.Mustache=d),typeof module!="undefined"&&(module.exports={Mustache:d,Hogan:b}),a()}),provide("libwrap/hogan",function(a){using("$lib/hogan.js",function(){a(Mustache)})}),provide("run/base",function(a){using("libwrap/jquery").as(function(b,c){function e(a,b){var c=window,d=a.split(".");for(var e=0,f=d.length;e<f;e++){var g=d[e];typeof c[g]=="undefined"&&(c[g]={}),c=c[g]}if(b)for(var i in b)c[i]=b[i];return c}window.h=function(a){var b=$("<div/>"),c=function(a){return a?b.text(a).html().replace(/\"/gi,"&quot;"):a};return h=function(a){return c(a)},c(a)},c.browser.msie&&c.browser.version==="7.0"&&(c.cleanData=function(a){var b,d,e=c.cache,f=c.event.special,g=c.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&c.noData[j.nodeName.toLowerCase()])continue;d=j[c.expando];if(d){b=e[d];if(b&&b.events){for(var k in b.events)f[k]?c.event.remove(j,k):c.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}g?delete j[c.expando]:j.removeAttribute&&j.removeAttribute(c.expando.toLowerCase()),delete e[d]}}});var d=/\[native code\]/;e("twttr",{provide:e,augmentObject:function(a,b){for(var c in b)a[c]=b[c];return a},aug:function(){return twttr.augmentObject.apply({},arguments)},augmentString:function(a,b){var c=window,d=a.split(".");for(var e=0,f=d.length;e<f;++e)c=c[d[e]]=c[d[e]]||(typeof d[e+1]!="undefined"?{}:b);return c},each:function(a,b,c){for(var d=0,e=a.length;d<e;++d)c?b.call(c,a[d],d,a):b(a[d],d,a)},localize:function(a,b){return typeof a[twttr.pageLocale]=="undefined"?b:a[twttr.pageLocale]},filter:function(a,b,c){var d;if(twttr.is.array(a)){var e=[];for(var f=0,g=a.length;f<g;++f){d=c?b.call(c,a[f],f,a):b(a[f],f,a);if(!d)continue;e.push(a[f])}return e}if(twttr.is.object(a)){var h={};for(var i in a){d=c?b.call(c,i,a[i],a):b(i,a[i],a);if(!d)continue;h[i]=a[i]}return h}},map:function(a,b,c,d){var e=twttr.is.array(a)?[]:{};d&&d=="array"&&(e=[]);for(var f in a)e[f]=c?b.call(c,a[f],f,a):b(a[f],f,a);return e},every:function(a,b,c){var d;for(var e=0,f=a.length;e<f;++e){d=c?b.call(c,a[e],e,a):b(a[e],e,a);if(!d)return!1}return!0},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(a,b,c){return $.each(a,function(a,d){b=c(b,a,d)}),b},exists:function(a,b){return!twttr.is.object(a)||!twttr.is.def(b)?null:twttr.is.def(twttr.at(b,a))},merge:function(){var a=c.makeArray(arguments);return a.length===1?a[0]:(twttr.is.bool(a[a.length-1])&&a.unshift(a.pop()),c.extend.apply(null,a))},extend:function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.uber=b.prototype,b.prototype.constructor==Object.prototype.constructor&&(b.prototype.constructor=b)},method:function(a,b){return this.prototype[a]=b,this},methods:function(a){this.prototype._namespace=this._namespace;for(var b in a)this.prototype[b]=a[b],twttr.is.fn(a[b])&&(this.prototype[b]._methodName=b);return this},statics:function(a){return twttr.aug(this,a)},at:function(b,c){var d=b.split("."),e=c||window;while(d.length>0){e=e[d.shift()];if(typeof e=="undefined")return undefined}return e},klass:function(a,b){typeof a!="string"&&(b=a,a={}["this evaluates to undefined"]);var c=b||function(){f.uberclass&&f.uberclass.apply(this,arguments)},e=[],f=function(){if(!(!twttr.development&&!twttr.isTestEnv||this!=window&&!d.test(this.constructor)))throw new Error((a?a:"(unnamed)")+" constructor must be called with the 'new' keyword");var b=this;c.apply(this,arguments),twttr.each(e,function(a){new a(f,b)})};if(a){twttr.augmentString(a,f);var g=a.split(".").pop();f.name=g.toLowerCase(),f._namespace=a,f._name=g}return f.lazyLoad=function(a){return e.push(a),f},f.method=twttr.method,f.methods=twttr.methods,f.statics=twttr.statics,f._isKlass=!0,c._methodName="constructor",f.subclassOf=function(a){if(!a._isKlass)throw"You should not be subclassing something that is not a twttr.klass";twttr.extend(f,a);for(var b in a)f.hasOwnProperty(b)||(f[b]=a[b]);return f.uberclass=a,f},f.mixin=function(){for(var b=0;b<arguments.length;b++){var c=arguments[b];twttr.is.def(c)?c.call(f,f):console.warn("you have an undefined mixin coming from "+a)}return f},f},magic:function(a,b){return twttr.is.string(a)?twttr.augmentString(a,b):twttr.aug(a,b)},bind:function(a,b,c){return function(){return b.apply(a,c?c.concat(Array.prototype.slice.apply(arguments)):arguments)}}}),twttr.deprecateAccess=function(a,b,c){c=c||{};if(!twttr.deprecateAccess.isActive||typeof console=="undefined"||typeof a.__defineGetter__!="function"||typeof a.__defineSetter__!="function"||typeof a.__lookupGetter__!="function"||typeof a.__lookupSetter__!="function")return;if(a.__lookupGetter__(b)||a.__lookupSetter__(b))return;!!c.now!=!!c.daysRemaining&&console&&console.error("To deprecate "+b+", you must provide both a now property and a daysRemaining property, or neither");var d=a[b],e,g=new Date(c.now+c.daysRemaining*1e3*60*60*24),i=g<new Date,j=function(){if(e||f)return;e=!0;var d=['The property "'+b+'" on ',a,"is deprecated."];c.replacement&&d.push("  Please use "+c.replacement+" instead."),c.daysRemaining&&c.now&&d.push("\nTHIS CODE WILL SELF-DESTRUCT ON "+g.toString()),c.message&&d.push("\nMessage: "+message),d.push("\nPlease remove the usage at ",{stack:(new Error).stack}),console[i?"error":"warn"].apply(console,d)};a.__defineGetter__(b,function(){return j(),d}),a.__defineSetter__(b,function(a){j(),d=a})},twttr.deprecateAccess.activate=function(a){typeof a=="undefined"&&(a=!0),twttr.deprecateAccess.isActive=a};var f=!1;twttr.unwarnedAccess=function(a,b){f=!0;var c=a[b];return f=!1,c},twttr.klass.mixin=function(a,b){return twttr.magic(a,b)},e("twttr.is",{element:function(a){return!!a&&!!(this.def(a.nodeType)||a.document&&a.document.nodeType)},bool:function(a){return typeof a=="boolean"},nil:function(a){return a===null},def:function(a){return typeof a!="undefined"},number:function(a){return typeof a=="number"&&isFinite(a)},fn:function(a){return typeof a=="function"},array:function(a){return a?this.number(a.length)&&this.fn(a.splice):!1},string:function(a){return typeof a=="string"},blank:function(a){return a===""},falsy:function(a){return!a},object:function(a){return!(!a||typeof a!="object"&&!this.fn(a))},regex:function(a){return Object.prototype.toString.apply(a)==="[object RegExp]"},inArray:function(a,b){var c=b.length,d=0;for(d=0;d<c;d++)if(b[d]===a)return!0;return!1}}),twttr.provide("twttr.assets",{getPathFromAbsoluteURL:function(a,b){if(!twttr.cdnBase)return a;if(a.indexOf("/unversioned_dev_assets/")===0)return a;var c;if(a.match(/^https?:/)){function d(a){var b=a.split("://")[1];return b.split("/").slice(1).join("/")}c=d(a)}else console.warn("A relative path (%o) was passed to getPathFromAbsoluteURL, which expects an absolute URL; you should use twttr.assets.path instead",a),c=a;return this.path(c,b)},path:function(a,b){if(!twttr.cdnBase)return a;if(a.match(/^https?:/))return typeof console!="undefined"&&console.warn&&console.warn("A fully qualified URL (%o) was passed to twttr.assets.path, which expects a relative path; returning it unchanged",a),a;b=b||{};var c=typeof b.isSSL=="undefined"?twttr.proto=="https":b.isSSL,d=typeof b.isVersioned=="undefined"?!0:b.isVersioned,e,f,g;return d?e=twttr.cdnBase.versioned:e=twttr.cdnBase.unversioned,c?(f=e.ssl,e.ssl_akamai&&twttr.decider.isAvailable("ssl_cdn_akamai_fraction")&&(f=e.ssl_akamai)):f=e.http,a[0]!=="/"&&(a="/"+a),g=f[twttr.assets.stringToBucket(a,f.length)],g+a},stringToBucket:function(a,b){if(!b)throw new Error("Missing numberOfBuckets argument");var c=a.split("/"),d=c[c.length-1],e=0;for(var f=0;f<d.length;f++)e+=d.charCodeAt(f);return e%b}}),a(twttr)})}),provide("_",function(a){using("util").as(function(b){var c=b.util.params().lang=="en-xx",_=window._=function(a,b){var c=a,e;return twttr.is.object(a)&&(c=a.text,e=a.mode),c=d(c,e),b==null?c:Mustache.to_html(c,b)};_.pseudoTranslate=function(a){str="[";var b=0;for(var c=0;c<a.length;c++)a[c]==">"||a[c]=="}"?b--:(a[c]=="<"||a[c]=="{")&&b++,b>0?str+=a[c]:str+=a[c].replace(/a/g,"åä").replace(/e/g,"éê").replace(/i/g,"ïí").replace(/o/g,"öø").replace(/u/g,"ü");return str+="]",str};var d=function(a,b){var d=a;if(!!twttr.i18n){var e=undefined;b?e=twttr.i18n[b+":"+a]||twttr.i18n[a]:e=twttr.i18n[a],e&&(d=e)}return c?_.pseudoTranslate(d):d};a(_)})}),provide("EventProvider",function(a){using().as(function(b){twttr.provide("twttr.EventProvider",{events:null,_provider:function(){return this._eventProvider||(this._eventProvider=$("<div/>")),this._eventProvider},_createEvent:function(a){this.events||(this.events={}),this.events[a]||(this.events[a]=new $.Event(a))},trigger:function(){this._createEvent(arguments[0]);var a=this._provider();a.trigger.apply(a,arguments)},bind:function(){this._createEvent(arguments[0]);var a=this._provider();a.bind.apply(a,arguments)},one:function(){this._createEvent(arguments[0]);var a=this._provider();a.one.apply(a,arguments)},unbind:function(){var a=this._provider();a.unbind.apply(a,arguments)},_signalProvider:function(){return this._signalProviderObj||(this._signalProviderObj={fired:{},queues:{}}),this._signalProviderObj},signal:function(a){var b=this._signalProvider();if(!b.fired[a]){b.fired[a]=!0;var c=b.queues[a]||[];for(var d=0;d<c.length;d++)c[d].call(null);delete b.queues[a]}},waitForSignal:function(a,b){var c=this._signalProvider();c.fired[a]?b.call():(c.queues[a]||(c.queues[a]=[]),c.queues[a].push(b))}}),a(twttr.EventProvider)})}),provide("bluejs/init",function(a){using(function(){twttr.anywhere=twttr.anywhere||{},twttr.anywhere.api=twttr.anywhere.api||{},twttr.anywhere.remote=twttr.anywhere.remote||{};var b=["models","util","proxies","mixins"];for(var c=0,d=b.length;c<d;++c)twttr.anywhere.api[b[c]]={};twttr.anywhere.api.config={useLocalStorage:!1,cacheObjects:!0,includeEntities:!1},twttr.anywhere.api.updateConfig=function(a){twttr.aug(twttr.anywhere.api.config,a)},twttr.anywhere.api.initialize=function(a){this.updateConfig(a),twttr.anywhere.api.globalEvents=twttr.aug({},twttr.EventProvider);for(var b in twttr.anywhere.api.models){if(b=="Base")continue;(function(){twttr.anywhere.api.proxies[b]=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.models[b],function(a){this.event=a})})()}twttr.anywhere.api.util.BaseCollection._name="twttr.anywhere.proxies.Collection",twttr.anywhere.api.proxies.Collection=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.util.BaseCollection,function(a){this.event=a}),delete twttr.anywhere.api.util.BaseCollection._name,twttr.anywhere.api.config.useLocalStorage&&window.localStorage?twttr.anywhere.api.cache=new twttr.anywhere.api.util.LocalStorageCache:twttr.anywhere.api.cache=new twttr.anywhere.api.util.RequestCache},a()})}),provide("bluejs/config/endpoints",function(a){using(function(){var b="i",c="1",d=twttr.anywhere.api.endpoints={"blocks/blocking/ids":{url:"blocks/blocking/ids",type:"GET"},":user/:list_id/subscribers/create":{url:":user/:list_id/subscribers",type:"POST",optional_parameters:!0},"promoted_content/:event_type/log":{url:"promoted_content/:event_type/log",type:"GET",optional_parameters:!0},":user/lists":{url:":user/lists",type:"GET",optional_parameters:!0},"lists/all":{url:"lists/all",type:"GET",optional_parameters:!0},"geo/search":{url:"geo/search",type:"GET",optional_parameters:!0},"followers/ids":{url:"followers/ids",type:"GET",optional_parameters:!0},"users/show":{url:"users/show",type:"GET",optional_parameters:!0},"urls/resolve":{url:"urls/resolve",type:"GET",optional_parameters:!0},"account/settings":{url:"account/settings",type:"GET"},"account/update_profile_background_image":{url:"account/update_profile_background_image",type:"POST",optional_parameters:!0},"users/recommendations/hide":{url:"users/recommendations/hide",type:"POST",optional_parameters:!0},"friendships/update":{url:"friendships/update",type:"POST",optional_parameters:!0},":user/lists/memberships":{url:":user/lists/memberships",type:"GET",optional_parameters:!0},"lists/destroy":{url:"lists/destroy",type:"POST",optional_parameters:!0},"saved_searches/show/:id":{url:"saved_searches/show/:id",type:"GET",optional_parameters:!0},"friendships/show":{url:"friendships/show",type:"GET",optional_parameters:!0},"lists/statuses":{url:"lists/statuses",type:"GET",optional_parameters:!0},"statuses/friends":{url:"statuses/friends",type:"GET",optional_parameters:!0},"users/lookup":{url:"users/lookup",type:"GET",optional_parameters:!0},"statuses/show":{url:"statuses/show",type:"GET",optional_parameters:!0},"statuses/user_timeline":{url:"statuses/user_timeline",type:"GET",optional_parameters:!0},"statuses/profile_timeline":{url:"statuses/profile_timeline",type:"GET",optional_parameters:!0},"statuses/network_timeline":{url:"statuses/network_timeline",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"statuses/media_timeline":{url:"statuses/media_timeline",type:"GET",optional_parameters:!0},"statuses/:id/retweeted_by/ids":{url:"statuses/:id/retweeted_by/ids",type:"GET",optional_parameters:!0},"trends/available":{url:"trends/available",type:"GET",optional_parameters:!0},":user/:id/subscribers/destroy":{url:":user/:id/subscribers",type:"DELETE",optional_parameters:!0},":user/:id/members/destroy":{url:":user/:id/members",type:"DELETE",optional_parameters:!0},"lists/members/destroy":{url:"lists/members/destroy",type:"POST",optional_parameters:!0},"account/update_delivery_device":{url:"account/update_delivery_device",type:"POST",optional_parameters:!0},"direct_messages/new":{url:"direct_messages/new",type:"POST",optional_parameters:!0},"users/suggestions/random":{url:"users/suggestions/random",type:"GET",optional_parameters:!0},"geo/nearby_places":{url:"geo/nearby_places",type:"GET",optional_parameters:!0},"blocks/blocking":{url:"blocks/blocking",type:"GET",optional_parameters:!0},"friendships/accept":{url:"friendships/accept",type:"POST",optional_parameters:!0},"statuses/update":{url:"statuses/update",type:"POST",optional_parameters:!0},"statuses/update_with_media":{url:"statuses/update_with_media",type:"POST",host:twttr.domains.upload,use_host_in_prod:!0,optional_parameters:!0},"saved_searches/create":{url:"saved_searches/create",type:"POST",optional_parameters:!0},":user/:list_id/subscribers":{url:":user/:list_id/subscribers",type:"GET",optional_parameters:!0},"statuses/retweeted_to_me":{url:"statuses/retweeted_to_me",type:"GET",optional_parameters:!0},":user/:list_id/subscribers/:id":{url:":user/:list_id/subscribers/:id",type:"GET",optional_parameters:!0},"statuses/retweets/:id":{url:"statuses/retweets/:id",type:"GET",optional_parameters:!0},"statuses/public_timeline":{url:"statuses/public_timeline",type:"GET"},"statuses/friends_timeline":{url:"statuses/friends_timeline",type:"GET",optional_parameters:!0},"trends/weekly":{url:"trends/weekly",type:"GET",optional_parameters:!0},"account/update_profile_image":{url:"account/update_profile_image",type:"POST",optional_parameters:!0},"users/profile_image/:screen_name":{url:"users/profile_image/:screen_name",type:"GET",optional_parameters:!0},"users/suggestions":{url:"users/suggestions",type:"GET",optional_parameters:!0},"friendships/cancel":{url:"friendships/cancel",type:"POST",optional_parameters:!0},"statuses/sample":{url:"statuses/sample",type:"GET",optional_parameters:!0},"account/update_profile":{url:"account/update_profile",type:"POST",optional_parameters:!0},"notifications/follow":{url:"notifications/follow",type:"POST",optional_parameters:!0},"geo/place":{url:"geo/place",type:"POST",optional_parameters:!0},"lists/show":{url:"lists/show",type:"GET",optional_parameters:!0},"statuses/followers":{url:"statuses/followers",type:"GET",optional_parameters:!0},"friendships/accept_all":{url:"friendships/accept_all",type:"POST"},"help/test":{url:"help/test",type:"GET"},":user/lists/subscriptions":{url:":user/lists/subscriptions",type:"GET",optional_parameters:!0},"direct_messages/destroy":{url:"direct_messages/destroy",type:"POST",optional_parameters:!0},"statuses/home_timeline":{url:"statuses/home_timeline",type:"GET",optional_parameters:!0},":user/:list_id/members/:id":{url:":user/:list_id/members/:id",type:"GET",optional_parameters:!0},report_spam:{url:"report_spam",type:"POST",optional_parameters:!0},"related_results/show/:id":{url:"related_results/show/:id",type:"GET",optional_parameters:!0},"account/rate_limit_status":{url:"account/rate_limit_status",type:"GET"},"urls/shorten":{url:"urls/shorten",type:"GET",optional_parameters:!0},"geo/reverse_geocode":{url:"geo/reverse_geocode",type:"GET",optional_parameters:!0},"trends/daily":{url:"trends/daily",type:"GET",optional_parameters:!0},"account/verify_credentials":{url:"account/verify_credentials",type:"GET"},":user/lists/create":{url:":user/lists",type:"POST",optional_parameters:!0},"account/update_profile_colors":{url:"account/update_profile_colors",type:"POST",optional_parameters:!0},"users/suggestions/:slug/members":{url:"users/suggestions/:slug/members",type:"GET",optional_parameters:!0},"geo/similar_places":{url:"geo/similar_places",type:"GET",optional_parameters:!0},"blocks/create":{url:"blocks/create",type:"POST",optional_parameters:!0},":user/:list_id/members":{url:":user/:list_id/members",type:"GET",optional_parameters:!0},"friends/ids":{url:"friends/ids",type:"GET",optional_parameters:!0},"favorites/destroy/:id":{url:"favorites/destroy/:id",type:"POST",optional_parameters:!0},"geo/id/:id":{url:"geo/id/:id",type:"GET",optional_parameters:!0},"statuses/retweet":{url:"statuses/retweet",type:"GET",optional_parameters:!0},"favorites/:id":{url:"favorites/:id",type:"GET",optional_parameters:!0},"statuses/retweeted_by_me":{url:"statuses/retweeted_by_me",type:"GET",optional_parameters:!0},":user/:list_id/members/create":{url:":user/:list_id/members",type:"POST",optional_parameters:!0},"lists/members/create":{url:"lists/members/create",type:"POST",optional_parameters:!0},"users/search":{url:"users/search",type:"GET",optional_parameters:!0},"users/typeahead_social":{url:"search/typeahead",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"users/typeahead_global":{url:"search/typeahead",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"statuses/filter":{url:"statuses/filter",type:"POST",optional_parameters:!0},"friendships/create":{url:"friendships/create",type:"POST",optional_parameters:!0},"friendships/create_all":{url:"friendships/create_all",type:"POST",optional_parameters:!0},"account/settings/create":{url:"account/settings",type:"POST",optional_parameters:!0},"trends/current":{url:"trends/current",type:"GET",optional_parameters:!0},"users/suggestions/:slug":{url:"users/suggestions/:slug",type:"GET",optional_parameters:!0},"statuses/firehose":{url:"statuses/firehose",type:"GET",optional_parameters:!0},saved_searches:{url:"saved_searches",type:"GET"},direct_messages:{url:"direct_messages",type:"GET",optional_parameters:!0},"friendships/deny_all":{url:"friendships/deny_all",type:"POST"},"lists/update":{url:"lists/update",type:"POST",optional_parameters:!0},"blocks/destroy":{url:"blocks/destroy",type:"POST",optional_parameters:!0},"friendships/exists":{url:"friendships/exists",type:"GET",optional_parameters:!0},"users/contributors":{url:"users/contributors",type:"GET",optional_parameters:!0},"statuses/mentions":{url:"statuses/mentions",type:"GET",optional_parameters:!0},"favorites/create/:id":{url:"favorites/create/:id",type:"POST",optional_parameters:!0},trends:{url:"trends",type:"GET"},"trends/:woeid":{url:"trends/:woeid",type:"GET",optional_parameters:!0,internal_auth:!0},"urls/shorten_multiple":{url:"urls/shorten_multiple",type:"GET",optional_parameters:!0},"statuses/destroy":{url:"statuses/destroy",type:"POST",optional_parameters:!0},"statuses/retweet/:id":{url:"statuses/retweet/:id",type:"POST",optional_parameters:!0},"direct_messages/sent":{url:"direct_messages/sent",type:"GET",optional_parameters:!0},"blocks/exists":{url:"blocks/exists",type:"GET",optional_parameters:!0},"saved_searches/destroy/:id":{url:"saved_searches/destroy/:id",type:"POST",optional_parameters:!0},"statuses/retweets_of_me":{url:"statuses/retweets_of_me",type:"GET",optional_parameters:!0},"friendships/deny":{url:"friendships/deny",type:"POST",optional_parameters:!0},"friendships/destroy":{url:"friendships/destroy",type:"POST",optional_parameters:!0},"account/end_session":{url:"account/end_session",type:"POST"},"notifications/leave":{url:"notifications/leave",type:"POST",optional_parameters:!0},"statuses/:id/retweeted_by":{url:"statuses/:id/retweeted_by",type:"GET",optional_parameters:!0},"users/recommendations":{url:"users/recommendations",type:"GET",optional_parameters:!0},"account/view_possibly_sensitive":{url:"account/view_possibly_sensitive",type:"GET",optional_parameters:!0,internal:!0},"account/update_view_possibly_sensitive":{url:"account/update_view_possibly_sensitive",type:"GET",optional_parameters:!0,internal:!0},"account/personalization_settings":{url:"account/personalization_settings",type:"GET",optional_parameters:!0,internal:!0},"account/update_personalization_settings":{url:"account/update_personalization_settings",type:"POST",optional_parameters:!0,internal:!0},"account/has_dismissed_geo_promo":{url:"account/has_dismissed_geo_promo",type:"GET",optional_parameters:!0,internal:!0},"account/update_has_dismissed_geo_promo":{url:"account/update_has_dismissed_geo_promo",type:"GET",optional_parameters:!0,internal:!0},"account/geo_location":{url:"account/geo_location",type:"POST",optional_parameters:!0,internal:!0},"account/email_status":{url:"account/email_status",type:"GET",optional_parameters:!0,internal:!0},"users/send_recommendation_rating":{url:"users/send_recommendation_rating",type:"POST",optional_parameters:!0,internal:!0},"users/send_invites_by_email":{url:"users/send_invites_by_email",type:"POST",optional_parameters:!0,internal:!0},"users/following_followers_of":{url:"users/following_followers_of",type:"GET",optional_parameters:!0,internal:!0},"users/follows_in_common_with":{url:"users/follows_in_common_with",type:"GET",optional_parameters:!0,internal:!0},"users/update_discoverability":{url:"users/update_discoverability",type:"POST",optional_parameters:!0,internal:!0},"users/show_for_profile":{url:"users/show_for_profile",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/services":{url:"find_sources/contacts/services",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/matches":{url:"find_sources/contacts/matches",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/others":{url:"find_sources/contacts/others",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/follow_all":{url:"find_sources/contacts/follow_all",type:"POST",optional_parameters:!0,internal:!0},"find_sources/contacts/add_to_list":{url:"find_sources/contacts/add_to_list",type:"POST",optional_parameters:!0,internal:!0},"promos/random_json_promo":{url:"promos/random_json_promo",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},search:{url:"phoenix_search",type:"GET",optional_parameters:!0,internal:!0,mime_type:"phoenix"},"i/search":{url:"search",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"i/discovery":{url:"discovery",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"api/related_results/show/:id":{url:"api/related_results/show/:id",type:"GET",optional_parameters:!0,internal:!0},"friendships/incoming":{url:"friendships/incoming",type:"GET",optional_parameters:!0},"friend_requests/accept":{url:"friend_requests/accept",type:"POST",optional_parameters:!0,internal:!0},"friend_requests/deny":{url:"friend_requests/deny",type:"POST",optional_parameters:!0,internal:!0},"friendships/set_shares":{url:"friendships/set_shares",type:"POST",optional_parameters:!0,internal:!0},"bouncers/reset":{url:"bouncers/reset",type:"POST",optional_parameters:!0,internal:!0},"account/resend_confirmation_email":{url:"account/resend_confirmation_email",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},"download/apps":{url:"download/apps",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},"download/send_link":{url:"download/send_link",type:"POST",optional_parameters:!0,internal:!0},"devices/list":{url:"devices/list",type:"GET",internal:!0},"devices/carriers":{url:"devices/carriers",type:"GET",internal:!0},"devices/create":{url:"devices/create",type:"POST",optional_parameters:!0,internal:!0,mime_type:""},"devices/destroy":{url:"devices/destroy",type:"POST",optional_parameters:!0,internal:!0,mime_type:""},"statuses/flag_possibly_sensitive":{url:"statuses/flag_possibly_sensitive",type:"POST",optional_parameters:!0},"statuses/update_possibly_sensitive":{url:"statuses/update_possibly_sensitive",type:"POST",optional_parameters:!0},"promoted_content/home_timeline":{url:"promoted_content/home_timeline",type:"GET"},"promoted_content/feedback":{url:"promoted_content/feedback",type:"POST",optional_parameters:!0},"statuses/oembed":{url:"statuses/oembed",optional_parameters:!0},"direct_messages/conversations":{url:"direct_messages/conversations",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"direct_messages/conversation_with":{url:"direct_messages/conversation_with",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"users/get_prompt":{url:"users/get_prompt",type:"GET",internal:!0,optional_parameters:!0},"users/dismiss_prompt":{url:"users/dismiss_prompt",type:"POST",internal:!0,optional_parameters:!0},"statuses/following_timeline":{url:"statuses/following_timeline",type:"GET",optional_parameters:!0},"search/facets":{url:"search/facets",type:"GET",optional_parameters:!0,internal:!0},"search/image_facets":{url:"search/image_facets",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"search/video_facets":{url:"search/video_facets",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"activity/activity_by_user":{url:"activity/by_user",optional_parameters:!0,version:b},"activity/activity_of_me":{url:"activity/about_me",optional_parameters:!0,version:b},"activity/activity_by_people_i_follow":{url:"activity/by_friends",optional_parameters:!0,version:b},"statuses/:id/activity":{url:"statuses/:id/activity",optional_parameters:!1,version:b},"statuses/:id/activity/summary":{url:"statuses/:id/activity/summary",optional_parameters:!1,version:b},"government_search/by_zip":{url:"government_search/by_zip",optional_parameters:!0,version:b,internal_auth:!0}};a(d)})}),provide("bluejs/util/request_helpers",function(a){using(function(){function d(a,c){return function(d,e,f){delete b[a];if(!d||e===0||e>=600)c({error:!0,status:0,reason:"No response or network disconnected."});else{var g=f.getResponseHeader("X-Twitter-Identity");g&&(d._identity=g),c(d)}}}function e(a,c){return function(d,e){function g(a){try{return JSON.parse(a)}catch(b){return{}}}delete b[a];var f="An error occured";d.status==401?f="Access denied":d.status==403&&(f="Permission denied"),c({error:!0,status:d.status,response:g(d.responseText),reason:f,xhr:d})}}function g(a,b){var c=a.split("/"),d=0,e=$.map(c,function(a){return a.indexOf(":")===0?b[d++]:a});return e.join("/")}function i(a,c){if(c.headers){var d=c.headers;c.headers=null,c.beforeSend=function(a){for(var b in d)a.setRequestHeader(b,d[b])}}var e=$.ajax(c);b[a]=e}function j(a,b){var c,d,e={dataType:"json",type:a.type||"get",url:""};a.use_host_in_prod&&(e.use_host_in_prod=!0),e.type=e.type.toLowerCase(),a.domain?e.url+=a.domain:(e.url+="/",a.internal||(e.url+=twttr.is.def(a.version)?a.version:"1",e.url+="/")),e.url+=a.url,c=b.slice(0,a.url.split(":").length-1),c.length>0&&(e.url=g(e.url,c)),a.mime_type!==""&&(e.url+=a.mime_type?"."+a.mime_type:".json"),e.data={};if(a.optional_parameters){d=b.slice(c.length);if(d.length>1)throw new"Optional parameter list is longer than expected";e.data=d[0]}if(e.type==="delete"||e.type==="put")e.data._method=a.type.toLowerCase(),e.type="post";a.headers&&(e.headers=a.headers),a.host&&(e.host=a.host);if(a.internal_auth||e.type!=="get")e.data.post_authenticity_token=twttr.anywhere.api.config.postAuthenticityToken;return e}var b={},c=/localhost\.twitter\.com/,f=function(){var a=0,b,f;return window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?(b=function(){return new twttr.anywhere.remote.server.contentWindow.XMLHttpRequest},f=function(a){return function(){return new twttr.anywhere.api.util.RemoteRequest.hosts[a].contentWindow.XMLHttpRequest}}):(b=function(){try{return new twttr.anywhere.remote.server.contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}},f=function(a){return function(){try{return new twttr.anywhere.api.util.RemoteRequest.hosts[a].contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}}),function(g,j,k){var l=++a;return j.success=d(l,k),j.error=e(l,k),j.data=j.data||{},j.headers=j.headers||{},j.headers["X-PHX"]="true",j.host&&(twttr.domains.local.match(c)||j.use_host_in_prod)?(j.xhr=f(j.host),delete j.host,delete j.use_host_in_prod):g||(j.xhr=b),i(l,j),l}}();window.isTestMode&&(twttr.anywhere.api.buildRequestOptions=j),twttr.anywhere.api.makeRequest=function(a,b,c){return f(a.internal,j(a,b),c)},twttr.anywhere.api.cancelApiRequest=function(a){var c=b[a];c&&c.abort()},a({makeRequest:twttr.anywhere.api.makeRequest,cancelApiRequest:twttr.anywhere.api.cancelApiRequest})})}),provide("bluejs/util/local_storage_cache",function(a){using(function(){var b={"users/show":{},"account/verify_credentials":{},"users/lookup":{}},c=.5,d=twttr.klass("twttr.anywhere.api.util.LocalStorageCache",function(){}).methods({clear:function(){for(var a in twttr.storage.getAll(/twitter_anywhere_cache_/))twttr.storage.expire(a)},put:function(a,d,e){if(a in b){var f=this._createKey(a,d);return twttr.storage.setWithExpiry(f,JSON.stringify(e),c),!0}return!1},get:function(a,b){var c=this._createKey(a,b),d;return(d=twttr.storage.get(c))?JSON.parse(d):null},expire:function(a){for(var b in twttr.storage.getAll(/twitter_anywhere_cache_/))b.match(a)&&twttr.storage.expire(b)},writeThroughCallback:function(a,b,c){return twttr.bind(this,function(d){this.put(a,b,d),c(d)})},_createKey:function(a,b){return"twitter_anywhere_cache_"+JSON.stringify([a,b])}});a(d)})}),provide("bluejs/util/object_cache",function(a){using(function(){var b=twttr.klass("twttr.anywhere.api.util.ObjectCache",function(a,b){this.store={},this.size=0,this.options=b||{},this.keys=this.options.keys||[{name:"id",type:"number"},{name:"id",type:"string"}],this.keyNames={};for(var c=0;c<this.keys.length;c++)this.keyNames[this.keys[c].type]=this.keys[c].name;this.shouldCacheAssociated=!!this.options.cacheAssociated,this.shouldExpireAssociated=!!this.options.expireAssociated,this.klass=a,this.constructor._instances.push(this),a._cache=this}).statics({_capacity:7e3,_instances:[],_currentSize:0,_epoch:new Date,_maxAge:3e5,isAtCapacity:function(){return this._currentSize===this._capacity},eject:function(){var a=this._instances[0];for(var b=1,c=this._instances.length;b<c;++b)this._instances[b].size>a.size&&(a=this._instances[b]);a.eject()},sweeper:function(){var a;for(var b=0,c=this._instances.length;b<c;++b){a=this._instances[b];for(var d in a)a[d].createdAt-this._epoch>this._maxAge&&a[d].expire()}},flush:function(){for(var a=0,b=this._instances.length;a<b;++a)this._instances[a].flush()}}).methods({_persist:function(a,b){this.store[a]={value:b.data(),accessCount:1,lastAccess:new Date},this.size++,this.constructor._currentSize++},_touch:function(a){var b=new Date;this.store[a].accessCount++,this.store[a].createdAt=b,this.store[a].lastAccess=b-this.constructor._epoch},_eject:function(){this.size--,this.constructor._currentSize--},eject:function(){var a,b=new Date-this.constructor._epoch;for(var c in this.store)this.store[c].lastAccess<b&&(a=c,b=this.store[c].lastAccess);delete this.store[a],this._eject()},flush:function(){this.constructor._currentSize-=this.size,this.store={},this.size=0},get:function(a){var b=typeof a,c=this.keyNames[b];b==="string"&&(a=a.toLowerCase());var d=c+"_"+a;return this.store[d]?(this._touch(d),new this.klass(this.store[d].value)):null},getMulti:function(a){var b=[],c=[];for(var d=0,e=a.length;d<e;++d){var f=this.get(a[d]);f?b.push(f):c.push(a[d])}return{hits:new twttr.anywhere.api.util.BaseCollection(b),misses:c}},cache:function(a,b){b=b||{};var c=this.shouldCacheAssociated;twttr.is.def(b.shouldCacheAssociated)&&(c=b.shouldCacheAssociated),this.constructor.isAtCapacity()&&this.constructor.eject();var d,e,f;for(var g=0,i=this.keys.length;g<i;++g)f=this.keys[g].name,d=a[f]||"",this.keys[g].type==="string"&&(d=d.toLowerCase()),e=f+"_"+d,this._persist(e,a);if(c){var j=a.constructor._registry;if(j)for(var k in j){var l=a[k];l&&this.cacheAssociated(l)}}return a},cacheAssociated:function(a){if(a instanceof twttr.anywhere.api.util.BaseCollection&&a.length()){a=a.array;var b=a[0].constructor._cache;if(b)for(var c=0,d=a.length;c<d;++c)b.cache(a[c])}else{var b=a.constructor._cache;b&&b.cache(a)}},expire:function(a,b){b=b||{};var c=this.shouldExpireAssociated;twttr.is.def(b.shouldExpireAssociated)&&(c=b.shouldExpireAssociated);var d,e;for(var f=0,g=this.keys.length;f<g;++f)e=a[this.keys[f]]+"",d=d||this.store[e],delete this.store[e],this._eject();if(d){if(c){var i=a.constructor._registry;if(i)for(var j in i){var k=a[j];k&&this.expireAssociated(k)}}return!0}return!1},expireAssociated:function(a){if(a instanceof twttr.anywhere.api.util.BaseCollection&&a.length()){a=a.array;var b=a[0].constructor._cache;if(b)for(var c=0,d=a.length;c<d;++c)b.expire(a[c])}else{var b=a.constructor._cache;b&&b.expire(a)}}});twttr.augmentString("twttr.anywhere.api.util.expireObject",function(a){this.constructor._cache.expire(this,a)}),twttr.augmentString("twttr.anywhere.api.util.cacheObject",function(a){this.constructor._cache.cache(this,a)}),a(b)})}),provide("bluejs/util/request_cache",function(a){using(function(){var b={},c=twttr.klass("twttr.anywhere.api.util.RequestCache",function(){this.store={}}).statics({DEFAULT_TTL:3e5}).methods({clear:function(){this.store={}},inject:function(a,b,c,d){var e={response:c,timestamp:new Date};return d&&(e.RTL=d),this.store[twttr.anywhere.api.util._createRequestKey(a,b)]=e,!0},put:function(a,c,d,e){return a in b?this.inject.apply(this,arguments):!1},get:function(a,b){var c=twttr.anywhere.api.util._createRequestKey(a,b),d,e=this.store[c];if(e){if(!(e.RTL!==undefined&&e.RTL===0||new Date-e.timestamp>this.constructor.DEFAULT_TTL))return e.RTL!==undefined&&e.RTL--,e.response;delete this.store[c]}return null},expire:function(a){for(var b in this.store)b.match(a)&&delete this.store[b]},writeThroughCallback:function(a,b,c){return twttr.bind(this,function(d){this.put(a,b,d),c(d)})}});a(c)})}),provide("bluejs/util/helpers",function(a){using(function(){twttr.klass("twttr.anywhere.api.util.EventChain",function(){}).methods(twttr.EventProvider);var b={cast:!0,cancel:!0,success:!0,complete:!0,timeout:!0,error:!0,before:!0,eventName:!0,cacheOptions:!0},c=["phxcom"];twttr.augmentObject(twttr.anywhere.api.util,{chain:new twttr.anywhere.api.util.EventChain,noop:function(){},defaultTrigger:"current_user",camelize:function(){var a={};return function(b){var c=a[b];return c||(c=b.replace(/_(.)/g,function(a,b){return b.toUpperCase()}),a[b]=c),c}}(),filterOptions:function(a,b){var d={},e=a.concat(c);for(var f=0,g=e.length;f<g;++f){var i=e[f];twttr.is.def(b[i])&&(d[i]=b[i])}return d},underscore:function(){var a={};return function(b){var c=a[b];return c||(c=b.replace(/([a-z])([A-Z])/g,function(a,b,c){return(b+"_"+c).toLowerCase()}),a[b]=c),c}}(),buildCollection:function(a,b){var c=new twttr.anywhere.api.util.BaseCollection;for(var d=0,e=b.length;d<e;++d)c.push(new a(b[d]));return c},traverse:function(a,b){if(!b.length)return a;var c=b.shift();if(twttr.is.def(a[c])&&!twttr.is.nil(a[c]))return twttr.anywhere.api.util.traverse(a[c],b);var d=twttr.anywhere.api.util.traverseCurrentTrends(a,c);return d?d:null},traverseCurrentTrends:function(a,b){if(b=="current_trends")for(key in a)if(a.hasOwnProperty(key))return a[key];return null},cleanParams:function(a){var c={};for(var d in a)b[d]||(c[d]=a[d]);return c},optify:function(a){var b={success:twttr.anywhere.api.util.noop,error:twttr.anywhere.api.util.noop,complete:twttr.anywhere.api.util.noop};return a?twttr.is.fn(a)?twttr.merge({},b,{success:a}):twttr.merge({},b,a):b},useStringIdentifier:function(a,b){var c=b+"_str";if(!a)return;a[c]?(a[b]=a[c].toString(),delete a[c]):a[b]&&(a[b]=a[b].toString())},normalizePromotedTweet:function(a){if(a.promoted_content){var b=a.promoted_content;delete a.promoted_content,a=$.extend(a,b),a.socialContext=a.social_context,delete a.social_context}else if(a.entities&&a.entities.promoted_content){var b=a.entities.promoted_content;delete a.entities.promoted_content,a=$.extend(a,b)}return a},serializeArgs:function(a){var b="";for(var c=0,d=a.length;c<d;++c){var e=a[c],f=[];if(typeof e=="object"){for(var g in e)f.push(g);f.sort();for(var i=0,j=f.length;i<j;++i)b+=f[i]+e[f[i]]}else b+=JSON.stringify(e)}return b},_createRequestKey:function(a,b){return JSON.stringify([a,twttr.anywhere.api.util.serializeArgs(b)])},sanitize:function(a){if(!a)return a;var b=["\0","‎","‏","\u2028","\u2029","‪","‫","‬","‭","‮","￾","﻿","￿"],c;for(c=0;c<b.length;c++)a=a.replace(new RegExp(b[c],"g"),"");return a},returnClassFromType:function(a){return twttr.is.array(a)?[twttr.anywhere.api.models[a[0]]]:twttr.anywhere.api.models[a]},genEventName:function(){return"chain_"+(new Date).getTime()+Math.random()*1e3},proxyNameFromType:function(a){return a===undefined?null:a===null||twttr.is.array(a)?"Collection":a},makeRemoteRequest:function(a,b,c,d){var e=this,f,g=b;d=d||{},f=typeof c=="function"?{success:c}:c,(new twttr.anywhere.api.util.RemoteRequest(twttr.merge({methodName:a,args:b,callbacks:f},d))).send()},callMethod:function(a){function j(c){c.packed_response_type?c.available_features&&d.inject("account/available_features",{},c.available_features,1):a.dataSource.shift();var e=a.dataSource.length?twttr.anywhere.api.util.traverse(c,a.dataSource):c,f=!twttr.is.def(e)||twttr.is.nil(e),g;twttr.is.array(b)?g=f?new twttr.anywhere.api.util.BaseCollection:twttr.anywhere.api.util.buildCollection(b[0],e):f?g=null:g=b?new b(e):e,setTimeout(function(){a.options.success(g,c)},0)}var b,c=twttr.anywhere.api.util.RemoteRequest.priorities.NORMAL,d=twttr.anywhere.api.cache,e=!0,f={};a.options&&(b=a.options.cast,delete a.options.cast,a.options.headers&&(f=a.options.headers,delete a.options.headers),a.options.priority&&(c=a.options.priority,delete a.options.priority),a.options.useRequestCache&&(e=a.options.useRequestCache,delete a.options.useRequestCache)),b=b||a.cast;var g=a.params[a.params.length-1];twttr.is.object(g)&&(a.params[a.params.length-1]=twttr.anywhere.api.util.cleanParams(g));var i;if(d&&e&&(i=d.get(a.url,a.params)))j(i);else{var k={before:a.options.before,success:d?d.writeThroughCallback(a.url,a.params,j):j,error:a.options.error,complete:a.options.complete,timeout:a.options.timeout,cancel:a.options.cancel};twttr.anywhere.api.util.makeRemoteRequest(a.url,a.params,k,{headers:f,priority:c})}},chainableFn:function(a,b){function d(b,e){d._curry&&b instanceof twttr.anywhere.api.util.BaseCollection&&(d._curry instanceof twttr.anywhere.api.util.BaseCollection?b=b.concat(d._curry):b.push(d._curry)),a(b,{response:e}),twttr.anywhere.api.util.chain.trigger(c,[b])}var c;return b.eventName?(c=b.eventName,delete b.eventName):c=twttr.anywhere.api.util.genEventName(),d.event=c,d},cacheFn:function(a,b){return function(c){b=b||{};var d;if(c instanceof twttr.anywhere.api.util.BaseCollection){var e=c.toArray();for(var f=0,g=e.length;f<g;++f)twttr.is.object(e[f])&&e[f].constructor._isModel&&e[f].constructor.isCacheable()&&(d=e[f].constructor._cache.get(e[f].toParam()),b.skipOverwrite&&d?e[f]=d:e[f].cache(b))}else c instanceof twttr.anywhere.api.models.Base&&c.constructor.isCacheable()&&(d=c.constructor._cache.get(c.toParam()),b.skipOverwrite&&d?c=d:c.cache(b));a.apply({},arguments)}},expiryFn:function(a){return function(b){if(b instanceof twttr.anywhere.api.util.BaseCollection){var c=b.toArray();for(var d=0,e=c.length;d<e;++d)c[d].constructor._isModel&&c[d].constructor.isCacheable()&&c[d].expire()}else b instanceof twttr.anywhere.api.models.Base&&b.constructor.isCacheable()&&b.expire();a.apply({},arguments)}},writeThroughFn:function(a,b,c,d){var e=function(a,b){var e;for(var f in b)e=b[f],twttr.is.fn(e)&&(e=e.apply(c,[a].concat(d))),a.sync(f,e)};return function(c){if(c instanceof twttr.anywhere.api.util.BaseCollection){var d=c.toArray();for(var f=0,g=d.length;f<g;++f)d[f].constructor._isModel&&d[f].constructor.isCacheable()&&e(d[f],b)}else c instanceof twttr.anywhere.api.models.Base&&c.constructor.isCacheable()&&e(c,b);a.apply({},arguments)}},triggerFn:function(a,b,c){return function(d){a.trigger(b,arguments),c.apply({},arguments)}},decorateCallbacks:function(a,b,c){var d,e=["success","error","complete","before"];for(var f=0,g=e.length;f<g;++f)d=e[f],c.callbacks[d]=twttr.anywhere.api.util.triggerFn(a,b+"_"+d,c.callbacks[d],c.args)},chainableMethod:function(a,b,c){twttr.is.fn(b)&&(c=b,b={});var d=twttr.anywhere.api.util.proxyNameFromType(a),e=function(){var e={},f=this instanceof twttr.anywhere.api.models.Base?this.constructor:this,g=Array.prototype.slice.call(arguments),i=g.pop();i!==undefined&&i!==null&&(twttr.is.array(i)||!twttr.is.object(i)||a===null&&twttr.is.fn(i)?g.push(i):twttr.is.fn(i)?e.success=i:e=i);var j=[].concat(b.decorators||[]);e.success=e.success||twttr.anywhere.api.util.noop,e.error=e.error||twttr.anywhere.api.util.noop,e.before=e.before||twttr.anywhere.api.util.noop,e.complete=e.complete||twttr.anywhere.api.util.noop,b.writes?(j.push({decorator:twttr.anywhere.api.util.writeThroughFn,args:[b.writes,this,g]}),(!twttr.is.def(b.cache)||b.cache!==!1)&&j.push({decorator:twttr.anywhere.api.util.cacheFn,args:[{skipOverwrite:!0}]})):((!twttr.is.def(b.cache)||b.cache!==!1)&&j.push({decorator:twttr.anywhere.api.util.cacheFn,args:[e.cacheOptions]}),b.expire&&j.push({decorator:twttr.anywhere.api.util.expiryFn,args:[]}));var k,l;b.triggers&&(l=twttr.is.fn(b.triggers)?b.triggers(this):b.triggers,b.triggeredBy?k=twttr.anywhere.api.models[b.triggeredBy]:k=f,twttr.anywhere.api.util.decorateCallbacks(k,l,{callbacks:e,args:g})),e=twttr.anywhere.api.util.optify(e),j.push({decorator:twttr.anywhere.api.util.chainableFn,args:[e]}),e.cast=twttr.anywhere.api.util.returnClassFromType(a),g.push(e);var m=null;f._isModel&&f.isCacheable()&&b.cacheLookup&&(m=b.cacheLookup.apply(f,g));if(m&&m.partialHit){for(var n=0,o=j.length;n<o;++n)e.success=j[n].decorator.apply(this,[e.success].concat(j[n].args));e.success._curry=m.curry,c.apply(this,m.args)}else if(m)e.success=twttr.anywhere.api.util.chainableFn(e.success,e),setTimeout(function(){e.success(m)},0);else{for(var n=0,o=j.length;n<o;++n)e.success=j[n].decorator.apply(this,[e.success].concat(j[n].args));m=c.apply(this,g)}return!e.eventName&&d&&this.constructor!=twttr.anywhere.api.util.BaseCollection?new twttr.anywhere.api.proxies[d](e.success.event):m};return e.proxyName=d,e.returnType=a,e},aliasMethod:function(a,b){var c=twttr.anywhere.api.util.proxyNameFromType(a),d=function(){return b.apply(this,arguments)};return d.proxyName=c,d},proxyModel:function(a,b){var c=a._name.replace("models","proxies"),d=twttr.klass(c,b);for(var e in a.prototype)(function(){var b=e;d.prototype[b]=function(){var c=Array.prototype.slice.call(arguments),d=!!a.prototype[b].proxyName,e;if(d){e=twttr.anywhere.api.util.genEventName();var f=c.pop(),g={};f!==null&&f!==undefined&&(twttr.is.array(f)||!twttr.is.object(f)||a==twttr.anywhere.api.util.BaseCollection&&twttr.is.fn(f)?c.push(f):g=f),g=twttr.anywhere.api.util.optify(g),g.eventName=e,c.push(g)}var i=this;twttr.anywhere.api.util.chain.one(this.event,function(d,e){a.prototype[b].apply(e,c)});if(d)return new twttr.anywhere.api.proxies[a.prototype[b].proxyName](e)}})();return d},protoExtend:function(a){function b(){}return b.prototype=a,new b}}),a()})}),provide("bluejs/util/model",function(a){using(function(){twttr.augmentObject(twttr.anywhere.api.util,{model:function(a,b){function d(a){return twttr.anywhere.api.util.underscore(a).toLowerCase()}function e(a,b){b=b||d(a),c._registry||(c._registry={}),c._registry[b]=a}b||(b=function(a){twttr.anywhere.api.models.Base.call(this,a)});var c=twttr.klass(a,b).subclassOf(twttr.anywhere.api.models.Base).statics({_eventing:twttr.aug({},twttr.EventProvider)}).statics({_isModel:!0,_uniqueKey:"id",_extensionMethods:[],trigger:function(){this._eventing.trigger.apply(this._eventing,arguments)},_bindWrapper:function(b,c){return function(a){a.type=b,c.apply({},arguments)}},_bind:function(a,b,c){twttr.is.fn(c)&&(c={success:c});var d=this,e=b.split("."),f,g;f=e.shift(),e=e.join(".");for(var i in c)(function(){var b=i;g=f+"_"+b,e!==""&&(g+="."+e),a.call(d._eventing,g,d._bindWrapper(f,c[b]))})()},bind:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._bind(this._eventing.bind,c[d],b)},one:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._bind(this._eventing.one,c[d],b)},unbind:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._unbind(c[d],b)},_unbind:function(a,b){var c=["success","error","complete","before"];if(a[0]=="."){this._eventing.unbind(a,b);return}var d=this,e=a.split("."),f,g;f=e.shift(),e=e.join(".");for(var i=0,j=c.length;i<j;++i)(function(){var a=c[i];g=f+"_"+a,e!==""&&(g+="."+e),d._eventing.unbind(g,b)})()},identify:function(a){var b=a;return a instanceof this&&(b=a[this._uniqueKey]),b},isCacheable:function(){return!!twttr.anywhere.api.config.cacheObjects&&!!this._cache}}).methods({toParam:function(){return this.constructor.identify(this)},reload:twttr.anywhere.api.util.aliasMethod(a.split(".").pop(),function(){var a=[this.constructor.identify(this)].concat(Array.prototype.slice.apply(arguments));return this.constructor.find.apply(this.constructor,a)})});return c.hasMany=function(a,b){return b=b||d(a),c._registry||(c._registry={}),c._registry[b]=[a],c},c.belongsTo=function(a,b){return e(a,b),c},c.hasOne=function(a,b){return e(a,b),c},c.cache=function(a){return new twttr.anywhere.api.util.ObjectCache(c,a),c.prototype.cache=twttr.anywhere.api.util.cacheObject,c.prototype.expire=twttr.anywhere.api.util.expireObject,c},c.uniqueKey=function(a){return c._uniqueKey=a,c},c.extend=function(a){return c._extensionMethods.push(a),c},c}}),a(twttr.anywhere.api.util.model)})}),provide("bluejs/util/remote_request",function(a){using(function(){var b=/localhost\.twitter\.com/,c=twttr.klass("twttr.anywhere.api.util.RemoteRequest",function(a){this.id=++this.constructor.requestId,this.methodName=a.methodName,this.requestParameters=a.args||[],this.constructor.piggybackWhitelist[this.methodName]?this.signature=twttr.anywhere.api.util._createRequestKey(this.methodName,this.requestParameters):this.signature=this.id,this.priority=a.priority||this.constructor.priorities.NORMAL,this.headers=a.headers||{},this.retryCount=0,this.timeoutTimer=null,this.pendingRequestId=null;var b=this,c=twttr.anywhere.api.util.noop;this.requestCallbacks={before:a.callbacks.before||c,success:a.callbacks.success||c,error:a.callbacks.error||c,complete:a.callbacks.complete||c,timeout:a.callbacks.timeout||function(a){a.wait()},cancel:a.callbacks.cancel||c};var d=this.requestCallbacks.error;this.requestCallbacks.error=function(c){function e(b,c){trackClient({page:"api",action:"error"},{status_code:b,item_names:["methodName="+a.methodName,"args="+JSON.stringify(a.args||[]),"X-MID="+c.getResponseHeader("X-MID"),"X-Transaction="+c.getResponseHeader("X-Transaction"),"X-RateLimit-Remaining="+c.getResponseHeader("X-RateLimit-Remaining"),"X-RateLimit-Class="+c.getResponseHeader("X-RateLimit-Class")]})}if(c.status===b.constructor.RATE_LIMIT_STATUS){var f=b.constructor.apiErrorCodeFromResponse(c);f===b.constructor.RATE_LIMIT_API_CODE?twttr.anywhere.api.globalEvents.trigger("rate_limited"):f==null&&(twttr.anywhere.api.globalEvents.trigger("unknown_error"),c.xhr&&e(400,c.xhr))}twttr.loggedIn&&c.status==b.constructor.UNAUTHORIZED_STATUS&&c["response"]["error"]=="Could not authenticate you."&&window.location.reload(),d.apply({},arguments),c.status===b.constructor.FORBIDDEN_STATUS&&c.xhr&&e(403,c.xhr)};var e=this.constructor.timings[this.methodName];if(!twttr.is.def(e)||e.totalRequests>this.constructor.sampleWindow)this.constructor.timings[this.methodName]={timeTotal:0,totalRequests:0};this.constructor.timings[this.methodName].totalRequests++}).statics({RATE_LIMIT_STATUS:400,UNAUTHORIZED_STATUS:401,FORBIDDEN_STATUS:403,RATE_LIMIT_API_CODE:88,useDynamicBackoff:!1,requestId:1,sampleWindow:15,maxRetries:3,maxProcessing:3,defaultRequestLatency:5e3,latencySteps:[5e3,1e4,2e4],priorities:{IMMEDIATE:4,HIGH:3,NORMAL:2,LOW:1},hosts:{},timings:{},processing:0,pipeline:[],pending:{},piggybackWhitelist:{"activity/activity_by_people_i_follow":!0},apiErrorCodeFromResponse:function(a){return a.response&&a.response.errors&&a.response.errors.length&&a.response.errors[0]?a.response.errors[0].code:null},isReady:function(a){if(window.isTestMode)throw new Error("JS API methods must be stubbed when used in tests: "+a.url);return twttr.is.def(twttr.anywhere.remote.server)},isBacklogged:function(){return this.pipeline.length>0},isCapped:function(){return!1},isAvailable:function(){return this.processing<this.maxProcessing},isIdle:function(){return this.processing===0},flush:function(){if(!this.isBacklogged())return;var a=this.maxProcessing-this.processing;for(var b=0,c=a;b<c;++b)this.reschedule()},reschedule:function(){if(!this.isBacklogged())return;var a=0,b=this.pipeline[a];for(var c=0,d=this.pipeline.length;c<d;++c)this.pipeline[c].request.priority>b.request.priority&&(a=c,b=this.pipeline[c]);this.pipeline.splice(a,1),b.runner()}}).methods({setStart:function(a){this.startedOn=a},setEnd:function(a){this.endedOn=a,this.constructor.timings[this.methodName].timeTotal+=this.latency()},latency:function(){return this.endedOn-this.startedOn},dynamicBackoff:function(){var a=this.constructor.timings[this.methodName];return a.timeTotal!==0?Math.floor(a.timeTotal/a.totalRequests):this.constructor.defaultRequestLatency},incrementalBackoff:function(){return this.constructor.latencySteps[this.retryCount]},_stop:function(){this["stopped_"+this.retryCount]=!0,delete this.constructor.pending[this.signature],this.pendingRequestId&&twttr.anywhere.api.cancelApiRequest(this.pendingRequestId),this._clearTimer()},_clearTimer:function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},_startTimer:function(a){var b=this;a=!!a;var c=null;a&&(c=this.constructor.useDynamicBackoff?this.dynamicBackoff:this.incrementalBackoff),this._clearTimer(),this.timeoutTimer=setTimeout(function(){var a=b.constructor.pending[b.signature];for(var c=0,d=a.length;c<d;++c)a[c].requestCallbacks.timeout(b)},a?c.call(this):this.constructor.defaultRequestLatency)},cancel:function(){var a=this.constructor.pending[this.signature];if(a.length>1)for(var b=0,c=a.length;b<c;++b)a[b].id===this.id&&a.splice(b,1);else this._stop();this.requestCallbacks.cancel(this)},retry:function(){var a=this.constructor.pending[this.signature];if(a.length>1)for(var b=0,c=a.length;b<c;++b)a[b].id===this.id&&a.splice(b,1);else this._stop();this.retryCount++;if(this.retryCount>this.constructor.maxRetries){var d={response:{error:"Connection timeout"}};this.requestCallbacks.error(d),this.requestCallbacks.complete(d);return}this.signature=this.signature+"_"+this.retryCount,this.send()},wait:function(){this._startTimer()},request:function(a,b){if(!this.constructor.isReady(a)&&!a.internal||this.constructor.isCapped()){this.constructor.pipeline.push({request:this,runner:b});return}this._run(b)},_run:function(a){this.setStart(new Date),this._startTimer(),this.constructor.processing++,a.call(this)},responseHandler:function(a,b){var c=this;return function(d){c.constructor.processing--,c.constructor.isAvailable()&&c.constructor.isBacklogged()&&c.constructor.reschedule(),c.setEnd(new Date),c["stopped_"+a]||b(d)}},_buildRequestCallback:function(){var a=this,b=this.retryCount;return this.responseHandler(b,function(b){a._clearTimer();var c=a.constructor.pending[a.signature],d=b&&b.error?"error":"success";for(var e=0,f=c.length;e<f;++e)c[e].requestCallbacks[d].apply({},[b,a]),c[e].requestCallbacks.complete.apply({},[b,a]);delete a.constructor.pending[a.signature]})},send:function(){function d(){var b=a._buildRequestCallback(),d=Array.prototype.slice.apply(a.requestParameters);a.requestCallbacks.before.apply({},[a]),a.pendingRequestId=twttr.anywhere.api.makeRequest(c,d,b)}var a=this,c=twttr.anywhere.api.endpoints[this.methodName];if(!c)throw new Error("The endpoint, "+this.methodName+" is not a registered API method");if(this.constructor.pending[this.signature]){this.constructor.pending[this.signature].push(this),this.requestCallbacks.before.apply({},[this]);return}this.constructor.pending[this.signature]=[this],c=twttr.merge({},c,{headers:this.headers}),(twttr.domains.local.match(b)||c.use_host_in_prod)&&c.host&&!this.constructor.hosts[c.host]?(url=twttr.proto+"://"+c.host+"/receiver.html",twttr.createIframe(url,function(){a.constructor.hosts[c.host]=this,a.request(c,d)})):this.request(c,d)}});a(c)})}),provide("bluejs/util/base_collection",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=function(a){return b(null,function(){var b=Array.prototype.slice.call(arguments,0),c=b.pop(),d=a.apply(this,b);return c.success(d),d})},d=twttr.klass("twttr.anywhere.api.util.BaseCollection",function(a){this.array=a||[]}).methods({each:c(function(a){for(var b=0,c=this.array.length;b<c;++b)a(this.array[b],b);return this}),sort:c(function(){return this.array.sort.apply(this.array,arguments),this}),isEmpty:function(){return this.array.length===0},toArray:function(){return this.array},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(a,b){if(arguments.length!==2)throw"Exception: Wrong number of arguments, 3 required";for(var c=0,d=this.array.length;c<d;++c)a=b(a,this.array[c]);return a},join:function(a,b){twttr.is.fn(a)&&(b=a,a="");var c=this.array.join(a);return b&&b(c),c},concat:function(a){return a instanceof this.constructor&&(a=a.array),new this.constructor(this.array.concat(a))},find:c(function(a){for(var b=0,c=this.array.length;b<c;++b)if(a(this.array[b],b))return this.array[b];return null}),filter:c(function(a){var b=new this.constructor;for(var c=0,d=this.array.length;c<d;++c)a(this.array[c],c)&&b.push(this.array[c]);return b}),some:function(a){for(var b=0,c=this.array.length;b<c;++b)if(a.call(this.array,this.array[b],b,this.array))return!0;return!1},every:function(a){for(var b=0,c=this.array.length;b<c;++b)if(!a.call(this.array,this.array[b],b,this.array))return!1;return!0},map:c(function(a){var b=new this.constructor;for(var c=0,d=this.array.length;c<d;++c)b.push(a(this.array[c],c));return b}),none:function(a){var b=this.any(a);return!b},length:function(){return this.array.length},get:c(function(a,b){var c=this.array[a];return b&&b(c),c}),push:function(){return arguments[0]instanceof this.constructor?this.array.push.apply(this.array,arguments[0].array):this.array.push.apply(this.array,arguments),this},pop:function(a,b){var c;twttr.is.fn(a)&&(b=a,a=undefined);if(a){var d=this.array.length-a;c=new this.constructor(this.array.slice(d)),this.array=this.array.slice(0,d)}else c=this.array.pop();return b&&b(c),c},shift:function(){return this.array.shift()},unshift:function(){return arguments[0]instanceof this.constructor?this.array.unshift.apply(this.array,arguments[0].array):this.array.unshift.apply(this.array,arguments),this},first:c(function(a,b){a||(a=1),twttr.is.fn(a)&&(b=a,a=1);var c;return a==1?c=this.array[0]:c=new this.constructor(this.array.slice(0,a)),b&&b(c),c}),slice:function(a,b){var c=[a];b!==undefined&&b!==null&&c.push(b);var d=this.array.slice.apply(this.array,c);return new this.constructor(d)},reverse:c(function(){return new this.constructor(this.array.reverse())}),last:c(function(a,b){a||(a=1),twttr.is.fn(a)&&(b=a,a=1);var c;return a==1?c=this.array[this.array.length-1]:c=new this.constructor(this.array.slice(this.array.length-a)),b&&b(c),c})});a(d)})}),provide("bluejs/mixins/status_actions",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.augmentString("twttr.anywhere.api.mixins.StatusActions",{retweet:c("Status",function(a){return twttr.anywhere.api.models.Status.retweet(this,a)}),favorite:c("Status",function(a){return twttr.anywhere.api.models.Status.favorite(this,a)}),unfavorite:c("Status",function(a){return twttr.anywhere.api.models.Status.unfavorite(this,a)}),reply:c("Status",function(a,b){return twttr.anywhere.api.models.Status.reply(this,a,b)})});a(e)})}),provide("bluejs/mixins/phoenix/user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.filterOptions,e=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.User",function(a){return a.statics({_bulkFollowing:0,startBulkFollowing:function(){this._bulkFollowing++},stopBulkFollowing:function(){this._bulkFollowing--},isBulkFollowing:function(){return this._bulkFollowing>0},findForProfile:b("User",{cacheLookup:function(a,b){var c=this._cache.get(a);if(c){var d={cursor:-1,count:15,user_id:c.id};return(cachedFriends=twttr.API._requestCache.get("statuses/friends",[d]))?(twttr.API._requestCache.inject("statuses/friends",[d],cachedFriends,1),c):!1}return!1},decorators:[{decorator:function(a){return function(b,c){if(c.response.friends){var d={cursor:-1,count:15,user_id:b.id};twttr.API._requestCache.inject("statuses/friends",[d],c.response.friends,1)}if(c.response.recommendations){var e={limit:4,pc:!1,user_id:b.id};twttr.API._requestCache.inject("users/recommendations",[e],c.response.recommendations,1)}if(c.response.timeline){var f={include_entities:1,include_available_features:1,contributor_details:!0,include_rts:!0,user_id:b.id};twttr.decider.isAvailable("platform_enable_cards")&&(f.include_cards=1),twttr.API._requestCache.inject("statuses/user_timeline",[f],c.response.timeline,1)}a.apply({},arguments)}},args:[]}]},function(a,b){var d;twttr.is.string(a)?d={screen_name:a}:d={user_id:a},c({options:b,url:"users/show_for_profile",params:[d],dataSource:["","user"]})})}),a.methods({setWantRetweetsOn:b("User",{expire:!0,triggers:"does_want_retweets",triggerTarget:function(a){return"current_user"}},function(a){c({options:a,url:"friendships/update",params:[twttr.merge(a,{user_id:this.id,retweets:"1"})],dataSource:[""]})}),setWantRetweetsOff:b("User",{expire:!0,triggers:"doesnt_want_retweets",triggerTarget:function(a){return"current_user"}},function(a){c({options:a,url:"friendships/update",params:[twttr.merge(a,{user_id:this.id,retweets:"0"})],dataSource:[""]})})}),a});a(e)})}),provide("bluejs/mixins/phoenix/current_user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.filterOptions,e=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.CurrentUser",function(a){return a.methods({followingFollowersOf:b(["User"],function(a,b){var d={cursor:-1};twttr.is.string(a)?d.screen_name=a:d.user_id=a,c({options:b,url:"users/following_followers_of",params:[twttr.merge(d,b)],dataSource:["","users"]})}),followsInCommonWith:b(["User"],function(a,b){var d={cursor:-1};twttr.is.string(a)?d.screen_name=a:d.user_id=a,c({options:b,url:"users/follows_in_common_with",params:[twttr.merge(d,b)],dataSource:["","users"]})}),updateDiscoverability:b(undefined,function(a,b){c({options:b,url:"users/update_discoverability",params:[twttr.merge(a,{id:this.id})],dataSource:[""]})}),viewPossiblySensitive:b(undefined,function(a){c({options:a,url:"account/view_possibly_sensitive",params:[{}],dataSource:["","view_possibly_sensitive"]})}),updateViewPossiblySensitive:b(undefined,function(a,b){c({options:b,url:"account/update_view_possibly_sensitive",params:[{do_show:a}],dataSource:["","view_possibly_sensitive"]})}),personalizationSettings:b(undefined,function(a){c({options:a,url:"account/personalization_settings",params:[{}],dataSource:[""]})}),updatePersonalizationSettings:b(undefined,function(a,b){c({options:b,url:"account/update_personalization_settings",params:[{use_cookie_personalization:a.use_cookie_personalization,cookie_personalization_prompt_displayed:a.cookie_personalization_prompt_displayed}],dataSource:[""]})}),hasDismissedGeoPromo:b(undefined,function(a){c({options:a,url:"account/has_dismissed_geo_promo",params:[{}],dataSource:["","has_dismissed_geo_promo"]})}),updateHasDismissedGeoPromo:b(undefined,function(a,b){c({options:b,url:"account/update_has_dismissed_geo_promo",params:[{has_dismissed_geo_promo:a}],dataSource:["","has_dismissed_geo_promo"]})}),emailStatus:b(undefined,function(a){c({options:a,url:"account/email_status",params:[{}],dataSource:["","email_status"]})}),emailBounceReset:b(undefined,function(a){c({options:a,url:"bouncers/reset",params:[{}],dataSource:[""]})}),emailResendConfirmation:b(undefined,function(a){c({options:a,url:"account/resend_confirmation_email",params:[{}],dataSource:[""]})}),geoLocation:b(undefined,function(a){c({options:a,url:"account/geo_location",params:[a],dataSource:[""]})})}),twttr.augmentObject(a.prototype.friends,{accept:b("User",{triggers:"acceptFollow",triggeredBy:"User"},function(a,b){c({options:b,url:"friendships/accept",params:[{user_id:a}],dataSource:[""]})}),acceptAll:b("User",function(a){c({options:a,url:"friendships/accept_all",params:[{}],dataSource:["","user"]})}),deny:b("User",function(a,b){c({options:b,url:"friendships/deny",params:[{user_id:a}],dataSource:[""]})}),denyAll:b("User",function(a){c({options:a,url:"friendships/deny_all",params:[{}],dataSource:["","user"]})}),cancel:b("User",{triggers:"cancel_request",triggeredBy:"User"},function(a,b){c({options:b,url:"friendships/cancel",params:[{user_id:a}],dataSource:["","user"]})}),followAll:b(undefined,function(a,b){b=b||{};var d=this,e=[],f=[],g=b.stringifiedIds;for(var i=0,j=a.length;i<j;++i)twttr.is.string(a[i])&&!g?e.push(a[i]):f.push(a[i]);twttr.API.User.findAll(a,{stringifiedIds:g,success:function(a){var g=b.success;b.success=function(_,b){var c={};for(var e=0;e<b.length;++e){var f=b[e];c[f.id]=f}a.each(function(a){var b=c[a.id],d={requestParameters:[{user_id:a.id}]};if(b.is_blocking)return;b.is_protected_follow_request?(twttr.API.User.trigger("follow_request_before",d),twttr.API.User.trigger("follow_request_success",a)):(twttr.API.User.trigger("follow_before",d),twttr.API.User.trigger("follow_success",a))}),g&&g.apply(d,arguments)},c({options:b,url:"friendships/create_all",params:[{user_id:f.join(","),screen_name:e.join(",")}],dataSource:["","bulk_follow_results"]})}})})}),a});a(e)})}),provide("bluejs/mixins/phoenix/status",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.Status",function(a){return a.belongsTo("Status","retweetingStatus"),a.extend(function(){this.isPromoted()&&twttr.anywhere.api.util.PromotedStore.putStatus(this)}),a.statics({search:b(["Status"],function(a,b){b.near&&(b.near=encodeURIComponent(b.near)),b.within&&(b.within=encodeURIComponent(b.within)),d({options:b,url:"search",params:[twttr.merge({q:a},b)],dataSource:["","statuses"]})}),related:b(["RelatedTweets"],function(a,b){var c=$.extend({},b);d({options:b,url:"related_results/show/:id",params:[a,c],dataSource:[""]})})}),a.methods({related:c(["RelatedTweets"],function(a){return twttr.anywhere.api.models.Status.related(this,a)}),isPromoted:function(){return!!this.impressionId},logImpressionIfPromoted:function(){this.isPromoted()&&!this.loggedImpression&&(twttr.API.util.PromotedContent.logImpression(this.impressionId),this.loggedImpression=!0)}}),a});a(f)})}),provide("bluejs/mixins/phoenix/rate_user_recommendation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.RateUserRecommendation",function(a){return a.extend(function(){!this.user.promotedContent||twttr.anywhere.api.util.PromotedStore.putUser(this.user)}),a.statics({rate:b(undefined,function(a){c({options:a,url:"users/send_recommendation_rating",params:[a],dataSource:[""]})})}),a});a(d)})}),provide("bluejs/models/base",function(a){using(function(){var b=0,c=twttr.klass("twttr.anywhere.api.models.Base",function(a){if(!a)return null;if(a.constructor.uber&&a.constructor.uber.constructor==twttr.anywhere.api.models.Base)return a;this.attributes={};var c=this.constructor._registry;for(var d in a){this.data(d,a[d]);if(d.indexOf("_")!==0){var e=twttr.anywhere.api.util.camelize(d);if(!this[e]){var f=null,g=!1;if(c&&c[e]){var i=c[e];twttr.is.array(i)?(i=i[0],twttr.is.fn(i)&&(i=i(a))):twttr.is.fn(i)&&(i=i(a)),i&&(f=twttr.anywhere.api.models[i],g=twttr.is.array(c[e]))}g?this[e]=twttr.anywhere.api.util.buildCollection(f,this.data(d)):f?this[e]=new f(this.data(d)):this[e]=this.data(d)}}}if(this.constructor._extensionMethods){var j={};for(var k in this)j[k]=!0;for(var l=0,m=this.constructor._extensionMethods.length;l<m;++l){var n=this.constructor._extensionMethods[l];n.call(this,this)}for(var k in this)if(!twttr.is.def(j[k])){var o=this[k]&&this[k].data&&twttr.is.fn(this[k].data);this.data(twttr.anywhere.api.util.underscore(k),o?this[k].data():this[k])}}this._objectId=++b}).methods({sync:function(a,b){var c=twttr.anywhere.api.util.underscore(a),d=twttr.anywhere.api.util.camelize(a);return b instanceof twttr.anywhere.api.models.Base?this.attributes[c]=b.attributes:this.data(c,b),this[d]=b,this.constructor.isCacheable&&this.constructor.isCacheable()&&this.cache(),b},data:function(a,b){if(typeof a=="string"&&typeof b!="undefined")return this.attributes[a]=b,b;if(typeof a=="object"&&typeof b=="undefined")return twttr.merge(this.attributes,a);if(typeof a=="string"&&typeof b=="undefined")return this.attributes[a];if(typeof a=="undefined"&&typeof b=="undefined")return this.attributes},clone:function(a){var b=$.extend({},this);b.attributes=$.extend({},this.attributes);if(a)for(var c in a)b.sync(c,a[c]);return b}});a(c)})}),provide("bluejs/models/user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.noop,g=twttr.anywhere.api.util.defaultTrigger,i=twttr.anywhere.api.models.Base,j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.User",function(a){function b(a,b){return a.length!=0&&b.length/a.length>.3}a.name=twttr.anywhere.api.util.sanitize(a.name);if(a.name&&twttr.isRTL){var c=a.name.match(twttr.constants.regexps.rtlChar);if(!c||!b(a.name,c))a.name="‪"+a.name+"‬"}a.description=twttr.anywhere.api.util.sanitize(a.description),window.location.protocol==="https:"&&twttr.cdnBase&&(a.profile_image_url&&a.profile_image_url.indexOf("http:")===0&&(a.profile_image_url=twttr.assets.getPathFromAbsoluteURL(a.profile_image_url,{isSSL:!0,isVersioned:!1})),a.profile_background_image_url&&a.profile_background_image_url.indexOf("http:")===0&&(a.profile_background_image_url=twttr.assets.getPathFromAbsoluteURL(a.profile_background_image_url,{isSSL:!0,isVersioned:!1}))),twttr.anywhere.api.models.Base.call(this,a);var d=this;this.lists=function(){return twttr.anywhere.api.models.User.prototype.lists.apply(d,arguments)},this.lists.find=function(){return twttr.anywhere.api.models.User.prototype.lists.find.apply(d,arguments)}}).uniqueKey("screenName").cache({keys:[{name:"id",type:"number"},{name:"screenName",type:"string"}]}).hasOne("Status").statics({find:b("User",{cacheLookup:function(a,b){var c=this._cache.get(a);return c?c:!1}},function(a,b){var c;twttr.is.string(a)?c={screen_name:a}:c={user_id:a},d({options:b,url:"users/show",params:[c],dataSource:["user"]})}),findAll:b(["User"],{cacheLookup:function(a,b){if(b.reload)return delete b.reload,!1;var c=this._cache.getMulti(a),d=c.hits;return c.misses.length?d.isEmpty()?!1:{partialHit:!0,curry:d,args:[c.misses,b]}:d}},function(a,b){var c=[],e=[],f=b&&b.stringifiedIds;for(var g=0,i=a.length;g<i;++g)twttr.is.string(a[g])&&!f?c.push(a[g]):e.push(a[g]);d({options:b,url:"users/lookup",params:[{user_id:e.join(","),screen_name:c.join(",")}],dataSource:["users"]})}),findAllCached:function(a){var b=this._cache.getMulti(a);return b.hits},current:b("CurrentUser",function(a){d({options:a,url:"account/verify_credentials",params:[],dataSource:["user"]})}),typeaheadSocial:b(undefined,function(a,b){d({options:b,url:"users/typeahead_social",params:[twttr.merge(b,{prefetch:!0})],dataSource:["","users"]})}),typeaheadGlobal:b(undefined,function(a,b){d({options:b,url:"users/typeahead_global",params:[twttr.merge(b,{q:a})],dataSource:["users"]})}),search:b(["User"],function(a,b){d({options:b,url:"users/search",params:[twttr.merge(b,{q:a})],dataSource:["users"]})}),recommendedUsers:b(["UserRecommendation"],function(a){twttr.abdecider.choose("wtf_test_ranker_141"),d({options:a,url:"users/recommendations",params:[a],dataSource:[""]})}),recommendedUsers2:b(["UserRecommendation"],function(a){twttr.abdecider.choose("wtf_test_ranker_141"),d({options:a,url:"users/recommendations",params:[twttr.merge({expanded_results_format:1},a)],dataSource:["","users"]})})}).methods({bind:twttr.anywhere.api.util.bindMethod,favorites:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"favorites/:id",params:[this.id,a],dataSource:["statuses"]})}),timeline:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/user_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),profileTimeline:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/profile_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),media:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/media_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),followingTweets:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/following_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),followers:b(["User"],function(a){d({options:a,url:"statuses/followers",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","users"]})}),friends:b(["User"],function(a){d({options:a,url:"statuses/friends",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","users"]})}),activity:b(["Activity"],function(a){d({options:a,url:"activity/activity_by_user",params:[twttr.merge(a,{user_id:this.id})],dataSource:[""]})}),friendIds:b(undefined,function(a){d({options:a,url:"friends/ids",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","ids"]})}),followerIds:b(undefined,function(a){d({options:a,url:"followers/ids",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","ids"]})}),_isFollowing:function(a,b,c){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:a,user_b:b}],{success:c.success,error:c.error})},isFollowing:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this._isFollowing(this.id,c,b)},isFriend:function(a,b){this.isFollowing(a,b)},isFollowedBy:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this._isFollowing(c,this.id,b)},isMutual:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a),d=b.success;return b.success=function(a){d(a.following&&a.followedBy)},this.relationshipWith(a,b)},relationshipWith:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=this,d=twttr.anywhere.api.models.User.identify(a),e={source_id:this.id};twttr.is.string(d)?e.target_screen_name=d:e.target_id=d,twttr.anywhere.api.util.makeRemoteRequest("friendships/show",[e],{success:function(a){var d={following:a.relationship.source.following,followedBy:a.relationship.source.followed_by};c instanceof twttr.anywhere.api.models.CurrentUser&&(d.notifications=a.relationship.source.notifications_enabled,d.blocking=a.relationship.source.blocking,d.wantRetweets=a.relationship.source.want_retweets,d.canDM=a.relationship.source.can_dm),b.success(d)},error:b.error})},block:b("User",{expire:!0,triggers:"block",triggerTarget:g},function(a){d({options:a,url:"blocks/create",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),unblock:b("User",{expire:!0,triggers:"unblock",triggerTarget:g},function(a){d({options:a,url:"blocks/destroy",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),similarUsers:b(["UserRecommendation"],function(a){d({options:a,url:"users/recommendations",params:[twttr.merge(a,{user_id:this.id})],dataSource:[""]})}),directMessage:c("DirectMessage",function(a,b){return twttr.anywhere.api.models.DirectMessage.send(this.id,a,b)}),dm:c("DirectMessage",function(a,b){return this.directMessage(a,b)}),follow:b("User",{expire:!0,writes:{followRequestSent:function(a){return a["protected"]?!0:!1},following:function(a){return a["protected"]?!1:!0}},triggers:function(a){return a["protected"]&&!a.following?"follow_request":"follow"},triggerTarget:g},function(a){d({options:a,url:"friendships/create",params:[$.extend({user_id:this.id},a)],dataSource:["user"]})}),unfollow:b("User",{expire:!0,writes:{followRequestSent:!1,following:!1},triggers:"unfollow",triggerTarget:g},function(a){var b=this["protected"]&&this.followRequestSent?"friendships/cancel":"friendships/destroy";d({options:a,url:b,params:[$.extend({user_id:this.id},a)],dataSource:["user"]})}),report:b("User",{expire:!0,triggers:"report",triggerTarget:g},function(a){d({options:a,url:"report_spam",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),setNotificationsOn:b("User",{expire:!0,writes:{notifications:!0},triggers:"subscribe",triggerTarget:g},function(a){d({options:a,url:"friendships/update",params:[{user_id:this.id,device:"1"}],dataSource:["user"]})}),setNotificationsOff:b("User",{expire:!0,writes:{notifications:!1},triggers:"unsubscribe",triggerTarget:g},function(a){d({options:a,url:"friendships/update",params:[{user_id:this.id,device:"0"}],dataSource:["user"]})}),lists:b(["List"],function(a){d({options:a,url:":user/lists",params:[this.id,a],dataSource:["lists_list","lists"]})}),allLists:b(["List"],function(a){a.user_id=this.id,a.reverse=!0,d({options:a,url:"lists/all",params:[a],dataSource:["lists_list"]})}),memberships:b(["List"],function(a){d({options:a,url:":user/lists/memberships",params:[this.id,a],dataSource:["lists_list","lists"]})}),subscriptions:b(["List"],function(a){d({options:a,url:":user/lists/subscriptions",params:[this.id,a],dataSource:["lists_list","lists"]})}),contributors:b(["User"],function(a){d({options:a,url:"users/contributors",params:[{id:this.id}],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.User);twttr.klass("twttr.anywhere.api.models.CurrentUser",function(a){twttr.anywhere.api.models.User.call(this,a);var b=this;this.lists.create=function(){return b.constructor.prototype.lists.create.apply(b,arguments)}}).subclassOf(twttr.anywhere.api.models.User).statics({_eventing:twttr.aug({},twttr.EventProvider)}).methods({recommendedUsers:c(["UserRecommendation"],function(a){return twttr.anywhere.api.models.User.recommendedUsers(a)}),recommendedUsers2:c(["UserRecommendation"],function(a){return twttr.anywhere.api.models.User.recommendedUsers2(a)}),inboundActivity:b(["Activity"],function(a){d({options:a,url:"activity/activity_of_me",params:[a],dataSource:[""]})}),networkActivity:b(["Activity"],function(a){d({options:a,url:"activity/activity_by_people_i_follow",params:[a],dataSource:[""]})}),directMessages:b(["DirectMessage"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"direct_messages",params:[a],dataSource:["direct_messages"]})}),dms:c(["DirectMessage"],function(a){return this.directMessages(a)}),conversations:b(["Conversation"],function(a){d({options:a,url:"direct_messages/conversations",params:[a],dataSource:[""]})}),conversationWith:b(["DirectMessage"],function(a){d({options:a,url:"direct_messages/conversation_with",params:[a],dataSource:[""]})}),_isFollowing:function(a,b,c){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:a,user_b:b}],{success:c.success,error:c.error})},isFollowing:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this.constructor.isCacheable()&&!(a instanceof twttr.anywhere.api.models.User)&&(a=this.constructor._cache.get(c));if(a instanceof twttr.anywhere.api.models.User){b.success(a.following);return}this._isFollowing(this.id,c,b)},receivedMessages:c(["DirectMessage"],function(a){return this.directMessages(a)}),sentMessages:b(["DirectMessage"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"direct_messages/sent",params:[a],dataSource:["direct_messages"]})}),homeTimeline:b(["Status"],function(a){var b="statuses/home_timeline";twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),a.withoutRetweets&&(b="statuses/friends_timeline"),d({options:a,url:b,params:[a],dataSource:["statuses"]})}),mentions:b(["Status"],function(a){d({options:a,url:"statuses/mentions",params:[a],dataSource:["statuses"]})}),_retweets:b(["Status"],function(a,b){d({options:b,url:a,params:[b],dataSource:["statuses"]})}),trendLocation:b(["Location"],function(a){d({options:a,url:"account/settings",params:[],dataSource:["","trend_location"]})}),setTrendLocation:b(["Location"],{triggers:"changedLocation"},function(a,b,c){var e={trend_location_woeid:a};b&&(e.personalized_trends=b),d({options:c,url:"account/settings/create",params:[e],dataSource:["","trend_location"]})}),setGeoEnabled:function(a,b){var c=this,e=b.success;b.success=function(){c.sync("geoEnabled",a),e&&e.apply(c,arguments)},d({options:b,url:"account/settings/create",params:[{geo_enabled:a}],dataSource:["","geo_enabled"]})},setLanguage:b(["Language"],function(a,b){d({options:b,url:"account/settings/create",params:[{lang:a}],dataSource:[]})}),retweeting:c(["Status"],function(a){return this._retweets("statuses/retweeted_by_me",a)}),retweets:c(["Status"],function(a){return this._retweets("statuses/retweeted_to_me",a)}),retweeted:c(["Status"],function(a){return this._retweets("statuses/retweets_of_me",a)}),blocks:b(["User"],function(a){d({options:a,url:"blocks/blocking",params:[a],dataSource:["users"]})}),lists:c(["List"],function(a){return this.constructor.uber.lists.call(this,a)}),friends:c(["User"],function(a){return this.constructor.uber.friends.call(this,a)}),isBlocking:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);twttr.anywhere.api.util.makeRemoteRequest("blocks/exists",[{user_id:c}],{success:function(a){b.success(a.user?!0:!1)},error:function(a){a.status==404?b.success(!1):b.error(a)}})},update:b("User",{expire:!0,triggers:"update",triggeredBy:"User"},function(a){d({options:a,url:"account/update_profile",params:[a],dataSource:["user"]})}),profileImage:b(undefined,function(a,b){d({options:b,url:"users/profile_image/:screen_name",params:[a,twttr.merge({redirect:!1},b)],dataSource:[""]})}),savedSearches:b(["SavedSearch"],function(a){d({options:a,url:"saved_searches",params:[],dataSource:["saved_searches"]})}),searches:c(["SavedSearch"],function(a){return this.savedSearches(a)}),logout:function(a){parent.twttr.anywhere.signOut()}}),twttr.augmentObject(twttr.anywhere.api.models.User.prototype.lists,{find:b("List",{cacheLookup:function(a,b){var c=twttr.API.List._cache.get(a);return c?c:!1}},function(a,b){b=twttr.anywhere.api.util.optify(b),twttr.is.string(a)?b.slug=a:b.list_id=a,d({options:b,url:"lists/show",params:[twttr.merge({owner_id:this.id},b)],dataSource:["list"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.lists,{create:b("List",{triggers:"create",triggeredBy:"List"},function(a,b){d({options:b,url:":user/lists/create",params:[this.id,twttr.merge(b,{name:a,send_error_codes:!0})],dataSource:["list"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.savedSearches,{find:b("SavedSearch",function(a,b){d({options:b,url:"saved_searches/show/:id",params:[a,b],dataSource:["saved_search"]})}),create:b("SavedSearch",{triggers:"create",triggeredBy:"SavedSearch"},function(a,b){d({options:b,url:"saved_searches/create",params:[{query:a}],dataSource:["saved_search"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.friends,{pending:b(undefined,function(a){var b=e(["cursor"],a);d({options:a,url:"friendships/incoming",params:[b],dataSource:["","ids"]})})}),twttr.anywhere.api.models.CurrentUser.prototype._name=function(){return"current_user"},twttr.anywhere.api.models.CurrentUser.identify=twttr.anywhere.api.models.User.identify,twttr.anywhere.api.models.CurrentUser._registry=twttr.anywhere.api.models.User._registry,twttr.anywhere.api.models.CurrentUser._extensionMethods=twttr.anywhere.api.models.User._extensionMethods,twttr.anywhere.api.models.CurrentUser.isCacheable=twttr.anywhere.api.models.User.isCacheable,twttr.anywhere.api.models.CurrentUser.isCacheable()&&(twttr.anywhere.api.models.CurrentUser._cache=twttr.anywhere.api.models.User._cache);var k=["trigger","bind","_bind","unbind","_unbind","one","_bindWrapper"];for(var l=0,m=k.length;l<m;++l)twttr.anywhere.api.models.CurrentUser[k[l]]=twttr.anywhere.api.models.User[k[l]];var n=["block","unblock","report","follow","unfollow","setNotificationsOn","setNotificationsOff"];for(var l=0,m=n.length;l<m;++l)twttr.anywhere.api.models.CurrentUser.prototype[n[l]]=f;twttr.anywhere.api.models.CurrentUser.mixin(twttr.anywhere.api.mixins.phoenix.CurrentUser),a(j)})}),provide("bluejs/models/direct_message",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.DirectMessage",function(a){a&&twttr.anywhere.api.util.useStringIdentifier(a,"id"),this.constructor.uberclass.call(this,a)}).belongsTo("User","sender").belongsTo("User","recipient").statics({send:b("DirectMessage",{triggers:"send",triggerSource:e,triggerTarget:function(a){return a.recipient}},function(a,b,c){d({options:c,url:"direct_messages/new",params:[{user:twttr.anywhere.api.models.User.identify(a),text:b}],dataSource:["direct_message"]})})}).methods({destroy:b("DirectMessage",{triggers:"delete",triggerTarget:e},function(a){d({options:a,url:"direct_messages/destroy",params:[{id:this.id}],dataSource:["direct_message"]})})});a(f)})}),provide("bluejs/models/saved_search",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SavedSearch").methods({destroy:b("SavedSearch",{triggers:"delete",triggerTarget:e},function(a){d({options:a,url:"saved_searches/destroy/:id",params:[this.id,a],dataSource:["saved_search"]})}),results:b(["SearchResult"],function(a){a.q=this.query,d({options:a,url:"search",params:[a],dataSource:["","results"]})})});a(f)})}),provide("bluejs/models/list",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.defaultTrigger,g=twttr.anywhere.api.util.model("twttr.anywhere.api.models.List").cache({keys:[{name:"id",type:"number"}],shouldCacheAssociated:!1}).belongsTo("User").methods({subscribe:b("List",{expire:!0,triggers:"follow",triggerTarget:f,writes:{subscriberCount:function(){return this.subscriberCount+1}}},function(a){d({options:a,url:":user/:list_id/subscribers/create",params:[this.user.id,this.id,{}],dataSource:["list"]})}),follow:c("List",function(a){return this.subscribe(a)}),unsubscribe:b("List",{expire:!0,triggers:"unfollow",triggerTarget:f,writes:{subscriberCount:function(){return this.subscriberCount-1}}},function(a){d({options:a,url:":user/:id/subscribers/destroy",params:[this.user.id,this.id,{}],dataSource:["list"]})}),unfollow:c("List",function(a){return this.unsubscribe(a)}),add:b("List",{expire:!0,triggers:"add",triggerTarget:f,writes:{memberCount:function(){return this.memberCount}}},function(a,b){d({options:b,url:"lists/members/create",params:[{list_id:this.id,user_id:a.id}],dataSource:["list"]})}),remove:b("List",{expire:!0,triggers:"remove",triggerTarget:f,writes:{memberCount:function(){return this.memberCount-1}}},function(a,b){d({options:b,url:"lists/members/destroy",params:[{list_id:this.id,user_id:a.id}],dataSource:["list"]})}),owner:function(){return this.user},isMember:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=b.error;b.error=function(a){a.status===404&&a.reason.match("not a member")?b.success(!1):c&&c(a)};var e=b.success;b.success=function(a){a.screenName?e(!0):e(!1)},d({options:b,url:":user/:list_id/members/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(a),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},isSubscriber:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=b.error;b.error=function(a){a.status===404&&a.reason.match("not a subscriber")?b.success(!1):c&&c(a)};var e=b.success;b.success=function(a){a.screenName?e(!0):e(!1)},d({options:b,url:":user/:list_id/subscribers/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(a),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},destroy:b("List",{expire:!0,cache:!1,triggers:"delete",triggerTarget:f},function(a){d({options:a,url:"lists/destroy",params:[{list_id:this.id}],dataSource:["list"]})}),update:b("List",{expire:!0,triggers:"update",triggerTarget:f},function(a){a=twttr.anywhere.api.util.optify(a);var b=e(["name","description","mode"],a);d({options:a,url:"lists/update",params:[twttr.merge({list_id:this.id,send_error_codes:!0},b)],dataSource:["list"]})}),statuses:b(["Status"],function(a){a=twttr.anywhere.api.util.optify(a),twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"lists/statuses",params:[twttr.merge({list_id:this.id},a)],dataSource:["statuses"]})}),subscribers:b(["User"],function(a){d({options:a,url:":user/:list_id/subscribers",params:[this.user.id,this.id,a],dataSource:["users_list","users"]})}),followers:c(["User"],function(a){return this.subscribers(a)}),members:b(["User"],function(a){d({options:a,url:":user/:list_id/members",params:[this.user.id,this.id,a],dataSource:["users_list","users"]})}),following:c(["User"],function(a){return this.members(a)})});a(g)})}),provide("bluejs/models/location",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.cache,g=twttr.anywhere.api.util.noop,i=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Location").uniqueKey("woeid").statics({trends:b(["Trend"],function(a,b){var c=this.identify(a);d({options:b,url:"trends/:woeid",params:[c,b],dataSource:[""]})})}).methods({trends:c(["Trend"],function(a){return this.constructor.trends(this.woeid,a)})});a(i)})}),provide("bluejs/models/trend",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.cache,g=twttr.anywhere.api.util.noop,i=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Trend").uniqueKey("query").statics({locations:b(["Location"],function(a){var b=e(["lat","long","lang"],a);d({options:a,url:"trends/available",params:[b],dataSource:[""]})}),current:b(["Trend"],function(a){d({options:a,url:"trends/current",params:[a],dataSource:["","trends","current_trends"]})})});a(i)})}),provide("bluejs/models/status",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.filterOptions,g=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Status",function(a){a&&(a=twttr.anywhere.api.util.normalizePromotedTweet(a),twttr.anywhere.api.util.useStringIdentifier(a,"id"),twttr.anywhere.api.util.useStringIdentifier(a,"in_reply_to_status_id"),twttr.anywhere.api.util.useStringIdentifier(a.current_user_retweet,"id"),a.text=twttr.anywhere.api.util.sanitize(a.text)),this.constructor.uberclass.call(this,a)}).cache({keys:[{name:"id",type:"string"}],cacheAssociated:!0}).belongsTo("User").belongsTo("Status","retweetedStatus").hasOne("Place").extend(function(){this.isRetweet=!!this.retweetedStatus}).statics({find:b("Status",{cacheLookup:function(a,b){var c=this._cache.get(a);return c?c:!1}},function(a,b){var c=f(["trim_user","include_entities","contributor_details","include_cards"],b);twttr.decider.isAvailable("platform_enable_cards")&&!twttr.is.def(c.include_cards)&&(c.include_cards=1),twttr.is.def(c.include_entities)||(c.include_entities=twttr.anywhere.api.config.includeEntities),twttr.is.def(c.contributor_details)||(c.contributor_details=!0),twttr.is.def(c.include_entities)||(c.include_entities=1),d({options:b,url:"statuses/show",params:[twttr.merge(c,{id:a})],dataSource:["status"]})}),unretweet:b("Status",{expire:!0,cache:!1,triggers:"unretweet",triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a),e=b.success;b.success=function(a){a.expire(),e.apply(a,arguments)},d({options:b,url:"statuses/destroy",params:[{id:c}],dataSource:["status"]})}),update:b("Status",{triggers:"update",triggerTarget:e},function(a,b){b.include_entities=!0,twttr.decider.isAvailable("platform_enable_cards")&&(b.include_cards=1),b.status=a,d({options:b,url:"statuses/update",params:[b],dataSource:["status"]})}),updateWithMedia:b("Status",{triggers:"update_with_media",triggerTarget:e},function(a,b){b.include_entities=!0,twttr.decider.isAvailable("platform_enable_cards")&&(b.include_cards=1),b.status=a,d({options:b,url:"statuses/update_with_media",params:[b],dataSource:["status"]})}),publicTimeline:b(["Status"],function(a){d({options:a,url:"statuses/public_timeline",params:[],dataSource:["statuses"]})}),networkTimeline:b(["Status"],function(a){d({options:a,url:"statuses/network_timeline",params:[a],dataSource:["statuses"]})}),promotedHomeTimeline:b(["Status"],function(a){d({options:a,url:"promoted_content/home_timeline",params:[],dataSource:["","promoted_tweets"]})}),retweet:b("Status",{triggers:"retweet",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"statuses/retweet/:id",params:[c,b],dataSource:["status"]})}),favorite:b("Status",{triggers:"favorite",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"favorites/create/:id",params:[c,b],dataSource:["status"]})}),unfavorite:b("Status",{triggers:"unfavorite",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"favorites/destroy/:id",params:[c,b],dataSource:["status"]})}),reply:c("Status",function(a,b,c){var d=this.identify(a);return c=twttr.merge(twttr.anywhere.api.util.optify(c),{in_reply_to_status_id:d}),this.update(b,c)}),search:b(["SearchResult"],function(a,b){d({options:b,url:"search",params:[twttr.merge({q:a},b)],dataSource:["","results"]})})}).methods(twttr.anywhere.api.mixins.StatusActions).methods({bind:twttr.anywhere.api.util.bindMethod,activity:b(["Activity"],function(a){d({options:a,url:"statuses/:id/activity",params:[this.id],dataSource:[""]})}),summary:b(undefined,function(a){d({options:a,url:"statuses/:id/activity/summary",params:[this.id],dataSource:[""]})}),destroy:b("Status",{expire:!0,cache:!1,triggers:"delete",triggerTarget:function(a){return"current_user"}},function(a){var b=this,c=a.success;a.success=function(){b.expire(),c.apply(b,arguments)},d({options:a,url:"statuses/destroy",params:[{id:this.id}],dataSource:["status"]})}),retweets:b(["Status"],function(a){d({options:a,url:"statuses/retweets/:id",params:[this.id,a],dataSource:["status"]})}),retweeters:b(["User"],function(a){d({options:a,url:"statuses/:id/retweeted_by",params:[this.id,a],dataSource:["users"]})}),contributor:c(["User"],function(a){var b=this.data("contributors");if(b&&twttr.is.array(b)&&b.length===1)return twttr.anywhere.api.models.User.find(this.data("contributors")[0],a);a.success(null)}),inReplyToUser:c("User",function(a){a=twttr.anywhere.api.util.optify(a);if(this.inReplyToUserId)return twttr.anywhere.api.models.User.find(this.inReplyToUserId,a);a.success(null)}),inReplyTo:c("Status",function(a){a=twttr.anywhere.api.util.optify(a);if(this.inReplyToStatusId)return twttr.anywhere.api.models.Status.find(this.inReplyToStatusId,a);a.success(null)}),flag:b(undefined,function(a){var b,c={id:this.id};a.isOurTweet?(b="statuses/update_possibly_sensitive",c.possibly_sensitive=typeof a.possibly_sensitive=="undefined"||a.possibly_sensitive):b="statuses/flag_possibly_sensitive",d({options:a,url:b,params:[c],dataSource:["status"]})}),oembed:b(undefined,function(a){var b={url:"http://twitter.com/"+this.user.status_name+"/statuses/"+this.id,lang:a.lang,target:a.target,align:a.align};d({options:a,url:"statuses/oembed",params:[b],dataSource:["status"]})})}).mixin(twttr.anywhere.api.mixins.phoenix.Status);a(g)})}),provide("bluejs/models/promptbird",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=null,e=function(a,b){a=a||{},c({options:b,url:"users/get_prompt",params:[a],dataSource:[""]})},f=b(d,e),g=function(a,b){a=a||{},c({options:b,url:"users/dismiss_prompt",params:[a],dataSource:[""]})},i=b(d,g),j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promptbird").statics({getPrompt:f,dismissPrompt:i});a(j)})}),provide("bluejs/models/search_result",function(a){using(function(){var b=twttr.anywhere.api.util.aliasMethod,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchResult").methods(twttr.anywhere.api.mixins.StatusActions);a(c)})}),provide("bluejs/models/place",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Place").belongsTo("Place","contained_within").statics({find:b("Place",function(a,b){d({options:b,url:"geo/id/:id",params:[a,b],dataSource:["place"]})}),search:b(["Place"],function(a){var b=["lat","long","lon","query","ip","granularity","accuracy","autocomplete","max_results","contained_within","attribute:street_address","require_activity"],c=e(b,a);d({options:a,url:"geo/search",params:[c],dataSource:["","result","places"]})}),reverseGeocode:b(["Place"],function(a,b,c){var f=["long","accuracy","granularity","max_results"],g=e(f,c);g["long"]&&(b=g["long"],delete g["long"]),d({options:c,url:"geo/reverse_geocode",params:[twttr.merge({},g,{lat:a,lon:b})],dataSource:["","result","places"]})}),create:b("Place",function(a,b,c,f,g,i){var j=["long","attribute:street_address","accuracy"],k=e(j,i);k["long"]&&(c=k["long"],delete k["long"]),d({options:i,url:"geo/place",params:[twttr.merge({},k,{token:a,lat:b,lon:c,name:f,contained_within:g})],dataSource:[""]})}),similar:b(["Place"],function(a,b,c,f){var g=["long","contained_within","attribute:street_address","accuracy"],i=e(g,f);i["long"]&&(b=i["long"],delete i["long"]),d({options:f,url:"geo/similar_places",params:[twttr.merge({},i,{lat:a,lon:b,name:c})],dataSource:["","result","places"]})})});a(f)})}),provide("bluejs/models/user_recommendation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserRecommendation").hasOne("User").hasMany("User","connections").statics({hide:b(["UserRecommendation"],function(a,b,d){d.recommended_user_id=a,d.token=b,c({options:d,url:"users/recommendations/hide",params:[d],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.RateUserRecommendation);a(d)})}),provide("bluejs/models/suggestion_category",function(a){using(function(){var b=twttr.anywhere.api.util,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SuggestionCategory").hasMany("SuggestionCategory","categories").hasMany("User","users").hasMany("User","sample").statics({getAll:b.chainableMethod(["SuggestionCategory"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions",params:[a],dataSource:[""]})}),randomSample:b.chainableMethod(["User"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions/random",params:[a],dataSource:[""]})})}).methods({members:b.chainableMethod(["User"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions/:slug/members",params:[this.slug,a],dataSource:[""]})})});a(c)})}),provide("bluejs/models/related_tweets",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedTweets").hasMany("RelatedResult","results");a(b)})}),provide("bluejs/models/related_result",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedResult").hasOne("Status","value");a(b)})}),provide("bluejs/util/promoted_content",function(a){using("constants").as(function(b,c){var d=twttr.anywhere.api.util.filterOptions,e=c.promotedContent.linkType,f=twttr.klass("twttr.anywhere.api.util.PromotedContent",twttr.anywhere.api.util.noop).statics({loggedImpressions:{},logImpression:function(a){this.loggedImpressions[a]||(this.loggedImpressions[a]=!0,this._logImpressionIdEvent(a,e.DISPLAYED))},logProfileImageClick:function(a){this._logImpressionIdEvent(a,e.PROFILE_PIC)},logScreenNameClick:function(a){this._logImpressionIdEvent(a,e.SCREEN_NAME)},logPermalinkClick:function(a){this._logImpressionIdEvent(a,e.PERMALINK)},logDismissUser:function(a){this._logImpressionIdEvent(a,e.DISMISS_WITHOUT_REASON)},logShowDetails:function(a){this._logImpressionIdEvent(a,e.DETAIL)},logHashtagClick:function(a,b){b=b.replace(/^#/,""),this._logImpressionIdEvent(a,e.HASHTAG,{q:b})},logUserMentionClick:function(a,b){this._logImpressionIdEvent(a,e.USER_NAME,{username:b})},logUrlClick:function(a,b){this._logImpressionIdEvent(a,e.URL,{src:b})},logDismissUninteresting:function(a){this._logImpressionIdEvent(a,e.DISMISS_UNINTERESTING)},logDismissRepetitive:function(a){this._logImpressionIdEvent(a,e.DISMISS_REPETITIVE)},logDismissSpam:function(a){this._logImpressionIdEvent(a,e.DISMISS_SPAM)},logDismissOther:function(a){this._logImpressionIdEvent(a,e.DISMISS_WITHOUT_REASON)},logFooterProfileClick:function(a){this._logImpressionIdEvent(a,e.FOOTER_PROFILE)},logTrendImpression:function(a,b){this._logPromotedTrendIdEvent(a,"i",b)},logTrendClick:function(a,b){this._logPromotedTrendIdEvent(a,"c",b)},feedback:function(a){var b=d(["impression_id","status_id","reason","comments"],a);callMethod({options:a,url:"promoted_content/feedback",params:[b],dataSource:[""]})},_logPromotedTrendIdEvent:function(a,b,c){a&&b&&(c=$.extend({promoted_trend_id:a},c),this._logEvent(b,c))},_logImpressionIdEvent:function(a,b,c){a&&b&&(c=$.extend({impression_id:a},c),this._logEvent(b,c))},_logEvent:function(a,b){var c=twttr.hosts.remote+"/1/promoted_content/"+a+"/log.png?"+$.param(b);(new Image).src=c}});twttr.klass("twttr.anywhere.api.util.PromotedStore",twttr.anywhere.api.util.noop).statics({get:function(a){return this._store()[a]},putStatus:function(a){var b=a.impressionId;this._store()[b]=this._promotedDataForStatus(a)},putUser:function(a){var b=a.promotedContent.impression_id;this._store()[b]=this._promotedDataForUser(a)},getPromotedUserInstance:function(a,b){var c=twttr.anywhere.api.util.protoExtend;a=c(a),a.attributes=c(a.attributes),a.impressionId=b,a.attributes.impression_id=b;var d=this.get(b);return d&&(a.promotedContent=d.promotedContent,a.attributes.promoted_content=d.promotedContent),a},getPromotedStatusInstance:function(a,b){var c=twttr.anywhere.api.util.protoExtend,d=this.get(b);return a=c(a),a.impressionId=d.impressionId,a.experiments=d.experiments,a.attributes=c(a.attributes),a.attributes.impression_id=d.impressionId,a.attributes.experiments=d.experiments,a},_promotedDataForStatus:function(a){return a=$.extend({},a),{impressionId:a.impressionId,experiments:a.experiments}},_promotedDataForUser:function(a){return a=$.extend({},a),{promotedContent:a.promotedContent}},_store:function(){return this.store=this.store||{},this.store}}),a(f)})}),provide("bluejs/models/address_book",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.AddressBook").statics({contactsServices:b(undefined,function(a){c({options:a,url:"find_sources/contacts/services",params:[a],dataSource:["","services"]})}),contactsMatches:b(["User"],function(a){c({options:a,url:"find_sources/contacts/matches",params:[a],dataSource:["","users"]})}),contactsOthers:b("",function(a){c({options:a,url:"find_sources/contacts/others",params:[a],dataSource:["","contacts"]})}),followAllContacts:b("",function(a){c({options:a,url:"find_sources/contacts/follow_all",params:[a],dataSource:[""]})}),addContactsToList:b("",function(a,b){c({options:b,url:"find_sources/contacts/add_to_list",params:[{list_id:a}],dataSource:["","user_ids"]})}),sendInvitesByEmail:b(undefined,function(a,b){source=b&&b.source,c({options:b,url:"users/send_invites_by_email",params:[{addresses:a.join(","),source:source}],dataSource:[""]})})});a(d)})}),provide("bluejs/models/promo",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promo").statics({random:b(undefined,function(a,b){c({options:b,url:"promos/random_json_promo",params:[a],dataSource:[""]})})});a(d)})}),provide("bluejs/models/urls",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Urls").statics({resolve:b(undefined,function(a,b){c({options:b,url:"urls/resolve",params:[{urls:a}],dataSource:[""]})}),shorten:b(undefined,function(a,b){c({options:b,url:"urls/shorten",params:[{url:a}],dataSource:[""]})}),shortenMultiple:b(undefined,function(a,b){c({options:b,url:"urls/shorten_multiple",params:[{urls:a}],dataSource:[""]})})});a(d)})}),provide("bluejs/models/blob",function(a){using(function(){var b=twttr.anywhere.api.util.aliasMethod,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Blob").methods({get:function(a){a(this)}});a(c)})}),provide("bluejs/models/device",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Device").statics({list:b(null,function(a){c({options:a,url:"devices/list",params:[],dataSource:[""]})}),carriers:b("Blob",function(a){c({options:a,url:"devices/carriers",params:[a],dataSource:["carriers"]})}),create:b(null,function(a,b){c({options:b,url:"devices/create",params:[a],dataSource:[""]})}),destroy:b(null,function(a,b){c({options:b,url:"devices/destroy",params:[{id:a}],dataSource:[""]})})});a(d)})}),provide("bluejs/models/search",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Search",function(a){this.constructor.uberclass.call(this,a)}).statics({search:b("SearchStory",function(a,b){d({options:b,url:"i/search",params:[twttr.merge({q:a},b)],dataSource:[""]})}),imageFacets:b(["Status"],function(a,b){twttr.anywhere.api.models.Search._requestFacets("search/image_facets",a,b)}),videoFacets:b(["Status"],function(a,b){twttr.anywhere.api.models.Search._requestFacets("search/video_facets",a,b)}),_requestFacets:function(a,b,c){twttr.is.def(c.include_entities)||(c.include_entities=twttr.anywhere.api.config.includeEntities),d({options:c,url:a,params:[twttr.merge({q:b},c)],dataSource:["statuses"]})}});a(f)})}),provide("bluejs/models/conversation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Conversation",function(a){a&&twttr.anywhere.api.util.useStringIdentifier(a,"id"),this.constructor.uberclass.call(this,a)}).belongsTo("User");a(f)})}),provide("bluejs/models/activity",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.camelize,g=twttr.anywhere.api.util.BaseCollection,i={favorite:{sources:"User",targets:"Status",target_objects:null},mention:{sources:"User",targets:"User",target_objects:"Status"},reply:{sources:"User",targets:"Status",target_objects:"Status"},retweet:{sources:"User",targets:"Status",target_objects:"Status"},follow:{sources:"User",targets:"User",target_objects:null},list_member_added:{sources:"User",targets:"User",target_objects:"List"},list_created:{sources:"User",targets:"List",target_objects:null}},j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Activity",function(a){a.event?a.action=a.event:a.action&&(a.event=a.action),twttr.anywhere.api.models.Base.call(this,a);for(var b in i)this.sync("is_"+b,this.event===b);this.sync("timestamp",twttr.helpers.parseDateString(this.createdAt))});j.hasMany(function(a){return i[a.event].sources||null},"sources").hasMany(function(a){return i[a.event].targets||null},"targets").hasMany(function(a){return i[a.event].target_objects||null},"targetObjects").statics({classMap:i}),a(j)})}),provide("bluejs/models/topic_story",function(a){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TopicStory").methods({getId:function(){return this.attributes.query}}),a()})}),provide("bluejs/models/news_article",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsArticle").methods({getId:function(){return this.getExpandedUrl()},getDisplayUrl:function(){return this.url.display_url},getExpandedUrl:function(){return this.url.expanded_url},getImage:function(a){for(var b=0,c=this.media.length;b<c;b++){var d=this.media[b];if(d.type==="photo")return a&&d.media_url_https||d.media_url}return null}});a()})}),provide("bluejs/models/news_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsStory").hasMany("NewsArticle","articles").methods({getId:function(){return this.articles.get(0).getId()}});a()})}),provide("bluejs/models/user_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserStory");b.hasMany("User","users"),a(b)})}),provide("bluejs/models/tweet_story",function(a){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TweetStory").hasOne("Status","status").methods({getId:function(){return this.status.id}}),a()})}),provide("bluejs/models/story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Story",function(a){var b={};$.extend(b,a),b.content=a.data,delete b.data,twttr.anywhere.api.models.Base.call(this,b)}).methods({getId:function(){return this.content.getId()}}).hasOne("SocialProof","socialProof").hasOne(function(a){return twttr.util.capitalize(a.type)+"Story"},"content");a(b)})}),provide("bluejs/models/search_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchStory");b.hasMany("Story","stories"),a(b)})}),provide("bluejs/models/stories",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Stories");b.hasMany("Story","stories"),a()})}),provide("bluejs/models/discovery",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Discovery",function(a){this.constructor.uberclass.call(this,a)}).statics({discovery:b("Stories",function(a){c({options:a,url:"i/discovery",params:[a],dataSource:[""]})})}),a()})}),provide("bluejs/models/sports_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SportsStory").hasOne(function(a){return twttr.util.capitalize(a.sport)+"SportsEvents"},"events");a()})}),provide("bluejs/models/soccer_events",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SoccerSportsEvents").methods({getMatchedEvent:function(){return this.items[this.matchedEventId]},getMatchedEventData:function(){return this.items[this.matchedEventId].event_data},getMatchedTeam:function(a){var b=a?this.getMatchedEventData().home_team:this.getMatchedEventData().away_team;return b.team_logo_url=b.team_logo_url_https&&twttr.isSSL()?b.team_logo_url_https:b.team_logo_url_http,b.team_logo_url||(b.team_logo_url=b.user.profile_image_url_https&&twttr.isSSL()?b.user.profile_image_url_https:b.user.profile_image_url),b},getMatchState:function(){return this.getMatchedEventData().match_state},getOtherMatchState:function(){var a=this,b=jQuery.map(this.items,function(b,c){if(b.event_data.match_state.current_status==="scheduled"||c===a.matchedEventId)return null;var d=decodeURIComponent(b.event_data.match_hashtag);return{event_id:c,home_name:b.event_data.home_team.team_name,away_name:b.event_data.away_team.team_name,score:b.event_data.match_state.score,search_path:twttr.router.searchResultsPath({query:d}),live:b.event_data.match_state.current_status=="inprogress",hashtag:d}});return b}});a()})}),provide("bluejs/models/us_political_rep",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UsPoliticalRep").hasOne("User").statics({findByZip:b(["UsPoliticalRep"],function(a,b){c({options:b,url:"government_search/by_zip",params:[twttr.merge(b,{zip:a})],dataSource:[""]})})});a(d)})}),provide("bluejs/models/social_proof",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SocialProof").hasOne("ReferencedBy","referencedBy");a()})}),provide("bluejs/models/referenced_by",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.ReferencedBy").hasMany("Status","statuses");a()})}),provide("extendAPI",function(a){using().as(function(b){twttr.extendAPI=function(){twttr.API.DirectMessage.extend(function(){this.threadId=this.senderScreenName===twttr.currentUser.screenName?this.recipientScreenName:this.senderScreenName});var a=function(a){var c=a.retweetedStatus,d=new twttr.API.Status,e;for(e in a){if(e==="activities")continue;d[e]=a[e],delete a[e]}for(e in c)a[e]=c[e];a.retweetingStatus=d,a.wasRetweeted=!0,twttr.currentUser&&d.user&&d.user.id===twttr.currentUser.id&&c.sync("current_user_retweet",{id:d.id}),delete a.retweetingStatus.retweetedStatus,delete a.retweetingStatus.attributes.retweeted_status,b(a)},b=function(a){a.retweetingStatus.isPromoted()&&(a.attributes.impression_id=a.retweetingStatus.attributes.impression_id,a.attributes.experiments=a.retweetingStatus.attributes.experiments,a.attributes.disclosure_text=a.retweetingStatus.attributes.disclosure_text,a.attributes.disclosure_type=a.retweetingStatus.attributes.disclosure_type,a.impressionId=a.retweetingStatus.impressionId,a.experiments=a.retweetingStatus.experiments,a.disclosureText=a.retweetingStatus.disclosureText,a.disclosureType=a.retweetingStatus.disclosureType,delete a.retweetingStatus.impressionId,delete a.retweetingStatus.experiments,delete a.retweetingStatus.attributes.impression_id,delete a.retweetingStatus.attributes.experiments,delete a.retweetingStatus.disclosureText,delete a.retweetingStatus.disclosureType,delete a.retweetingStatus.attributes.disclosure_text,delete a.retweetingStatus.attributes.disclosure_type)};twttr.API.Status.extend(function(){function b(a){return a===null||typeof a=="undefined"}this.isRetweet&&a(this),this.isReply=!!this.inReplyToStatusId,this.hasGeo=Boolean(!b(this.coordinates)||this.place&&this.place.id),this.hasGeo&&(this.placeName=this.place&&this.place.fullName?this.place.fullName:null);var c=!b(this.coordinates)||!b(this.place)&&this.place.placeType=="poi",d=this.entities&&this.entities.places&&this.entities.places.length>0;this.showGeoMap=c&&!d,this.showGeoIcon=c||d}),twttr.API.User.extend(function(){var a=twttr.currentUserScreenName===this.screenName;this.is_only_admin_accessible=twttr.isAdmin&&!a&&(this.deactivated_bit||this.suspended||this["protected"]&&!this.following)}),twttr.API.CurrentUser.extend(function(){var a=this;this.hasLists=function(){return a.counts&&(a.counts.lists.owned||a.counts.lists.subscribed)},this.hasSavedSearches=function(){return a.counts&&a.counts.saved_searches}}),twttr.API.List.extend(function(){this.isOwnList=twttr.currentUser?twttr.currentUser.id===this.user.id:null}),twttr.API.SavedSearch.extend(function(){var a=this.query.match(/^place:([a-f0-9]{16})$/);this.isPlaceSearch=Boolean(a),a&&(this.placeId=a[1])})},a(twttr.extendAPI)})}),provide("bluejs/api",function(a){using("bluejs/init",function(){twttr.anywhere.api.initialize();var b={};twttr.aug(b,twttr.anywhere.api.models),twttr.aug(b,{globalEvents:twttr.anywhere.api.globalEvents}),b.setConfig=twttr.anywhere.api.updateConfig,b.getConfig=function(){return twttr.anywhere.api.config},b.util||(b.util={}),twttr.aug(b.util,twttr.anywhere.api.util),b._requestCache||(b._requestCache=twttr.anywhere.api.cache),a(b)})}),provide("$lib/jquery.color.js",function(a){(function(a){function b(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:d[a.trim(b).toLowerCase()]}function c(c,d){var e;do{e=a.curCSS(c,d);if(e!=""&&e!="transparent"||a.nodeName(c,"body"))break;d="backgroundColor"}while(c=c.parentNode);return b(e)}a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(d,e){a.fx.step[e]=function(a){a.state==0&&(a.start=c(a.elem,e),a.end=b(a.end)),a.elem.style[e]="rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2]),255),0)].join(",")+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),a()}),provide("$lib/modernizr-1.5.js",function(a){window.Modernizr=function(a,b,c){function ib(a){k.cssText=a}function jb(a,b){return ib(ab.join(a+";")+(b||""))}function kb(a,b){return(""+a).indexOf(b)!==-1}function lb(a,b){for(var d in a)if(k[a[d]]!==c&&(!b||b(a[d],j)))return!0}function mb(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=[a,"Webkit"+c,"Moz"+c,"O"+c,"ms"+c,"Khtml"+c];return!!lb(d,b)}function nb(){e[F]=function(a){for(var b=0,c=a.length;b<c;b++)db[a[b]]=a[b]in l;return db}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e[G]=function(a){for(var b=0,c,d=a.length;b<d;b++)l.setAttribute("type",a[b]),c=l.type!=="text",c&&(l.value=Y,/tel|search/.test(l.type)||(/url|email/.test(l.type)?c=l.checkValidity&&l.checkValidity()===!1:c=l.value!=Y)),cb[a[b]]=!!c;return cb}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="1.5",e={},f=!0,g=b.documentElement,i="modernizr",j=b.createElement(i),k=j.style,l=b.createElement("input"),m="canvas",n="canvastext",o="rgba",p="hsla",q="multiplebgs",r="backgroundsize",s="borderimage",t="borderradius",u="boxshadow",v="opacity",w="cssanimations",x="csscolumns",y="cssgradients",z="cssreflections",A="csstransforms",B="csstransforms3d",C="csstransitions",D="video",E="audio",F="input",G=F+"types",H="svg",I="smil",J=H+"clippaths",K="background",L=K+"Color",M="canPlayType",N="localStorage",O="sessionStorage",P="applicationCache",Q="webworkers",R="hashchange",S="crosswindowmessaging",T="historymanagement",U="draganddrop",V="websqldatabase",W="indexedDB",X="websockets",Y=":)",Z=Object.prototype.toString,ab=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),bb={},cb={},db={},eb=[],fb=function(){function c(c,d){var e=arguments.length==1;if(e&&b[c])return b[c];d=d||document.createElement(a[c]||"div"),c="on"+c;var f=c in d;return!f&&d.setAttribute&&(d.setAttribute(c,"return;"),f=typeof d[c]=="function"),d=null,e?b[c]=f:f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},b={};return c}(),gb={}.hasOwnProperty,hb;typeof gb!="undefined"&&typeof gb.call!="undefined"?hb=function(a,b){return gb.call(a,b)}:hb=function(a,b){return b in a&&typeof a.constructor.prototype[b]=="undefined"},bb[m]=function(){return!!b.createElement(m).getContext},bb[n]=function(){return!!bb[m]()&&typeof b.createElement(m).getContext("2d").fillText=="function"},bb[S]=function(){return!!a.postMessage},bb[V]=function(){var b=!!a.openDatabase;if(b)try{b=!!openDatabase("testdb","1.0","html5 test db",2e5)}catch(c){b=!1}return b},bb[W]=function(){return!!a[W]},bb[R]=function(){return fb(R,a)&&(document.documentMode===c||document.documentMode>7)},bb[T]=function(){return!!a.history&&!!history.pushState},bb[U]=function(){return fb("drag")&&fb("dragstart")&&fb("dragenter")&&fb("dragover")&&fb("dragleave")&&fb("dragend")&&fb("drop")},bb[X]=function(){return"WebSocket"in a},bb[o]=function(){return ib(K+"-color:rgba(150,255,150,.5)"),kb(k[L],o)},bb[p]=function(){return ib(K+"-color:hsla(120,40%,100%,.5)"),kb(k[L],o)},bb[q]=function(){return ib(K+":url(//:),url(//:),red url(//:)"),(new RegExp("(url\\s*\\(.*?){3}")).test(k[K])},bb[r]=function(){return mb(K+"Size")},bb[s]=function(){return mb("borderImage")},bb[t]=function(){return mb("borderRadius","",function(a){return kb(a,"orderRadius")})},bb[u]=function(){return mb("boxShadow")},bb[v]=function(){return jb("opacity:.5"),kb(k[v],"0.5")},bb[w]=function(){return mb("animationName")},bb[x]=function(){return mb("columnCount")},bb[y]=function(){var a=K+"-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return ib((a+ab.join(b+a)+ab.join(c+a)).slice(0,-a.length)),kb(k.backgroundImage,"gradient")},bb[z]=function(){return mb("boxReflect")},bb[A]=function(){return!!lb(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},bb[B]=function(){var a=!!lb(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(a){var c=document.createElement("style"),d=b.createElement("div");c.textContent="@media ("+ab.join("transform-3d),(")+"modernizr){#modernizr{height:3px}}",b.getElementsByTagName("head")[0].appendChild(c),d.id="modernizr",g.appendChild(d),a=d.offsetHeight===3,c.parentNode.removeChild(c),d.parentNode.removeChild(d)}return a},bb[C]=function(){return mb("transitionProperty")},bb[D]=function(){var a=b.createElement(D),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';c.h264=a.canPlayType(d+'"')||a.canPlayType(d+', mp4a.40.2"'),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return c},bb[E]=function(){var a=b.createElement(E),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),c.mp3=a.canPlayType("audio/mpeg;"),c.wav=a.canPlayType('audio/wav; codecs="1"'),c.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")}catch(d){}return c},bb[N]=function(){try{return"localStorage"in a&&a[N]!==null}catch(b){return!1}},bb[O]=function(){try{return"sessionStorage"in a&&a[O]!==null}catch(b){return!1}},bb[Q]=function(){return!!a.Worker},bb[P]=function(){var b=a[P];return!!b&&typeof b.status!="undefined"&&typeof b.update=="function"&&typeof b.swapCache=="function"},bb[H]=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},bb[I]=function(){return!!b.createElementNS&&/SVG/.test(Z.call(b.createElementNS("http://www.w3.org/2000/svg","animate")))},bb[J]=function(){return!!b.createElementNS&&/SVG/.test(Z.call(b.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var ob in bb)hb(bb,ob)&&eb.push(((e[ob.toLowerCase()]=bb[ob]())?"":"no-")+ob.toLowerCase());return e[F]||nb(),e.addTest=function(a,b){a=a.toLowerCase();if(e[a])return;return b=!!b(),g.className+=" "+(b?"":"no-")+a,e[a]=b,e},ib(""),j=l=null,f&&function(){var a=b.createElement("div");return a.innerHTML="<elem></elem>",a.childNodes.length!==1}()&&function(a,b){function c(a,d){if(j[a])j[a].styleSheet.cssText+=d;else{var e=g[o],f=b[p]("style");f.media=a,e.insertBefore(f,e[o]),j[a]=f,c(a,d)}}function d(a,b){for(var e=new RegExp("\\b("+k+")\\b(?!.*[;}])","gi"),f=function(a){return".iepp_"+a},h=-1;++h<a.length;)b=a[h].media||b,d(a[h].imports,b),c(b,a[h].cssText.replace(e,f))}function e(){for(var a,c=b.getElementsByTagName("*"),e,f,h=new RegExp("^"+k+"$","i"),g=-1;++g<c.length;)(a=c[g])&&(f=a.nodeName.match(h))&&(e=new RegExp("^\\s*<"+f+"(.*)\\/"+f+">\\s*$","i"),i.innerHTML=a.outerHTML.replace(/\r|\n/g," ").replace(e,a.currentStyle.display=="block"?"<div$1/div>":"<span$1/span>"),e=i.childNodes[0],e.className+=" iepp_"+f,e=m[m.length]=[a,e],a.parentNode.replaceChild(e[1],e[0]));d(b.styleSheets,"all")}function f(){for(var a=-1,b;++a<m.length;)m[a][1].parentNode.replaceChild(m[a][0],m[a][1]);for(b in j)g[o].removeChild(j[b]);j={},m=[]}for(var g=b.documentElement,i=b.createDocumentFragment(),j={},k="abbr|article|aside|audio|canvas|command|datalist|details|figure|figcaption|footer|header|hgroup|keygen|mark|meter|nav|output|progress|section|source|summary|time|video",l=k.split("|"),m=[],n=-1,o="firstChild",p="createElement";++n<l.length;)b[p](l[n]),i[p](l[n]);i=i.appendChild(b[p]("div")),a.attachEvent("onbeforeprint",e),a.attachEvent("onafterprint",f)}(this,b),e._enableHTML5=f,e._version=d,g.className=g.className.replace(/\bno-js\b/,"")+" js",e}(this,this.document),a()}),provide("$lib/jquery.hashchange.js",function(a){(function($){var a=function(){function c(c,d){var e=arguments.length==1;if(e&&b[c])return b[c];d=d||document.createElement(a[c]||"div"),c="on"+c;var f=c in d;return!f&&d.setAttribute&&(d.setAttribute(c,"return;"),f=typeof d[c]=="function"),d=null,e?b[c]=f:f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},b={};return c}();$.fn.hashchange=function(b){if(a("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7))this.bind("hashchange",b);else{var c=location.hash;setInterval(function(){c!==location.hash&&(b($.Event("hashchange")),c=location.hash)},250)}return this}})(jQuery),a()}),provide("$lib/jquery.cookie.js",function(a){jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var j=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var l=0;l<k.length;l++){var m=jQuery.trim(k[l]);if(m.substring(0,a.length+1)==a+"="){j=decodeURIComponent(m.substring(a.length+1));break}}}return j}c=c||{},b===null&&(b="",c.expires=-1);var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;typeof c.expires=="number"?(e=new Date,e.setTime(e.getTime()+c.expires*24*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",i=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,i].join("")},a()}),provide("$lib/jquery.tipsy.js",function(a){(function($){function a(a,b){this.$element=$(a),this.options=b,this.enabled=!0,this.fixTitle()}a.prototype={show:function(){var a=this.getTitle();if(a&&this.enabled){var b=this.tip();b.find(".tipsy-inner")[this.options.html?"html":"text"](a),b[0].className="tipsy",b.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var c=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),d=b[0].offsetWidth,e=b[0].offsetHeight,f=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity;function g(a){return twttr.isRTL?a==="e"?"w":"e":a}var i;switch(f.charAt(0)){case"n":i={top:c.top+c.height+this.options.offset,left:c.left+c.width/2-d/2};break;case"s":i={top:c.top-e-this.options.offset,left:c.left+c.width/2-d/2};break;case g("e"):i={top:c.top+c.height/2-e/2,left:c.left-d-this.options.offset};break;case g("w"):i={top:c.top+c.height/2-e/2,left:c.left+c.width+this.options.offset}}f.length==2&&(f.charAt(1)==g("w")?i.left=c.left+c.width/2-15:i.left=c.left+c.width/2-d+15),b.css(i).addClass("tipsy-"+f),this.options.fade?b.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):b.css({visibility:"visible",opacity:this.options.opacity}),this.options.className&&b.addClass(this.options.className)}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){$(this).remove()}):this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("original-title")!="string")&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;this.fixTitle();var a,c=this.options;return typeof c.title=="string"?a=b.attr(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback},tip:function(){return this.$tip||(this.$tip=$('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},$.fn.tipsy=function(b){function d(c){var d=$.data(c,"tipsy");return d||(d=new a(c,$.fn.tipsy.elementOptions(c,b)),$.data(c,"tipsy",d)),d}function e(){var a=d(this);a.hoverState="in",b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&a.show()},b.delayIn))}function f(){var a=d(this);a.hoverState="out",b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}if($.browser.msie&&$.browser.version<9)return this;if(b===!0)return this.data("tipsy");if(typeof b=="string"){var c=this.data("tipsy");return c&&c[b](),this}b=$.extend({},$.fn.tipsy.defaults,b);if(b.stopThat){this.each(function(){d(this).hide()});return}b.live||this.each(function(){d(this)});if(b.trigger!="manual"){var g=b.live?"live":"bind",i=b.trigger=="hover"?"mouseenter":"focus",j=b.trigger=="hover"?"mouseleave":"blur";this[g](i,e)[g](j,f)}return this},$.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},$.fn.tipsy.elementOptions=function(a,b){return $.metadata?$.extend({},b,$(a).metadata()):b},$.fn.tipsy.autoNS=function(){return $(this).offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n"},$.fn.tipsy.autoWE=function(){return $(this).offset().left>$(document).scrollLeft()+$(window).width()/2?"e":"w"}})(jQuery),a()}),provide("$lib/jquery.cssanimation.js",function(a){(function($){var a=/([A-Z])/g;$.fn.stopCssAnimation=function(){this.each(function(){var b=$(this),c=b.data("cssAnimatedProps"),d=window.getComputedStyle(this,null),e={};for(var f in c)f=f.replace(a,"-$1").toLowerCase(),e[f]=d.getPropertyValue(f);b.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""});for(var f in e)b.css(f,e[f]);b.data("cssAnimatedProps",null);var g=b.data("cssTimeoutId");g!=null&&(clearTimeout(g),b.data("cssTimeoutId",null))})},$.fn.animateWithCss=function(b,c,d,e){var f=jQuery.speed(c,d,e);if(jQuery.isEmptyObject(b))return this.each(f.complete);var g={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out"};f.easing=f.easing||"swing",f.easing=g[f.easing]?g[f.easing]:f.easing,this.each(function(){$(this).data("cssAnimatedProps",b);var c=window.getComputedStyle(this,null);for(var d in b)d=d.replace(a,"-$1").toLowerCase(),$(this).css(d,c.getPropertyValue(d))});var i=[];for(var j in b)i.push(j);var k=i.length?i.join(","):"all";this.css({"-moz-transition-property":k,"-moz-transition-duration":f.duration+"ms","-moz-transition-timing-function":f.easing,"-webkit-transition-property":k,"-webkit-transition-duration":f.duration+"ms","-webkit-transition-timing-function":f.easing}),this.css(b);var l=this,m=setTimeout(function(){l.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""}),l.data("cssAnimatedProps",null),l.data("cssTimeoutId",null),jQuery.isFunction(f.complete)&&f.complete.apply(l)},f.duration);return this.data("cssTimeoutId",m),this}})(jQuery),a()}),provide("IFrame",function(a){using().as(function(b){twttr.provide("twttr.IFrame"),twttr.IFrame=function(){function e(){var a=["webkit","mozilla","opera","msie"];for(var b=0;b<a.length;b++)if($.browser[a[b]])return a[b]}var a="<!DOCTYPE html><html><head>",b="</head><body>",c="</body></html>",d=function(a,b){for(var c in b)a[c]=b[c];return a},f=function(a){return jQuery.map(a||[],function(a,b){return'<link rel="stylesheet" href="'+a+'" type="text/css">'}).join("")},g=0,i=function(a){return a?(g=a.length,jQuery.map(a||[],function(a,b){return"<script "+($.browser.msie?"onReadyStateChange":"onLoad")+'="scriptReady(this);" type="text/javascript" src="'+a+'"></scr'+"ipt>"}).join("")):""},j=function(i){var j=i.window.document,k=this,l=$('<iframe allowtransparency="true" frameborder="0" tabindex="-1" role="presentation" scrolling="no"/>',j),m=l[0],n=i.complete,o=i.content,p=$.browser;i.css&&l.css(i.css),this.node=m;var q=function(){this.window=this.contentWindow=m.contentWindow,this.$node=l,$(m.contentWindow.document.body).addClass(e());var a=d(function(a){return $(a,m.contentWindow.document)},$);this.jQuery=a;try{this.window.jQuery||(this.window.jQuery=a,this.window.$=a)}catch(b){}n(this)};if(o){if(twttr.is.string(o))n&&l.bind("load",twttr.bind(this,function(){l.unbind("load"),q.call(this)})),m.src=o;else{var r="";p.mozilla&&(m.src="javascript:"+(new Date).getTime()+";'';"),p.msie&&i.domain&&(m.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\""+document.domain+"\\\";<\\\\/script>\\');document.close();};</script>'",r='<script>document.domain = "'+i.domain+'";</script>'),l.bind("load",twttr.bind(this,function(d){l.unbind("load"),m.contentWindow.document.scriptReady=function(a){if(a.readyState&&(a.readyState=="loaded"||a.readyState=="complete")||!$.browser.msie)g--,g||q.call(j)};var e=m.contentWindow.document,i=a+r+f(o.css)+(o.styles?'<base href="'+twttr.assets.path("/")+'"><style type="text/css">'+o.styles+"</style>":"")+b+(o.body||"")+c,j=this;e.open(),e.write(i),e.close(),g||q.call(j)}))}var s=i.parentNode;typeof i.parentNode=="string"?s=$(i.parentNode,j):s=i.parentNode,l[i.insert||"appendTo"](s||j.body)}};return{create:function(a,b){return a=d({window:window,complete:b},a),(new j(a)).node}}}(),a(twttr.IFrame)})}),provide("util",function(a){using("run/base").as(function(b){var c=null,d=/([a-zA-Z0-9])([A-Z])/g,e=/_(.)/g,f=/\?(.*)/,g={supplant:function(){var a=/\{([^\{\}]*)\}/g;return function(b,c){return b.replace(a,function(a,b){var d=c[b];return twttr.is.string(d)||twttr.is.number(d)?d:a})}}(),joinPath:function(a,b){return a.substr(-1)==="/"?a+b:a+"/"+b},defaulted:function(a,b){return twttr.is.def(a)?a:b},create:function(a){function b(){}return b.prototype=a,b.constructor=b,new b},params:function(a){if(!a&&c)return c;var b={},d=a||window.location.search;return d?(d.charAt(0)==="?"&&(d=d.slice(1)),twttr.each(d.split("&"),function(a){a=a.split("=");var c=a.shift(),d=decodeURIComponent(a.join("="));b[c]=d.replace(/\+/," ")}),a||(c=b),b):b},paramsFromUrl:function(a){return!a||a.indexOf("?")<0?null:g.params(a.split(f)[1])},underscore:function(a){return a.toUpperCase()===a?a:a.replace(d,function(a,b,c){return b+"_"+c}).toLowerCase()},camelize:function(a){return a.replace(e,function(a,b){return b.toUpperCase()})},camelizeObject:function(a){if(!twttr.is.object(a))throw new Error("The carmelizeObject() method only accepts apples.");var b={};for(var c in a)b[g.camelize(c)]=a[c];return b},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},addCommas:function(a,b){return b=b||",",parseInt(a,10).toString().replace(/(.)(?=(.{3})+$)/g,function(a,c){return c+b})},_numberFormats:{de:{grouping_separator:"."},en:{grouping_separator:","},es:{grouping_separator:"."},fr:{grouping_separator:" "},it:{grouping_separator:"."},ja:{grouping_separator:","},pt:{grouping_separator:"."},tr:{grouping_separator:"."},nl:{grouping_separator:"."},id:{grouping_separator:"."}},formatNumber:function(a,b){var c=",";return twttr.is.def(b)&&g._numberFormats[b]&&(c=g._numberFormats[b].grouping_separator),g.addCommas(a,c)},diff:function(a,b,c){var d={};if(!twttr.is.object(a)||!twttr.is.object(b))throw new Error("util.diff currently supports only single-level object comparison");for(var e in a)c?c(a[e],b[e])||(d[e]=[a[e],b[e]]):a[e]!==b[e]&&(d[e]=[a[e],b[e]]);for(var e in b)d[e]||(c?c(b[e],a[e])||(d[e]=[a[e],b[e]]):a[e]!==b[e]&&(d[e]=[a[e],b[e]]));return d},trim:function(a){return a.replace(/(^\s*|\s*$)/g,"")},lazyBind:function(){var a={},b=function(b){return setInterval(function(){$.each(a[b],function(a,b){b.callback.call(b.node,b.event)}),a[b]={}},b)},c={},d=0,e=0;return function(f,g,i,j){j=j||1e3,a[j]=a[j]||{};var k=$(f);i.id||(i.id=++d),k.data("lazy-id")||k.data("lazy-id",e++),k.bind(g,function(b){var c=k.data("lazy-id")+g+i.id;a[j][c]={callback:i,event:b,node:f}}),c[j]||(c[j]=b(j),!$.browser.msie&&!twttr.selenium&&($(window).bind("blur",function(a){c[j]&&(clearInterval(c[j]),c[j]=null)}),$(window).bind("focus",function(){c[j]||(c[j]=b(j))})))}}(),displayLength:function(a){if(typeof a!="string")throw new Error("displayLength() requires a single input of type string");var b=0,c=0,d=function(a,b){var c=a.charCodeAt(b),d="",e="";if(55296<=c&&c<=56319){if(a.length<=b+1)throw"High surrogate without following low surrogate";d=a.charCodeAt(b+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(b)+a.charAt(b+1)}if(56320<=c&&c<=57343){if(b===0)throw"Low surrogate without preceding high surrogate";e=a.charCodeAt(b-1);if(55296>e||e>56319)throw"Low surrogate without preceding high surrogate";return!1}return 8206==c||8207==c?!1:a.charAt(b)};for(b=0,c=0;b<a.length;b++){if(d(a,b)===!1)continue;c++}return c},objKeys:function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},arrayUniq:function(a){var b=0;while(b<a.length)$.inArray(a[b],a)<b?a.splice(b,1):b++;return a},arrayMap:function(a,b){var c=[];for(var d=0,e=a.length;d<e;++d)c.push(b.call(a[d],a[d],d,a));return c},linkifyEntities:function(a,b){return b.entities&&b.entities.urls&&twttr.each(b.entities.urls,function(b){b.display_url&&(a=a.replace(new RegExp(">"+g.escapeRegExpChars(h(b.url))+"<\\/a>"),function(){return">"+h(b.display_url)+"</a>"})),b.expanded_url&&(a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(b.url))+"[\"'])"),function(a,c){return c+' data-expanded-url="'+h(b.expanded_url)+'" title="'+h(b.expanded_url)+'"'}))}),b.entities&&b.entities.media&&b.entities.media.length>0&&twttr.each(b.entities.media,function(c){var d=b.text.substring(c.indices[0],c.indices[1]);if(c.display_url){var e="";if(c.sizes&&c.sizes.medium){var f=c.sizes.medium;e=' data-media-h="'+h(f.h)+'" data-media-w="'+h(f.w)+'"'}a=a.replace(new RegExp(">"+g.escapeRegExpChars(h(d))+"<\\/a>"),function(){return e+' data-twitter-media-url="true">'+h(c.display_url)+"</a>"})}if(c.expanded_url)if(twttr.domains.local.indexOf("staging")===0){var i=c.expanded_url.replace(/http[s]?:\/\/twitter.com/,"//"+twttr.domains.local);a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(d))+"[\"'])"),function(){return'href="'+h(i)+'" data-expanded-url="'+h(c.expanded_url)+'" title="'+h(c.expanded_url)+'"'})}else a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(d))+"[\"'])"),function(a,b){return b+' data-expanded-url="'+h(c.expanded_url)+'" title="'+h(c.expanded_url)+'"'})}),a},linkify:function(a){var b=twttr.decider.isAvailable(twttr.loggedIn?"swift_profile":"swift_profile_logged_out"),c=twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(a,{hashtagClass:"twitter-hashtag pretty-link",urlClass:" ",hashtagUrlBase:"/#!/search/%23",hash:"<s>#</s>",preText:"<b>",postText:"</b>",extraHtml:' data-query-source="'+twttr.search.searchQuerySource.HASHTAG+'"'}),{urlClass:"twitter-timeline-link",target:"_blank"}),{usernameClass:"twitter-atreply pretty-link",usernameUrlBase:b?"/":"/#!/",listClass:"twitter-listname",urlClass:" ",preChunk:"<b>",postChunk:"</b>"});return c.replace(/([@＠]+)(<[^>]*>)/g,"$2<s>$1</s>")},queryHighlight:function(a,b){var c=a.replace(/"/gi,""),d=b.replace(/<[^>]+>/g,"");return twttr.txt.hitHighlight(b,g.highlightIndices(c,d),{tag:"strong"})},escapeRegExpChars:function(){var a="\\/{}|()[]?.*+:^$";return specialCharsMatcher=new RegExp("((\\"+a.split("").join(")|(\\")+"))","gi"),function(a){return a.replace(specialCharsMatcher,function(a,b){return"\\"+b})}}(),normalizeCharacters:function(a){return a.replace(/[ÄÅÖØÜäåöøüÆæß]/g,function(a){switch(a){case"Ä":return"AE";case"Å":return"AA";case"Ö":case"Ø":return"OE";case"Ü":return"UE";case"ä":return"ae";case"å":return"aa";case"ö":case"ø":return"oe";case"ü":return"ue";case"Æ":return"AE";case"æ":return"ae";case"ß":return"ss";default:return a}})},highlightIndices:function(a,b){a=g.escapeRegExpChars(a);var c;twttr.decider.isAvailable("escape_ampersands_in_search_highlighter")?c=twttr.util.arrayMap(a.split(/\s+/),function(a){return a.replace("&","&amp;")}):c=a.split(/\s+/);var d=[];for(var e in c)d.push(g.normalizeCharacters(c[e]));var f=[],i="("+c.join(")|(")+")|("+d.join(")|(")+")",j="!#%&+,-./:;<=>?@^_{|}~".split("").join("\\"),k=new RegExp("(^|\\b|\\W|["+j+"])("+i+")(\\b|\\s|$|["+j+"])","gi");return b.replace(k,function(a,b,c){var d=arguments[arguments.length-2]+b.length;f.push([d,d+c.length])}),f},inspect:function(a){console.clear();var b=$(a),c=b.data("events"),d=0,e=0,f=[],g=[];for(key in c){f.push(key),d++,g.push("\n*******************\n"),g.push("Events for "+key+"\n\n");for(fn in c[key]){var i=c[key][fn];e++,g.push(i.toSource()+"\n")}}console.log("************* Summary *************"),console.log("for target",b),console.log(d+" types of events",f),console.log(e,"Total Event Listeners"),console.log("Event listeners assigned to target"),console.log(g.join(" "))},regexSupplant:function(a,b){return b=b||"",typeof a!="string"&&(a.global&&b.indexOf("g")<0&&(b+="g"),a.ignoreCase&&b.indexOf("i")<0&&(b+="i"),a.multiline&&b.indexOf("m")<0&&(b+="m"),a=a.source),new RegExp(a.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.regexps[b]||"";return typeof c!="string"&&(c=c.source),c}),b)},leven:function(a,b){var c,d,e=a.length,f=b.length;if(!e)return f;if(!f)return e;var g=[];for(var i=0;i<=e;i++)g[i]=[],g[i][0]=i;for(var j=0;j<=f;j++)g[0][j]=j;for(var i=1;i<=e;i++){c=a.charAt(i-1);for(var j=1;j<=f;j++)g[i][j]=Math.min(g[i-1][j]+1,g[i][j-1]+1,g[i-1][j-1]+(c==b.charAt(j-1)?0:1))}return g[e][f]},uriRegex:new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)?(?:\\?([^#]*))?(?:#(.*))?$","i"),noopInT1:function(){},noopInP1:function(){}};g.Location=twttr.klass(function(a){a.match(/^\/\//)?a="http:"+a:a.match(/^[a-z]+:\/\//)||(a="http://"+a);var b=a.match(/^([a-z]+:)\/\/([\w\-\.]+)(\:\d+)?(.+)?/);this.href=a,this.protocol=b[1],this.hostname=b[2],this.host=b[2]+(b[3]||""),this.port=b[3]?b[3].slice(1):b[1]==="https:"?"443":"80";var c=b[2].match(/\.(\w+)$/);c?this.extension=c[1]:this.ext="";if(!b[4])this.hash="",this.search="",this.pathname="/";else{b[4].match(/^\//)||(b[4]="/"+b[4]);var d=b[4].split("?"),e=b[4].split("#");this.pathname=d[0],/\/$/.test(this.pathname)||(this.pathname=this.pathname+"/"),this.search=d.length>1?"?"+function(){return d.shift(),d.join("").replace(/#.*$/,"")}():"",this.hash=e.length>1?"#"+e[1]:""}}).methods({query:function(a){return this.search?g.params(this.search)[a]||"":""}}),g.WaitQueue=twttr.klass(function(){this._methods=[],this._response=null,this._flushed=!1}).methods({add:function(a){this._flushed?a(this._response):this._methods.push(a)},flush:function(a){if(this._flushed)return;this._response=a,this._flushed=!0;while(this._methods[0])this._methods.shift()(a)}}),twttr.provide("twttr.util",g),a(g)})}),provide("constants",function(a){using().as(function(b){var c={sessionPollInterval:1e4,directMessagePollInterval:9e4,defaultScribeCategory:"webclient",scribeHostName:"scribe.twitter.com",maxUrlLength:2083,tcoLength:20,japaneseAdUrl:"//pages.quantumads.com/transformer/async.js?callback=twttr.components.JapaneseAd.callbacks.",japaneseAdIframeUrl:"//web-jp.ad-v.jp/adam/detect?tag=htm&cat=twitter.all&format=side_banner",keyCodes:{enter:13,escape:27,esc:27,tab:9,del:8,spacebar:32,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39},which:{period:46},charCodes:{space:32,questionMark:63},placeTypes:{city:7},promotedContent:{linkType:{URL:1,PROFILE_PIC:2,SCREEN_NAME:3,HASHTAG:4,USER_NAME:5,DISPLAYED:27,DETAIL:28,DISMISS_WITHOUT_REASON:31,DISMISS_UNINTERESTING:32,DISMISS_REPETITIVE:33,DISMISS_SPAM:34,DISMISS_OTHER:35,FOOTER_PROFILE:36,PERMALINK:40}},videos:{widescreen:"16:9",fullscreen:"4:3"},jQueryEvents:"blur hover focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),errorCodes:{notFollowing:"NotFollowingErrorMessage",duplicateTweet:"DuplicateTweetErrorMessage",malwareTweet:"MalwareErrorMessage",dailyLimit:"DailyLimitErrorMessage",tooLongTweet:"TooLongErrorMessage",whale:"DefaultErrorMessage",otherUserSuspended:"OtherUserSuspendedErrorMessage",suspended:"SuspendedErrorMessage",permission:"PermissionErrorMessage",photoTimeout:"PhotoTimeoutErrorMessage",followingLimitReached:"FollowingLimitReachedErrorMessage",blockedFromFollowing:"BlockedFromFollowingErrorMessage",tooLongListName:"TooLongListNameErrorMessage",tooLongListDescription:"TooLongListDescriptionErrorMessage",noLetterStartListName:"NoLetterStartListNameErrorMessage",userNotFound:"UserNotFoundErrorMessage",tweetNotFound:"TweetNotFoundErrorMessage"},regexps:{name:/\S+/,usernameForSignup:/^[@＠]?([a-zA-Z0-9_]{1,15})$/,username:/^[@＠]?([a-zA-Z0-9_]{1,22})$/,usernameWithAt:/^[@＠]{1}([a-zA-Z0-9_]{1,22}) /,usernameWithSpace:/^[@＠]{1}(\w{1,22})\s*$/,suggestionCategoryPath:/\/(who_to_follow|welcome)\/interests\/([^\/]+)/,userSearchPath:/(\/(who_to_follow|welcome)\/search\/|\/search\/users\/)([^\/]+)/,email:/^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,rtlChar:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,dirMark:/\u200e|\u200f/gm,rtlHashtag:/^#.*([\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF])+/gm},recaptcha:{srcUrl:twttr.recaptchaUrlForTest||"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",publicKey:"6LfbTAAAAAAAAE0hk8Vnfd1THHnn9lJuow6fgulO"},noob:{dismissed:-2,notNoob:-1,total:0,invited:1,friendless:2,silent:3,talking:4,popular:5,lonely:6,struggling:7},imageSizes:{small:"small",medium:"medium",large:"large",original:"original"},slideshow:{fadeOutArrowTimeout:2e3,fadeInArrowTimeout:750,fadeAnimationTime:400,photoMinHeight:340,videoMinHeight:390,videoMaxWidth:480},clientEvent:{itemType:{tweet:0,promotedTweet:1,popularTweet:2,user:3,promotedUser:4,activity:5,message:6,story:7}},media:{photoIcon:"photo"},users:{maxLookupSize:100},scribe:{CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2}};twttr.constants=c,a(c)})}),provide("cache",function(a){using().as(function(b){twttr.provide("twttr.cache"),twttr.provide("twttr.caches"),twttr.klass("twttr.cache.Simple",function(){this._cache={}}).methods({set:function(a,b,c){this._cache[a]={value:b,expire:twttr.is.number(c)?this._getTime()+c:null};var d=this._writeThrough();return d===!1&&this.remove(a),b},get:function(a){return this._checkExpiry(a),this._cache[a]?this._cache[a].value:undefined},remove:function(a){delete this._cache[a],this._writeThrough()},clear:function(){this._cache={},this._writeThrough()},_checkExpiry:function(a){this._cache[a]&&this._cache[a].expire&&this._cache[a].expire<this._getTime()&&this.remove(a)},_getTime:function(){return(new Date).getTime()},_writeThrough:function(){return!0}}),function(){function n(a){return window.localStorage.getItem(a)}function o(a,b){return window.localStorage.setItem(a,b)}function p(a){return window.localStorage.removeItem(a)}function q(a){return window.sessionStorage.getItem(a)}function r(a,b){return window.sessionStorage.setItem(a,b)}function s(a){return window.sessionStorage.removeItem(a)}function t(){}var a,b,c=!1;try{a="localStorage"in window&&window.localStorage!==null,b="sessionStorage"in window&&window.sessionStorage!==null,c=!0}catch(d){a=!1,b=!1,c=!1}try{if(document.documentElement.addBehavior){c=!1,a=!0;var e=document.createElement("div");document.body.appendChild(e),e.style.display="none",e.addBehavior("#default#userData"),e.load("phoenix");var f=e.xmlDocument,g=f.documentElement;function i(a){var b=g.childNodes,c,d=null;for(var e=0,f=b.length;e<f;e++){c=b.item(e);if(c.getAttribute("key")==a){d=c;break}}return d}function j(a){var b=i(a),c=null;return b&&(c=b.getAttribute("value")),c}function k(a,b){var c=i(a);return c?c.setAttribute("value",b):(c=f.createNode(1,"item",""),c.setAttribute("key",a),c.setAttribute("value",b),g.appendChild(c)),e.save("phoenix"),b}function l(a){var b=i(a);b&&g.removeChild(b),e.save("phoenix")}function m(){while(g.firstChild)g.removeChild(g.firstChild);e.save("phoenix")}}}catch(d){a=!1}var u=t,v=t,w=t,x=t;a&&(u=c?o:k,v=c?n:j,w=c?p:l,x=c?p:m),twttr.klass("twttr.cache.LocalProvider",function(a){twttr.cache.Simple.call(this),this._namespace=a,this._cache=JSON.parse(v(a)||"{}"),twttr.cache.LocalProvider._caches.push(this)}).subclassOf(twttr.cache.Simple).statics({hasLocalStorage:a,_caches:[],clearAll:function(){twttr.each(this._caches,function(a){a.clear()}),this._caches=[]}}).methods({_writeThrough:function(){try{return u(this._namespace,JSON.stringify(this._cache)),!0}catch(a){return!1}}})}(),twttr.klass("twttr.cache.local.User",function(a){this.name=a,this.cache=new twttr.cache.LocalProvider(":USER:"),this.user=this.cache.get(a)||this.cache.set(a,{login:(new Date).getTime(),store:{}}),this.clean()}).methods({_getTime:function(){return(new Date).getTime()},clean:function(){this.user.login=(new Date).getTime();var a=0,b=(new Date).getTime(),c=null;for(var d in this.cache._cache){a++;var e=this.cache._cache[d],f=e.value.login;f<b&&(b=f,c=d)}a>3&&this.cache.remove(c)},remove:function(a){delete this.user.store[a],this.save()},get:function(a){var b=this.user.store[a];if(!twttr.is.def(b))return undefined;var c=this._getTime();return b.expire&&b.expire<c?undefined:b.value},set:function(a,b,c){var d={value:b,expire:twttr.is.number(c)?this._getTime()+c:null};return this.user.store[a]=d,this.save(),b},update:function(a,b,c){var d=twttr.is.def(this.user.store[a])?c:this.user.store[a].expire;return this.set(a,b,d),b},save:function(){this.cache.set(this.name,this.user)}}),a({Simple:twttr.cache.Simple,LocalProvider:twttr.cache.LocalProvider,User:twttr.cache.local.User,caches:twttr.caches})})}),provide("singletons/namespaced_store",function(a){using().as(function(b){twttr.klass("twttr.cache.NamespacedStore",function(a){if(this.cache_key===null)throw"You need to set a cache key to use a NamespacedStore.";this.cache=new twttr.cache.LocalProvider(a)}).methods({ttl:6e4,cache_key:null,clear:function(){this.cache.remove(this.cache_key)},getData:function(){var a=this.cache.get(this.cache_key);try{return JSON.parse(a)}catch(b){return null}},setData:function(a){this.cache.set(this.cache_key,JSON.stringify(a),this.ttl)}}),a(twttr.cache.NamespacedStore)})}),provide("singletons/promoted_account_store",function(a){using().as(function(b){twttr.klass("twttr.promotedAccountStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_accounts"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:6e4,cache_key:"promoted_account",getAccount:function(){return this.getData()},hasAccount:function(){return!!this.getAccount()},setAccount:function(a,b){var c={id:a,impressionId:b};this.setData(c)}}),twttr.promotedAccountStore=new twttr.promotedAccountStoreSingleton,a(twttr.promotedAccountStore)})}),provide("singletons/promoted_tweet_store",function(a){using("libwrap/jquery").as(function(b,$){var c="h";twttr.klass("twttr.promotedTweetStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_tweets"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:18e5,cache_key:"promoted_tweet",clear:function(){this.constructor.uber.clear.apply(this,arguments),$.cookie(c,null)},getTweetInfo:function(){if(!twttr.decider.isAvailable("ptw_reinjection"))return null;var a=this.getData();return a&&a.data&&a.data.promoted_status?(this.clear(),null):a},hasTweetInfo:function(){return twttr.decider.isAvailable("ptw_reinjection")?!!this.getTweetInfo():!1},setTweetInfo:function(a,b,d){if(!twttr.decider.isAvailable("ptw_reinjection"))return;var e=[b.id_str,a,d?"po":"pr"].join(","),f=new Date;f.setTime(f.getTime()+this.ttl);var b={olderTweetId:a,data:b};this.setData(b),$.cookie(c,e,{expires:f})}}),twttr.promotedTweetStore=new twttr.promotedTweetStoreSingleton,a(twttr.promotedTweetStore)})}),provide("decider",function(a){using("util").as(function(b){twttr.klass("twttr.Decider",function(a,b){a=a||{},this._updateFeatures(a),b=b||this.constructor.DEFAULT_REFRESH_INTERVAL,setInterval(twttr.bind(this,this.updateFeatures),b)}).statics({DECIDER_URL:"/account/available_features",DEFAULT_REFRESH_INTERVAL:18e4}).methods(twttr.EventProvider).methods({features:function(){return this._features||{}},isActivityEnabled:function(){return this.isAvailable("activity_read")&&this.isAvailable("activity_dark_read")},isExpando:function(){return twttr.expando||twttr.isT1},isInfiniteScroll:function(){return this.isAvailable("infinite_scroll")&&!($.browser.msie&&parseInt($.browser.version,10)<8)},hasInlineReplies:function(){return twttr.decider.isAvailable("inline_reply_box")||twttr.abdecider.choose("inline_reply_box_197")==="reply_box"},isAvailable:function(a){return twttr.deciderOverrides&&twttr.deciderOverrides[a]!==undefined?!!twttr.deciderOverrides[a]:twttr.is.fn(a)?a():this._features?!!this._features[a]:!1},featureUrl:function(a){var b=a&&a.spoof_country;return b?this.constructor.DECIDER_URL+"?spoof_country="+b:this.constructor.DECIDER_URL},updateFeatures:function(){var a=twttr.API._requestCache.get("account/available_features",{});a?this._updateFeatures(a):this._makeRemoteRequest()},_makeRemoteRequest:function(a){$.getJSON(this.featureUrl(b.util.params()),twttr.bind(this,function(b){b&&this._updateFeatures(b),a&&a()}))},_updateFeatures:function(a,c){var d=this._features||{};this._features=a;if(c)return;var e=b.util.diff(d,this._features);for(var f in e){var g={key:f,previous:e[f][0],current:e[f][1]};this.trigger("keyChanged",g)}},goodAtCss:function(){return $.support.boxModel&&!($.browser.msie&&parseFloat($.browser.version)<=6)}}),twttr.decider=new twttr.Decider,signal(">decider"),a(twttr.decider)})}),provide("multiGlobals/scribble",function(a){using("constants").as(function(b){twttr.klass("twttr.ScribeBuffer",function(){if(twttr.ScribeBuffer.instance)throw"This is a singleton, yo";twttr.ScribeBuffer.instance=this,this.ajax=$.ajax,this.reset();try{var a=sessionStorage.getItem("ScribeTransport");if(a){var b=this;twttr.each(JSON.parse("["+a+"]"),function(a){b.addData(a)}),sessionStorage.removeItem("ScribeTransport")}}catch(c){}}).methods({getBuffer:"",postBuffer:[],maxLength:null,reset:function(){this.getBuffer="",this.postBuffer=[];var a="q="+(+(new Date)).toString().slice(-4);this.path="/scribe",this.url=this.path+"?"+a,window.location.hostname.match(/^(www\.|[A-Z]{2}\.|^)twitter.com$/i)&&(this.url=window.location.protocol+"//"+b.constants.scribeHostName+this.url),this.maxLength=(twttr.decider.isAvailable("use_scribe_post")?twttr.scribeBufferSize||10:1)*b.constants.maxUrlLength-this.url.length},_isEmpty:function(){return this.getBuffer.length===0&&this.postBuffer.length===0},send:function(a){if(this._isEmpty())return;twttr.decider.isAvailable("use_scribe_post")?this.ajax({url:this.path,data:{log:this.postBuffer},type:"POST",async:!a}):(new Image).src=this.url+this.getBuffer,this.reset()},getPostBufferForForm:function(){var a=this.postBuffer;return this.reset(),JSON.stringify(a)},sendReliabilityEvent:function(a){this.ajax({url:this.path,data:{reliability_event:"true"},type:"POST",success:a})},addData:function(a){var b=JSON.stringify(a),c=this._encodeStringifiedData(b);c.length>twttr.ScribeBuffer.instance.maxLength&&(a=this._truncateData(a),b=JSON.stringify(a),c=this._encodeStringifiedData(b)),this.url.length+this.getBuffer.length+c.length>this.maxLength&&this.send(),this.getBuffer+="&"+c,this.postBuffer.push(b);if(window.scribeConsole){var d=window.location.protocol+"//"+window.location.host;try{window.scribeConsole.postMessage(a,d)}catch(e){var f="unserializable scribe data ["+category+"]";window.scribeConsole.postMessage({error:f,event_data:JSON.stringify(a)},d)}}twttr.is.array(twttr.allScribeEvents)&&(twttr.allScribeEvents.push(b),localStorage.twttrAllScribeEvents=JSON.stringify(twttr.allScribeEvents));if($.cookie("phx_scribe_now")=="1"){var g=this;window.setTimeout(function(){g.send()},0)}},_encodeStringifiedData:function(a){return"log%5B%5D="+encodeURIComponent(a)},_truncateData:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&typeof a[c]!="object"&&(b[c]=a[c]);return b._truncated_for_scribe=!0,b}}),twttr.klass("twttr.Scribbler",function(a,c,d,e,f){this.expectedToHaveComponent=arguments.length>0,this.component=a||"",this.contextData=c||{},this.category=d||b.constants.defaultScribeCategory,this.eventPrefix=e||"",this.options=f||{}}).methods({DECIDERED_CATEGORIES:{client_event:1},spawn:function(a,b){var c=twttr.merge({},this.contextData,a||{});return new this.constructor(this.component,c,this.category,b||this.eventPrefix,this.options)},_contextData:function(){return twttr.merge({},this.contextData)},_mapAPIObjectData:function(a){var b={};for(var c in a)a[c]&&a[c].array&&twttr.is.array(a[c].array)?b[c]=a[c].array:b[c]=a[c];return b},_isCategoryAvailable:function(a){return!this.DECIDERED_CATEGORIES[a]||twttr.decider.isAvailable("scribe_"+a)},scribe:function(a,b,c,d){if(this.expectedToHaveComponent&&!this.component)return;if(!twttr.decider.isAvailable("phoenix_scribe")||!this._isCategoryAvailable(c||this.category))return;d=d||{},b=b||{},twttr&&!twttr.loggedIn&&(b.user_id=0),b.page=twttr.audit.currentPage(),b._category_=c||this.category,b.ts=(new Date).getTime();if(filter=d.filter||this.options.filter)b._filter_=d.filter;b=twttr.merge(this._contextData(),b);for(var e in b)twttr.is.fn(b[e])&&(b[e]=b[e].call(this.component,a,b,c));if(a){twttr.is.fn(this.eventPrefix)?a=this.eventPrefix.call(this.component,a):a=this.eventPrefix+a;var f=twttr.merge({event_name:a},b);twttr.ScribeBuffer.instance.addData(this._mapAPIObjectData(f))}}}),function(){twttr.ScribeBuffer.instance=new twttr.ScribeBuffer,twttr.Scribbler.global=new twttr.Scribbler,window.scribble=twttr.scribble=function(){return twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)},$(window).bind("unload",function(){twttr.ScribeBuffer.instance.send(!0)}),$(document).delegate("form","submit",function(){if(twttr.decider.isAvailable("scribe_form_piggyback")){var a=$(this).find("input[name='scribe_log']"),b=$(this).find("input[name='reliability_event']");a.length&&b.val()!="true"&&a.val(twttr.ScribeBuffer.instance.getPostBufferForForm())}}),$.browser.msie?document.onfocusout=function(){twttr.ScribeBuffer.instance.send()}:$(window).blur(function(){twttr.ScribeBuffer.instance.send()});var a=twttr.isPreflight||window.location.host.match(/^(localhost|staging)/gi);a&&window.postMessage&&$(document).keypress(function(a){if(a.charCode==205&&a.shiftKey&&a.altKey){var b="menubar=no,toolbar=no,personalbar=no,location=no,resizable=yes,status=no,dependent=yes,height=600,width=600,screenX=100,screenY=100,scrollbars=yes";window.scribeConsole=window.open("/scribe/console","scribe_console",b)}})}(),a()})}),provide("abdecider",function(a){using("util").as(function(b){twttr.klass("twttr.AbDecider",function(a,b){this._impressions={},this._updateExperiments(a||{}),b=b||this.constructor.DEFAULT_REFRESH_INTERVAL;if(b>0){var c=this;setTimeout(function(){setInterval(twttr.bind(c,c.updateExperiments),b)},b/2)}}).statics({ABDECIDER_URL:"/account/available_ab_buckets",LOG_EVENTS:!1,DEFAULT_REFRESH_INTERVAL:-1}).methods(twttr.EventProvider).methods({experiments:function(){return this._experiments||{}},choose:function(a,b){if(!this._experiments)return"";var c=this._experiments[a];if(!c||!c.bucket)return"";var d=c.bucket,e=c.experiment_key;return b||this._impressions[e]!=d&&(this._trackInternal(a),this._impressions[e]=d),d},chooseWithoutImpression:function(a){return this.choose(a,!0)},track:function(a,b,c){if(b==this.constructor.AB_IMPRESSION_EVENT)return;this._trackInternal(a,b,c)},updateExperiments:function(){$.getJSON(this.constructor.ABDECIDER_URL,twttr.bind(this,function(a){a&&this._updateExperiments(a)}))},_updateExperiments:function(a,c){var d=this._experiments||{};this._experiments=a;if(c)return;var e=b.util.diff(d,this._experiments,function(a,b){return!a||!b?!1:a.bucket===b.bucket&&a.version===b.version});for(var f in e){var g={key:f,previous:e[f][0],current:e[f][1]};this.trigger("keyChanged",g)}},set:function(a,b){if(!this._experiments||!this._experiments[a])return;this._experiments[a]=twttr.merge({},this._experiments[a],{bucket:b})},remove:function(a){this._experiments[a]=null},_trackInternal:function(a,b,c){if(!this._experiments)return;var d=this._experiments[a];if(!d)return;var e=twttr.merge(c||{},{bucket:d.bucket,experiment_key:d.experiment_key,version:d.version});this.constructor.LOG_EVENTS&&console.log(a+": "+(b||"impression"));if(b){var f=b.replace(/[^0-9A-Z]+/gi,"_").toLowerCase(),g="web:ddg:"+d.experiment_key+"::"+f+":track";scribble(g,e,"client_event")}else scribble("web:ddg:"+d.experiment_key+":::experiment",e,"client_event")}}),twttr.abdecider=new twttr.AbDecider,signal(">ab_decider"),a(twttr.abdecider)})}),provide("app",function(a){using("util").as(function(b){twttr.provide("twttr.app",twttr.merge({init:function(a){var b=this;this.signal("init"),this.$globalActions=$("#global-actions");var c=[">allCodeLoaded"];a&&c.push(">wokeUp"),using(c,function(){b._fullyLoaded=!0,b.signal("fullyLoaded")})},fullyLoaded:function(){return!!this._fullyLoaded},switchToPage:function(a){this.trigger("switchToPage",a.toLowerCase());if(this.currentPageName()!==a){var c=this.currentPage();this._currentPageName=a;var d=b.util.capitalize(b.util.camelize(a)),e=!1,f=this.pages[a];f||(f=this.pages[a]=new twttr.PagePromise(d),f.whenUnavailable(function(){twttr.app.switchToPage("404").send("notFound")}),f.bind("loginRequired",function(){twttr.ScribeBuffer.instance.send(),twttr.app.switchToPage("Login").send("loginRequired")}),f.bind("notFound",function(){twttr.app.switchToPage("404").send("notFound")}),f.build(),e=!0),c?(c.send("onSwitchAway"),c.$node.detach(),$("#page-container").empty().append(f.$node)):f.one("rendered",function(){$("#page-container").has(f.$node).length>0||$("#page-container").empty().append(f.$node)}),this.highlightGlobalNav(a),f.send("onSwitchTo"),e&&(f.send("onFirstSwitch"),f.send("shouldAutoRender",function(a){a&&f.send("render")})),!c&&window.ttft&&(window.ttft.firstPage=a)}else this.currentPage().send("initializeProfiler");return this.currentPage()},highlightGlobalNav:function(a,b){a=a.toLowerCase(),this.$globalActions.find("li.active[data-global-action]").removeClass("active"),a==="profile"&&b==undefined&&(b=twttr.helpers.isCurrentUser($("div.profile-header").attr("data-screen-name"))),a&&(a!=="profile"||b)&&this.$globalActions.find("li[data-global-action='"+a+"']").addClass("active")},currentPage:function(){return this.pages[this._currentPageName]},currentPageName:function(){return this._currentPageName},getPage:function(a){return this.pages[a]},isOnPage:function(a){return a===this.currentPageName()},recalculatePadding:function(){var a=$("div.js-banners").children().length<=1;a?this.resetPadding():this._resizeTopBar()},_resizeTopBar:function(){var a=20,b=twttr.isT1?$(".js-banners").height():$(".js-topbar").height()+a,c=$("#page-outer");c.css({"padding-top":b}),twttr.isT1&&$("#message-drawer").css({marginTop:b}),this._resizeDetailsPane()},_resizeDetailsPane:function(){var a=this.currentPage();a&&a.send("resizeDetailsPane")},_repositionDetailsPane:function(){var a=twttr.app.currentPage();a&&a.send("repositionDetailsPane")},resetPadding:function(){var a=$("#page-outer");a.css({"padding-top":""}),twttr.isT1&&$("#message-drawer").css({marginTop:""}),this._resizeDetailsPane()},addComponentToAppBody:function(a){a.bind("destroyed",function(){twttr.app.recalculatePadding(),twttr.app._repositionDetailsPane()}),$("#page-outer").prepend(a.$node)},pages:{},caches:{deletedTweets:new twttr.cache.LocalProvider("deleted_tweets"),dmThreads:new twttr.cache.LocalProvider("dm_threads"),draftTweets:new twttr.cache.LocalProvider("draft_tweets"),searchQuerySource:new twttr.cache.LocalProvider("__searchQuerySource__:source")}},twttr.EventProvider)),a(twttr.app)})}),provide("singletons/external_url_store",function(a){using().as(function(b){twttr.klass("twttr.externalURLStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["external_urls"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:36e5,cache_key:"external_url",minimumDuration:1e3,scribeFocusAfterClick:function(){if(!twttr.decider.isAvailable("eurl_dwell_time_store"))return;var a=this.getData();if(a){var b=this.currentTimeAsInt()-a.clickTime;if(b>this.minimumDuration){var c=twttr.merge(a.scribeData,{duration_ms:b});trackClient({action:"refocus"},c),this.clear()}}},setData:function(a,b){if(!twttr.decider.isAvailable("eurl_dwell_time_store"))return;if(this.isNotTwitterURL(a)){var c=twttr.merge(b.scribeData,{event_info:"external_link",url:a}),d={clickTime:this.currentTimeAsInt(),scribeData:c};this.constructor.uber.setData.apply(this,[d])}},isNotTwitterURL:function(a){var b=a.split("/");return b[0].indexOf("twitter.com")==-1&&b[2].indexOf("twitter.com")==-1},currentTimeAsInt:function(){return+(new Date)}}),twttr.externalURLStore=new twttr.externalURLStoreSingleton,twttr.app.waitForSignal("init",function(){twttr.externalURLStore.scribeFocusAfterClick()}),a(twttr.externalURLStore)})}),provide("singletons/Router",function(a){using().as(function(b){var c=/^\/*/,d=/\/*$/;twttr.klass("twttr.Router",function(){this._routes=[],this.routeMethodsForMustache={},this.routeMethods={},this.viewedPagesCount=0,this.pageViewsPerRefresh=50,this.routingEnabled=!0,this.swiftRoutes={}}).statics(twttr.EventProvider).statics({match:function(a,b){a=this.normalizePath(a),b=this.normalizePath(b);var c={};if(a===b)return c;if(a==="")return!1;var d=a.split("/"),e=b.split("/");if(d.length!==e.length)return!1;for(var f=0;f<d.length;f++)if(e[f].charAt(0)===":"){if(d[f].match(/^\s*$/))return!1;c[e[f].slice(1)]=decodeURIComponent(d[f])}else if(d[f]!==e[f])return!1;return c},generatePathFunction:function(a){var b=this;return function(c){var d=b.supplantPath(a,c);return d===!1&&!twttr.isTestEnv&&console.error("Failed to generate a path",a,c),d}},supplantPath:function(a,b){var c=a.split("#").join("/#").split("/"),d=[];for(var e=0;e<c.length;e++){var f=c[e],g=!1;f.charAt(0)==="#"&&(f=f.slice(1),g=!0);if(f.charAt(0)===":"){var i=f.slice(1);if(typeof b[i]=="undefined")return!1;f=b[i],typeof f=="function"&&(f=f.call(b)),f=encodeURIComponent(f)}g&&(f="#"+f),d.push(f)}return d.join("/").split("/#").join("#")},sanitizeRedirectUrl:function(a){var b=a,c=b.match(twttr.util.uriRegex),d=c[1];return d&&d.indexOf("javascript")>=0&&(b="http://twitter.com/"),b},performRedirect:function(a){window.location.assign(this.sanitizeRedirectUrl(a))},getWindowLocation:function(){return window.location},getCurrentPath:function(){var a=this.getWindowLocation(),b=a.href;if(a.hash===""&&b.indexOf("#")!==-1){var c=a.pathname.split("/");for(var d=0;d<c.length;d++)c[d]=encodeURIComponent(c[d]);b=a.origin+c.join("/")}return this.getPathFromHref(b)},getPathFromHref:function(a){var b=a.split("/").slice(2).join("/");b.indexOf("#")===-1&&(b+="#");var c=b.split("#"),d=c[0],e=c[1];d.indexOf("/")===-1&&(d+="/");var f=d.split("/").slice(1).join("/");return f.indexOf("?")>=0&&(f=f.slice(0,f.indexOf("?"))),e.indexOf("?")>=0&&(e=e.slice(0,e.indexOf("?"))),twttr.decider.isAvailable("swift_home_timeline")&&(f=f.replace(/^(i$|i\/)/,"")),"/"+f+"#"+e},getCurrentQueryStringParams:function(){return this.getQueryStringParamsFromHref(window.location.href)},getQueryStringParamsFromHref:function(a){var b=a.split("#"),c=b[0].split("?")[1]||"",d=(b[1]||"").split("?")[1]||"";return twttr.merge(this.parseQueryString(c),this.parseQueryString(d))},parseQueryString:function(a){var b=a.split("&"),c={};for(var d=0;d<b.length;d++)if(b[d]){var e=b[d].split("=");c[decodeURIComponent(e[0])]=e[1]?decodeURIComponent(e[1].replace(/\+/g,"%20")):!0}return c},getHashUpdate:function(a,b){var c=this.normalizePath(a),d=this.normalizePath(b);if(c===d)return!1;a=a.split("/#").join("#"),b=b.split("/#").join("#"),a.indexOf("#")===-1&&(a+="#"),b.indexOf("#")===-1&&(b+="#");var e=a.split("#"),f=b.split("#");return e[0]===f[0]?"#"+f[1]:e[1]===""&&f[1]===""?"#"+f[0].slice(a.length):"#"+d},normalizePath:function(a){if(twttr.griffin&&twttr.griffin.current)for(var b=0;b<twttr.griffin.current.length;b++)if(a.toLowerCase()=="/#"+twttr.griffin.current[b].toLowerCase())return a.toLowerCase();return this.trimSlashes(a.replace(/\/?#(!|%21)?\/?/g,"/"))},shouldRedirect:function(a,b){var c=b.split("#"),d=a.split("#");return this.trimSlashes(c[0])===this.trimSlashes(d[0])?!1:this.trimSlashes(c[1])===this.trimSlashes(d[0])?!1:!0},trimSlashes:function(a){return a?a.replace(c,"").replace(d,""):a},detectHistorySupport:function(){return!!window.history&&!!history.pushState}}).methods(twttr.EventProvider).methods({startRouting:function(){this._callCurrentRoutingAction(),this._listenToUrl()},route:function(a,b,c){var d=this._addRouteMethods(a,b);return this._routes.push({name:a,path:b,fn:c,method:d}),d},staticRoute:function(a,b){var c=this;this.route(a,b,function(){c.constructor.performRedirect(b)})},redirectRoute:function(a,b,c){var d=this;this.route(a,b,function(a,b){d.redirectTo(d.routeMethods[c](a,b))})},redirectTo:function(a){this.performRoute(a,!0)},routeTo:function(a){this.performRoute(a,!1)},performRoute:function(a,b){if(!this.routingEnabled)return;if(this.pageViewsPerRefresh<=this.viewedPagesCount)return this.constructor.performRedirect(a);this.viewedPagesCount++;if(!this._useHistory()&&this.constructor.shouldRedirect(this.constructor.getCurrentPath(),a))return this.constructor.performRedirect(a);this._changeUrlAndCallAction(a,b)},shouldRedirectTo:function(a){return this._useHistory()?!1:this.constructor.shouldRedirect(this.constructor.getCurrentPath(),a)},findMatchingRoute:function(a){for(var b=0;b<this._routes.length;b++){var c=this.constructor.match(a,this._routes[b].path);if(c)return{name:this._routes[b].name,fn:this._routes[b].fn,args:c,method:this._routes[b].method,path:this._routes[b].path}}return!1},getCurrentRoute:function(){return this.findMatchingRoute(this.constructor.getCurrentPath())},_setLocationHash:function(a){$.browser.safari&&!navigator.userAgent.match(/Chrome/)?window.location.href=window.location.href.split("#")[0]+a:window.location.hash=a},replaceHashWithoutRouting:function(a){this.ignoreNextHashChange=!0,window.location.hash=a},_changeUrlAndCallAction:function(a,b){if(!this.routingEnabled)return;var c=!1,d=!1,e=this.findMatchingRoute(a);this._useHistory()&&(b?window.history.replaceState(null,null,a):window.history.pushState(null,null,a),d=!0);var f=this.constructor.getHashUpdate(this.constructor.getCurrentPath(),a);if(twttr.decider.isAvailable("swift_home_timeline")&&a=="/"){window.location="/";return}f&&(b?window.location.replace(a):(this._setLocationHash(f),c=!0,d=!0)),c||this._callRoutingActionFor(e),this.trigger("routed",[e,a]),d&&this.trigger("urlChanged",[e])},_callRoutingActionForPath:function(a){var b=this.findMatchingRoute(a);return b&&this.trigger("routeFollowed",[b,a]),this._callRoutingActionFor(b)},_callCurrentRoutingAction:function(){return this._callRoutingActionForPath(this.constructor.getCurrentPath())},_callRoutingActionFor:function(a){if(!this.routingEnabled)return;if(!a){this.trigger("routeNotFound");return}return a.fn.call(null,a.args,this.constructor.getCurrentQueryStringParams())},lookupAndNormalizeRoute:function(a){var b=this.findMatchingRoute(a);return b?this.routeMethods[b.name](b.args):a},_addRouteMethods:function(a,b){var c=this.constructor.generatePathFunction(b),d=a+"Path";return this[d]=c,this.routeMethods[a]=c,this.trigger("routeAdded",[d,c]),c},_listenToUrl:function(){var a=this;$(window).hashchange(function(b){if(a.ignoreNextHashChange){a.ignoreNextHashChange=!1;return}a._callCurrentRoutingAction()}),this.constructor.detectHistorySupport()&&$(window).bind("popstate",function(b){a._useHistory()&&a._callCurrentRoutingAction()})},_useHistory:function(){return twttr.secrets&&twttr.secrets.html5Routing&&this.constructor.detectHistorySupport()},_current_path_and_hash:function(){return window.location.pathname+window.location.hash},_current_query_params:function(){return window.location.search},shouldRedirectToCanonicalUrl:function(a){var b=this.swiftRoutes[a.name];if(!b||!twttr.decider.isAvailable(b.decider))return!1;a.args.screen_name&&(a.args.screen_name=a.args.screen_name.replace(/^@/,""));var c=a.method(a.args),d=this._current_path_and_hash().split("?")[0];if(d!=="/"&&d!==c){var e=this._current_query_params();return c.toLowerCase().replace(/(?=#|$)/,function(){return e})}return!1}}),a(twttr.Router)})}),provide("streams/Stream",function(a){using("_","mixins/serverRenderableObject").as(function(b,_,c){twttr.stream=twttr.klass;var d=twttr.klass("twttr.streams.Stream",function(a,b,c){this.params=a||{},b=b||[],b instanceof twttr.API.util.BaseCollection&&(b=b.array),this.items=b,this.screenName=this.params.screenName,this.newItemsCount=this.items.length,this.itemViewClass=this.params.itemViewClass||this.itemViewClass,this.streamItemClass=this.params.streamItemClass||"stream-item",this.additionalStreamItemClass=this.params.additionalStreamItemClass||this.additionalStreamItemClass,this.oldItemsCount=0,this._page=1,this.focusedItemId=null,this.highlightedItemId=null,this.scribbler=this.params.scribbler||new twttr.Scribbler(!1),this.scribeComponentName="stream",this.ignoreScribeItemPosition=!0,this.streamManager=c,this.streamManagerDomNodeSelector=c?c.domNodeSelector:null,this.params._setHeader&&this.methods({_setHeader:a._setHeader});var d=twttr.views[this.streamViewClass];d||(twttr.development&&console.warn("Stream view class '"+this.streamViewClass+"' not found. Defaulting to twttr.views.Stream"),d=twttr.views.Stream),this.$node=this.$domNode(function(){return(new d({})).$html()}),twttr.isT1&&this.$node.attr("data-component-term",this.scribeComponentName)}).mixin(c).methods(twttr.EventProvider).methods({domNodeSelector:function(){if(!this.streamManagerDomNodeSelector)return null;var a=this._namespace.match(/\.([^.]+)$/)[1];return streamClass=twttr.util.underscore(a)+"-stream",this.streamManagerDomNodeSelector+" div."+streamClass},NEW_ITEMS_COUNT_MAX:100,NEW_ITEMS_COUNT_CUTOFF:40,_shouldCache:!0,_expandable:!0,streamViewClass:"Stream",itemViewClass:null,afterSwitchingToAgain:function(a){a?a():$.noop},afterFirstSwitchingTo:function(a){a?a():$.noop},beforeSwitchingAway:function(){},_setTitle:function(){},_getHeaderComponent:function(){},hasPromotedContent:function(){return!1},getMoreOldItems:function(a){var b=this;if(this._loadingMoreLock||this.noMoreOldItems||this._errorComponent)return;var c=this.page||this.cursor||this._sinceId;this.isLoadingMore(),using(twttr.bundleMore,function(){b._fetchItems(function(d,e){if(e!==twttr.streams.SUCCESS)b._showError(e);else{var f=b.items.slice(b.items.length-b.oldItemsCount);c&&c>0?b.onGotOldItems(f):b.onGotInitialResults(b.items),b._showOldItems(),b._page++}b.doneLoadingMore(),b.updateHeader(),a&&a(d,e),twttr.decider.isInfiniteScroll()&&b.showLoadingSpinner()})})},getCurrentlyFocusedItem:function(){return this.focusedItemId?this.$streamItems().find(this.itemSelector(this.focusedItemId)):null},getCurrentlyHighlightedItem:function(){return this.highlightedItemId?this.$streamItems().find(this.itemSelector(this.highlightedItemId)):null},getFirstItem:function(){return this.$streamItems().find("."+this.streamItemClass+":first")},focusItem:function(a){this.focusedItemId=a.attr("data-item-id"),a.focus()},unfocusItem:function(a){this.focusedItemId=null,a.blur()},highlightItem:function(a){var b=this.getCurrentlyHighlightedItem();b&&b.removeClass("hovered-stream-item").removeClass("js-had-hovered-stream-item"),this.focusedItemId=a.attr("data-item-id"),this.highlightedItemId=a.attr("data-item-id"),a.hasClass("open")?a.addClass("js-had-hovered-stream-item"):a.addClass("hovered-stream-item")},highlightNext:function(){this.shiftHighlight(!1)},highlightPrevious:function(){this.shiftHighlight(!0)},shiftHighlight:function(a){var b=this.getCurrentlyHighlightedItem();if(!b){this.highlightItem(this.getFirstItem());return}var c=a?b.prev():b.next();c.length&&(this.highlightItem(c),this.scrollStreamTo(c))},scrollStreamTo:function(a){var b=a.offset().top,c=Math.round(b-twttr.$win.height()/2);twttr.$win.scrollTop(c)},dom:function(){return this.$node},$streamItems:function(){return this.$find("div.stream-items")},$find:function(){var a=this.dom();return a.find.apply(a,arguments)},itemSelector:function(a){return"."+this.streamItemClass+"[data-item-id='"+a+"']"},selectedItem:function(a){return this.$streamItems().find(this.itemSelector(a))},unshift:function(a){twttr.is.array(a)?(this.newItemsCount+=a.length,this.items.unshift.apply(this.items,a)):(this.newItemsCount+=arguments.length,this.items.unshift(arguments)),this.trigger("newItemsCountChanged",[this.newItemsCount])},addAsNewItem:function(a){this.items.unshift(a),this.newItemsCount++,this.allowRerender(a)},push:function(a){twttr.is.array(a)?(this.oldItemsCount+=a.length,this.items.push.apply(this.items,a)):(this.oldItemsCount+=arguments.length,this.items.push(arguments))},splice:function(a,b){var c;twttr.is.array(b)?(c=[a,0].concat(b),this.items.splice.apply(this.items,c)):(c=Array.prototype.slice.call(arguments),c.splice(1,0,0),this.items.splice.apply(this.items,c))},markAsRendered:function(a){this.itemIds=this.itemIds||{};var b=this.streamItemId?this.streamItemId(a):a.id;this.itemIds[b]=1},isDuplicate:function(a){var b=this.streamItemId?this.streamItemId(a):a.id;return this.itemIds=this.itemIds||{},!!this.itemIds[b]},allowRerender:function(a){var b=this.streamItemId?this.streamItemId(a):a.id;this.itemIds=this.itemIds||{},delete this.itemIds[b]},_renderItemHtml:function(a){function j(){return e.render_withheld&&e.render_withheld()}var b=this.streamItemId?this.streamItemId(a):a.id;this.markAsRendered(a);var c;twttr.is.fn(this.itemViewClass)?c=this.itemViewClass(a):c=twttr.views[this.itemViewClass];var d=a;this.itemForRender&&twttr.is.fn(this.itemForRender)&&(d=this.itemForRender.call(this,a));var e=new c(d);e.query=this.params.query||e.query;var f=twttr.views.StreamItem;this.itemViewWrapperClass&&(f=twttr.views[this.itemViewWrapperClass]);var g=this.streamItemClass?[this.streamItemClass]:[];if(this.additionalStreamItemClass){var i=twttr.is.fn(this.additionalStreamItemClass)?this.additionalStreamItemClass(a):this.additionalStreamItemClass;g.push(i)}if(this._expandable&&twttr.decider.isExpando()&&!j()){g.push("expanding-stream-item");if(twttr.expando!==!0&&twttr.expando!=="expando")switch(twttr.expando){case"labels":g.push("yes-to-labels");break;case"more":g.push("more-not-open");break;case"colorful":g.push("colorful-links")}}return j()?g.push("withheld-item"):e.is_withheld&&e.is_withheld()&&e.is_current_user()&&g.push("withheld-own-item"),(new f({item_html:e.html(),item_id:b,item_type:this.streamItemType,item_class:g.join(" ")})).html()},_renderItemsHtml:function(a){var b=this,c=[];return $.each(a,function(a,d){b.isDuplicate(d)||c.push(b._renderItemHtml(d))}),c.join("")},_renderItems:function(a){return $(this._renderItemsHtml(a))},remove:function(a){this.selectedItem(a).remove()},rerenderItem:function(a,b){this.selectedItem(a).replaceWith(this._renderItemHtml(b))},_showNewItems:function(a){var b=this.$streamItems();this.beforeShowNewItems(),this.newItemsCount>this.NEW_ITEMS_COUNT_MAX&&(b.empty(),this.items=this.items.slice(0,this.NEW_ITEMS_COUNT_CUTOFF),this.newItemsCount=this.NEW_ITEMS_COUNT_CUTOFF);var c=this.items.slice(0,this.newItemsCount),d=this._renderItems(c);a=="initial"?this.onGotInitialResults(this.items):a!="initial"&&this.newItemsCount>0&&this.onGotNewItems(c),b.prepend(d),this.onShowNewItems(d),this.newItemsCount=0,this.trigger("newItemsCountChanged",[0])},_showOldItems:function(a){var b=this.$streamItems();this.beforeShowOldItems();var c=this.items.slice(this.items.length-this.oldItemsCount),d=this._renderItems(c);b.append(d),this.onShowOldItems(d),this.oldItemsCount=0},render:function(){this._showNewItems("initial"),this._showOldItems(!0)},isEmpty:function(){return this.items.length===0},reachedTheEnd:function(){this.noMoreOldItems||(this.noMoreOldItems=!0,this.markStreamEnd(),this.hideLoadingSpinner(),this.trigger("streamEnd"))},markStreamEnd:function(){var a=this;if(this._alreadyMarkedEnd)return;this._alreadyMarkedEnd=!0,using(twttr.bundleMore,function(){a.endOfStreamComponent=a.isEmpty()?a._getEmptyStreamComponent():a._getStreamEndComponent(),a.endOfStreamComponent&&a.endOfStreamComponent.$node.appendTo(a.$node)})},switchEndOfStreamMarker:function(){if(this.endOfStreamComponent){var a=this._getStreamEndComponent();a&&(this.endOfStreamComponent.$node.replaceWith(a.$node),this.endOfStreamComponent=a)}},_showError:function(a){var b=this;using(twttr.bundleMore,function(){b.hideLoadingSpinner(),b._errorComponent&&(b._errorComponent.destroy(),delete b._errorComponent);var c=b._getStreamErrorComponent(a);if(!c)return;c.bind("tryAgain",function(a){c.destroy(),delete b._errorComponent,b.getMoreOldItems()}),b._errorComponent=c,c.$node.appendTo(b.dom())})},_getStreamEndComponent:function(){return new twttr.components.StreamEnd(this._getStreamEndHtml(),this._getStreamEndShowBird())},_getEmptyStreamComponent:function(){return new twttr.components.StreamEnd(this._getEmptyStreamHtml())},_getStreamErrorComponent:function(a){return a===twttr.streams.DECIDER?new twttr.components.StreamEnd(this._getStreamErrorHtml(a)):new twttr.components.StreamWhaleEnd(this._getStreamWhaleText())},_getStreamLoadingComponent:function(){return new twttr.views.StreamLoading},_getStreamWhaleText:function(){return _("Loading seems to be taking a while.")},_getEmptyStreamHtml:function(){},_getStreamEndHtml:function(){return this.items.length<20?"":_("<a href='#' class='back-to-top'>Back to top &uarr;</a>")},_getStreamErrorHtml:function(a){return _("This feature is temporarily unavailable.")},_getStreamEndShowBird:function(){return!0},isLoadingMore:function(){this._loadingMoreLock=!0,this.showLoadingSpinner()},showLoadingSpinner:function(){var a=this.dom();a.find("div.stream-loading").length===0&&!this._alreadyMarkedEnd&&!this._errorComponent&&this._getStreamLoadingComponent().render(a,"append")},stream_user_is_current_user:function(){return twttr.currentUser&&this.screenName&&twttr.currentUser.screenName===this.screenName},doneLoadingMore:function(){this._loadingMoreLock=!1,this.hideLoadingSpinner(),this.trigger("doneLoadingMore")},hideLoadingSpinner:function(){this.dom().find("div.stream-loading").remove()},onGotInitialResults:function(a){this._scribeResults("initial",a)},onInsertItems:function(a){this._scribeResults("insert",a)},onGotNewItems:function(a){this._scribeResults("get_newer",a)},onGotOldItems:function(a){this._scribeResults("get_older",a)},_scribeResults:function(a,b,c){$.inArray(a,["initial","error","insert"])==-1&&this.scribbler.scribe({component:"stream",action:a},{item_count:b.length,cursor_or_page:this._cursorOrPage()})},_scribeEmptyResults:function(a,b,c){var d=this._cursorOrPage();if(a=="error"||a=="initial"&&!b.length){var e={item_count:0,event_value:0,referring_event:a};d&&(e.cursor_or_page=d),a=="error"&&c&&c.status_code&&(e.status_code=c.status_code),this.scribbler.scribe({component:"stream",action:a=="error"?"error":"no_results"},e)}else if(a!="initial"&&a!="insert"){var f={item_count:b.length};d&&(f.cursor_or_page=d),this.scribbler.scribe({component:"stream",action:a},f)}},_cursorOrPage:function(){return this._sinceId||this.cursor||this.page&&this.page>0&&this.page||this._page&&this._page>0&&this._page||-1},_registerAddToStreamEvent:function(a,b,c){var d=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d.addAsNewItem(a),d._showNewItems())})},_registerRemoveFromStreamEvent:function(a,b,c,d){var e=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d=d||"id",e.remove(a[d]),e.items=twttr.filter(e.items,function(b){return b[d]!==a[d]?b:null}),e.isEmpty()&&e.reachedTheEnd())})},_registerUpdateStreamEvent:function(a,b,c,d){var e=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d=d||"id",e.items=twttr.map(e.items,function(b){return b[d]===a[d]?a:b}),e.rerenderItem(a[d||"id"],a))})},_registerEvent:function(a,b,c){this._boundEvents||(this._boundEvents=[]),a.bind(b,c),this._boundEvents.push({obj:a,name:b,cb:c})},unbindEvents:function(){this._boundEvents&&(twttr.each(this._boundEvents,function(a){a.obj.unbind(a.name,a.cb)}),this._boundEvents=[])},beforeShowNewItems:function(){},beforeShowOldItems:function(){},onShowNewItems:function(a){},onShowOldItems:function(a){}});twttr.aug(twttr.streams,{SUCCESS:1,ERROR:2,PROTECTED:3,DECIDER:4,WHALE:5,TIMEOUT:6}),twttr.isT1?d.methods({_setHeader:null,_expandable:!1,updateHeader:function(){var a=this.streamManager&&this.streamManager.$headerContainer();if(!a)return;this._updateHeaderFromStream(a)},_updateHeaderFromStream:function(a){}}):d.methods({updateHeader:function(){this.header||(this.header=this._getHeaderComponent())&&this.$find("div.stream-items").prepend(this.header.$node.addClass("stream-header"))}}),a(twttr.streams.Stream)})}),provide("scribbles",function(a){using().as(function(b){twttr.augmentString("twttr.scribbles",{logViewProfileDetails:function(a){var b=$(this),c={},d=$(a.target),e="view-profile";d.is("img")?c.target="image":d.is("a")&&(c.target="link");if(b.is("div.dashboard .user-profile-link"))c.component="dashboard",b.is(".new-followers .user-profile-link")&&(c.subcomponent="new-followers");else if(b.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")){c.component="details-pane";if(b.is(".related-tweets .user-profile-link, .related-tweets .twitter-atreply")){var f=b.closest(".tweet");twttr.viewHelpers.addRelatedTweetsLogging(f,c,e)}}else b.is(".stream-tweet .user-profile-link, .stream-tweet .twitter-atreply")?c.component="stream":b.is(".twttr-dialog .user-profile-link")&&(c.component="dialog",c.dialog_type=b.closest(".twttr-dialog").attr("type"));c.input="click",c.tweet_id=b.closest(".tweet").attr("data-tweet-id")||"",c.profile_id=b.data("user-id")||b.data("screen-name")||b.closest(".js-profile-popup-actionable").data("user-id"),scribble(e,c)}}),a(twttr.scribbles)})}),provide("Cards",function(a){using("util","constants").as(function(b){var c=function(a){return twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"cards.photos.length")&&!!a.cards.photos.length},d=function(a){var b=0,c;if(a.has_embedded_player!==undefined)return a.has_embedded_player;if(twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"cards.players.length")&&!!a.cards.players.length){c=a.cards.players.length;for(;b<c;b++)a.cards.players[b].players=twttr.filter(a.cards.players[b].players,function(a){return a&&a.source_type=="text/html"});return a.has_embedded_player=!!c,a.has_embedded_player}return!1},e=function(a){return twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"cards.summaries.length")&&!!a.cards.summaries.length},f=function(a){return twttr.decider.isAvailable("platform_enable_cards")&&twttr.exists(a,"entities.media.length")&&!!a.entities.media.length},g=function(a){return d(a)||e(a)||c(a)},i=twttr.klass("twttr.Cards").methods({hasPhotos:c,hasPlayers:d,hasSummaries:e,hasCards:g,hasCardPhotoEntities:f});a(i)})}),provide("multiGlobals/client_app_tracking",function(a){using("util","constants").as(function(b){(function(){twttr.Scribbler.clientAppDefaultTerms=function(){var a={client:"web"},c=twttr.audit.currentPage();c&&(a.page=b.util.underscore(c));var d=twttr.audit.currentAction();return d&&(a.section=b.util.underscore(d)),a},twttr.Scribbler.clientAppEventNameGenerator=function(a,b){return b=b||twttr.Scribbler.clientAppDefaultTerms(),a=twttr.merge(b,a),[a.client,a.page,a.section,a.component,a.element,a.action].join(":")},twttr.Scribbler.clientEvent=new twttr.Scribbler({},{noob_level:function(){var a=twttr.loggedIn?twttr.helpers.userNoobLevel(twttr.currentUser):-1;return a>=0?a:null},internal_referer:function(){return twttr.audit&&twttr.audit.path(1)||null},referring_event:function(a){if(twttr.isT1&&a){if(twttr.is.object(a)&&a["action"]=="impression")return twttr.clicks.lastClick();if(twttr.is.string(a)){var b=a.split(":");if(b[b.length-1]=="impression")return twttr.clicks.lastClick()}}}},"client_event",twttr.Scribbler.clientAppEventNameGenerator),twttr.Scribbler.getElementEventNameTerms=function(a){var b=$(a),c=b.closest("[data-element-term]"),d=b.closest("[data-component-term]"),e=b.closest("[data-section-term]"),f=c.attr("data-element-term");componentTerm=d.attr("data-component-term"),sectionTerm=e.attr("data-section-term");var g={};if(componentTerm&&f)g.component=componentTerm+"_"+f;else if(componentTerm||f)g.component=componentTerm||f;return sectionTerm&&(g.section=sectionTerm),g},twttr.Scribbler.clientEvent.spawnWithTerms=function(a,b){var c=function(b){var c=twttr.Scribbler.clientAppDefaultTerms();return scribeTerms=twttr.merge({},b,a),twttr.Scribbler.clientAppEventNameGenerator(scribeTerms,c)},d=this.spawn(b,c);return d.spawnWithTerms=this.spawnWithTerms,d},window.trackClient=twttr.trackClient=function(a,b){return arguments[1]&&typeof arguments[1]=="string"&&(arguments[1]={context:arguments[1]}),twttr.Scribbler.clientEvent.scribe.apply(twttr.Scribbler.clientEvent,arguments)},window.trackElement=twttr.trackElement=function(a,b,c){typeof b=="string"&&(b={action:b});var d=twttr.merge(twttr.Scribbler.getElementEventNameTerms(a),b);d.component&&trackClient(d,c)},window._scribble=function(){twttr.decider.isAvailable("old_webclient_events")&&twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)}})(),twttr.app.waitForSignal("init",function(){twttr.isT1?twttr.app.bind("streamSwitchedTo",function(a,b){var c={},d=b.pageNameUnderscore;b.addImpressionData&&b.addImpressionData(c),trackClient({action:"impression"},c)}):($("#logo").click(function(){trackClient({section:"top_nav",component:"logo",action:"click"})}),$("#global-actions li a").click(function(){var a=$(this).parent().attr("data-global-action");trackClient({section:"top_nav",component:a+"_nav",action:"click"})})),$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(){trackClient({section:"top_nav",component:"new_tweet_button",action:"click"})}),twttr.decider.isAvailable("scribe_general_reliability_events")&&window.setTimeout(function(){twttr.ScribeBuffer.instance.sendReliabilityEvent(function(){trackClient({page:"scribe",section:"reliability",component:"client",action:"impression"})})},3e4)}),a()})}),provide("mixins/streamablePageDetailsPane",function(a){using("_","util").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.streamablePageDetailsPane",function(){return this.click({".stream span.js-actions, .stream ul.js-actions":function(a,b){return a.stopPropagation(),a.preventDefault(),!1},"div.details-pane div.stream-item":function(a,b){if($(a.target).is(".twitter-timeline-link"))return;var c=b.find(".tweet"),d=c.attr("data-tweet-id"),e={component:"details-pane"};b.is(".related-tweets .stream-item")?twttr.viewHelpers.addRelatedTweetsLogging(c,e,"tweet-click"):b.is(".in-reply-to .stream-item")&&(e.subcomponent="in-reply-to"),e.embedded_media_types=c.find(".icons .media").map(function(a,b){var c=$(b);return[c.data("media-type"),c.data("media-class")]}).get();var f=c.attr("data-impression-id");this.loadItemInDetailsPane(d,"tweet",{log:e,push:!0,impressionId:f})},"div.details-pane .user-detailed-list-item .user-screen-name":function(a,b){var c=parseInt(b.attr("data-user-id"),10);return this.loadItemInDetailsPane(c,"user",{push:!0}),a.stopPropagation(),a.preventDefault(),!1},".stream-tabs .stream-tab > a, .stream-tabs .dropdown-link .stream-link > a":function(a,b){var c=b.parent(),d=b.attr("href");if(d!="#"){var e=twttr.router.findMatchingRoute(d);if(e&&e.fn.pageName&&e.fn.actionName){var f=twttr.util.underscore(e.fn.actionName),g=twttr.util.underscore(e.fn.pageName);trackClient({page:g,section:f,component:"stream_nav_tab",action:"click"})}}else if(!c.hasClass("stream-tab-lists")&&c.closest(".stream-tab-lists").length){var i=twttr.audit.currentPage()=="home"?"list_in_home":"lists";trackClient({section:i,component:"stream_nav_tab",action:"create"})}},".stream .stream-item":function(a,b){$eventTarget=$(a.target);var c=$eventTarget.is("div.stream-item a.tweet-timestamp, div.stream-item a.tweet-timestamp *"),d=$eventTarget.is("div.stream-item a.twitter-timeline-link"),e=$eventTarget.is("div.stream-user-buttons *"),f=$eventTarget.parents("div.stream-item").is("div.feedback-shown"),g=$eventTarget.is('div.stream-item a.twitter-timeline-link[data-twitter-media-url="true"]'),i=$eventTarget.is("div.withheld-item *"),j=b.is(".js-activity")&&!b.is(".js-activity-retweet, .js-activity-favorite, .js-activity-reply, .js-activity-mention");if(c||d&&!g||e||f||j||i)return;this.toggleFocus(b),twttr.decider.isAvailable("turkey_prevent_timeline_click")&&g&&a.preventDefault()},".stream-item-activity .user-content-medium":function(a,b){var c=b.parents(".stream-item"),d=b.closest(".sub-stream-item"),e=c.hasClass("focused-stream-item")&&d.hasClass("expand-activity-item")&&this.panes.size()<=1;return e||(d.siblings().removeClass("expand-activity-item"),d.addClass("expand-activity-item"),c.removeClass("focused-stream-item")),this.toggleFocus(c),!1},".stream .user-profile-link, .stream .twitter-atreply, div.details-pane .user-profile-link, div.details-pane .twitter-atreply":function(a,b){var c=twttr.helpers.getUserIdentifier(b),d={},e={component:"stream"};d.log=e,b.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")&&(d.push=!0,e.component="details-pane");var f=b.closest(".promoted-tweet").attr("data-impression-id")||b.closest(".promoted-account").attr("data-impression-id");b.is("div.details-pane .user-profile-link, .stream .user-profile-link")&&(d.impressionId=f),twttr.app.isOnPage("search")&&b.is(".stream .user-profile-link, .stream .twitter-atreply")&&(d.searchClick=b.closest(".stream-tweet")),twttr.scribbles.logViewProfileDetails.call(b,a);var g=b.is("div.withheld-item *");return g||this.loadItemInDetailsPane(c,"user",d),a.stopPropagation(),a.preventDefault(),!1},".stream .twitter-hashtag":function(a,b){a.stopPropagation()},".stream .twitter-place, div.details-pane .twitter-place":function(a,b){var c=b.closest(".tweet").attr("data-tweet-id"),d={placeId:b.attr("data-place-id")};return b.is("div.details-pane .js-tweets-at-this-place")&&(d.push=!0),this.loadItemInDetailsPane(c,"tweet_geo",d),!1},".stream .twitter-listname":function(a,b){return twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute($this.attr("href"))),a.stopPropagation(),a.preventDefault(),!1},".js-tweet-geo-text, div.details-pane .js-tweets-at-this-place":function(a,b){var c=b.attr("data-tweet-id"),d={placeId:b.attr("data-place-id")};return b.is("div.details-pane .js-tweets-at-this-place, div.details-pane .tweet-geo-text")&&(d.push=!0),this.loadItemInDetailsPane(c,"tweet_geo",d),a.stopPropagation(),a.preventDefault(),!1},".pane-toolbar a.pane-close":function(a,b){return this.unfocusStreamItem(),a.stopPropagation(),a.preventDefault(),!1},".pane-toolbar a.pane-back":function(a,b){return this.panes.pop(),a.stopPropagation(),a.preventDefault(),!1}}).focus({".stream span.js-actions, .stream ul.js-actions":function(a,b){return a.stopPropagation(),!1}}).methods({toggleFocus:function(a){a.hasClass("focused-stream-item")&&this.panes.size()<=1?(this.streamManager.getCurrent().unfocusItem(a),this.unfocusStreamItem()):(this.streamManager.getCurrent().focusItem(a),this.focusStreamItem(a))},focusStreamItem:function(a){a.addClass("focused-stream-item").siblings().removeClass("focused-stream-item").removeClass("light");var b,c,d=a.attr("data-item-type"),e={};d==="list"||d==="message_thread"||d==="tweet"?b=a.attr("data-item-id"):d==="activity"?(a.is(".js-activity-reply, .js-activity-mention")?c=a.find(".stream-item-content"):a.is(".js-activity-retweet, .js-activity-favorite")?(c=a.find(".activity-truncated-tweet .tweet"),c.length||(c=a.find(".sub-stream-item:not('.sub-stream-item-hidden') .stream-item-content"))):c=a.find(".expand-activity-item .stream-item-content"),c.is(".tweet")?(d="tweet",b=c.attr("data-item-id")):c.is(".user-content-medium")&&(d="user",b=parseInt(c.attr("data-user-id"),10)),e.streamType="activity-stream",e.itemType=d,e.activityType=a.find(".stream-item-activity").attr("data-activity-type"),e.activityId=b):b=parseInt(a.attr("data-item-id"),10),e.stream=this.streamManager.getCurrent().constructor._name,e.component="stream",e.page_number=this.streamManager.getCurrent()._page;var f=a.find(".tweet").attr("data-impression-id")||a.find(".user-content-medium").attr("data-impression-id");d==="tweet"&&(e.embedded_media_types=a.find(".icons .media").map(function(a,b){return[[b.getAttribute("data-media-type"),b.getAttribute("data-media-class")]]}).get()),a.addClass("focused-stream-item").siblings().removeClass("focused-stream-item"),this.loadItemInDetailsPane(b,d,{log:e,impressionId:f,searchClick:twttr.app.isOnPage("search")&&a.is(".stream .stream-item")?a.children(".stream-tweet"):null});var g=this.streamManager&&this.streamManager.getCurrent();if(g){var i=d=="user"?"select.user":"select.tweet";g.trigger(i,[a,a,"select"])}},unfocusStreamItem:function(){var a=this.$detailsPane().hasClass("opened");if(this.closeDetailsPane()!==!1){var b=this.$node.find("div.focused-stream-item");this.$node.find("div.stream-item").removeClass("focused-stream-item");if(a){var c=this.streamManager&&this.streamManager.getCurrent();if(c){var d=b.attr("data-item-type")=="user"?"deselect.user":"deselect.tweet";c.trigger(d,[b,b,"deselect"])}}}},loadItemInDetailsPane:function(a,b,c){this.yScroll=twttr.$win.scrollTop();if(!b)return;var d=this,e={},c=c||{};c.log&&twttr.merge(e,c.log),b==="tweet"?(this.loadTweetInDetailsPane(a,c),this.openDetailsPane()):b==="user"?(this.loadUserInDetailsPane(a,c),this.openDetailsPane()):b==="tweet_geo"?(this.loadTweetGeoInDetailsPane(a,c),this.openDetailsPane()):b==="list"?twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute(a)):b==="message_thread"&&(this.loadMessageThreadInDetailsPane(a,c),this.resizeDetailsPane()),c.searchClick&&twttr.components.pages.Search.addSearchClickLogging(c.searchClick,e),e.details_type=b,e.item_id=a,e.input="click",scribble("load-details-pane",e),$("div.tipsy").remove()},viewId:function(a,b,c){return a+b+(c?"_"+c:"")},loadTweetInDetailsPane:function(a,b){var c=this,d=b.impressionId,e=this.viewId("tweet_pane_",a,d),f=new twttr.views.DetailsPane(e),g=this.panes.cached(e),i=b.push?this.panes.push(f):this.panes.reset(f),j=i.$dom;g?j.find(".map_canvas:visible").trigger("refreshMap"):(this.$find(".pane-components-inner").addClass("tweet-components"),using(twttr.bundleMore,function(){twttr.API.Status.find(a,function(a){i._backLabel=_("@{{screen_name}}'s Tweet",{screen_name:a.user.screenName}),d&&(a=twttr.API.util.PromotedStore.getPromotedStatusInstance(a,d),twttr.API.util.PromotedContent.logShowDetails(d));var b=c.streamManager.getCurrent();new twttr.components.Conversation(a,b,function(d){d.bind("deleted",function(){c.panes.contains(i)&&(c.panes.remove(i),c.panes.reset(),c.closeDetailsPane())});var e=[],f=j.find(".component:visible:first"),g=j.width();f.length!==0&&(g=f.width()),g-=55;var k=new twttr.components.Media(a,g);e.push(d,new twttr.components.TweetGeoSmall(a),new twttr.components.MachineTranslatedTweet(a)),twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_social_context")?(e.push(new twttr.components.TweetActivity(a)),e.push(new twttr.components.Replies(a,b,d.resultGroups))):(e.push(new twttr.components.Replies(a,b,d.resultGroups)),e.push(new twttr.components.Retweeters(a,10))),e.push(new twttr.components.MentionedInTweet(a)),c.addComponentsToDetailsPane(j,e),k.$node.appendTo(j.find("div.js-tweet-media-container"))})})}))},loadUserInDetailsPane:function(a,b){var c=twttr.is.string(a)?"user_pane_by_screen_name_":"user_pane_by_id_",d=this,e=b.impressionId,f=this.viewId(c,a,e),g=new twttr.views.DetailsPane(f),i=this.panes.cached(f),j=b.push?this.panes.push(g):this.panes.reset(g),k=j.$dom;i||(twttr.ui.toggleSpinner(k,!0),using(twttr.bundleMore,function(){twttr.API.User.find(a,{success:function(a){twttr.ui.toggleSpinner(k),twttr.app.trigger("view_profile_pane",a),j._backLabel=_("@{{screen_name}}'s profile",{screen_name:a.screenName}),e&&(a=twttr.API.util.PromotedStore.getPromotedUserInstance(a,e)),d.addComponentsToDetailsPane(k,[new twttr.components.ProfilePane(a),new twttr.components.UserMedia(a,{itemWidth:48,itemHeight:48,itemDisplayWidth:50,width:320,noSpacer:!0}),new twttr.components.RecentTweets(a)])},error:function(a){d.addComponentsToDetailsPane(k,[new twttr.components.NoUserExists])}})}))},loadTweetGeoInDetailsPane:function(a,b){var c=this,d=this.viewId("tweet_geo_pane_",a,b.placeId),e=new twttr.views.DetailsPane(d),f=this.panes.cached(d),g=b.push?this.panes.push(e):this.panes.reset(e),i=g.$dom;f?i.find(".map_canvas:visible").trigger("refreshMap"):using(twttr.bundleMore,function(){twttr.API.Status.find(a,function(a){var d=b.placeId||(a.place?a.place.id:null);g._backLabel=_("@{{screen_name}}'s Tweet location",{screen_name:a.user.screenName});var e=function(b){var e=[new twttr.components.TweetGeoBig(a,d)];b&&e.push(new twttr.components.PlaceTweets(b)),c.addComponentsToDetailsPane(i,e)};d?a.place&&a.place.id==d?e(a.place):twttr.API.Place.find(d,{success:function(a){e(a.data())},error:function(){e()}}):e()})})},loadMessageThreadInDetailsPane:function(a,b){if(!twttr.loggedIn)throw"Something went wrong. You're not supposed to be able to load a message pane while logged out...";var c=this,d=this.viewId("message_thread_pane_",a),e=new twttr.views.DetailsPane(d,{closable:!1}),f=c.panes.cached(d),g=c.panes.reset(e),i=g.$dom;using(twttr.bundleMore,function(){twttr.messageManager.getThread(a,function(b){var d=twttr.decider.isAvailable("phoenix_use_conversation_endpoint")?twttr.components.ConversationThread:twttr.components.MessageThread,e=new d(b);g._backLabel=_("Conversation with {{screen_name}}",{screen_name:b.threadId});if(!f){var j=new twttr.components.SendMessageBox(a,522);j.bind("sentMessage",function(a,b){twttr.messageManager.addMessage(b)}),j.$node.appendTo(i.find(".pane-toolbar"))}c.addComponentsToDetailsPane(i,[e])})})},$detailsPane:function(){return this.$find(".details-pane")},openDetailsPane:function(){if(this._detailsPaneDisabled())return!1;var a=this.$detailsPane();a.hasClass("opened")||(a.show(),this._slideDetailsPaneTo(this.$mainContent.width()-10),this.$dashboard.hide(),a.addClass("opened")),this.repositionDetailsPane(),this.resizeDetailsPane()},_slideDetailsPaneTo:function(a,b){this.$detailsPane()[Modernizr.csstransitions?"animateWithCss":"animate"](twttr.i18n&&twttr.i18n.rtl?{right:a}:{left:a},250,Modernizr.csstransitions?"ease-out":"linear",b)},closeDetailsPane:function(){if(this.isDPLocked===!0)return this.isDPLocked=!1,!1;if(this._detailsPaneDisabled())return!1;var a=this.$detailsPane();a.hasClass("opened")&&(this.panes.top().hide(),this.$dashboard.show(),this._slideDetailsPaneTo(10,function(){$(this).hide()}),a.removeClass("opened"),scribble("close-details-pane",{input:"click",current_tweet_id:this.streamManager.getCurrent().focusedItemId}))},resizeDetailsPane:function(){var a=this.$detailsPane();$pageOuter=$("#page-outer"),pagePaddingTop=parseInt($pageOuter.css("padding-top"),10);if(a.length>0){var b=$("#page-container"),c=$("#page-container").width(),d=this.$mainContent?this.$mainContent.width():0,e=c-d,f=twttr.$win.height()-pagePaddingTop,g=f-a[0].offsetTop-8;this.$mainContent&&this.$mainContent.css("min-height",f),a.height(g),a.width(e),a.find(".pane-components").height(g-a.find(".inner-pane.active .pane-toolbar").outerHeight())}},repositionDetailsPane:function(){if(!twttr.decider.goodAtCss()||!this.$detailsPaneOuter)return;if(this.windowHasHorizontalScroll()){var a=twttr.$win.scrollTop();this.$detailsPaneOuter.addClass("tracking-vertically"),this.$detailsPaneOuter.css({"margin-top":a,top:0})}else{var b=this.getTopPositionForDetailsPane();this.$detailsPaneOuter.removeClass("tracking-vertically"),this.$detailsPaneOuter.css({"margin-top":null,top:b})}},getTopPositionForDetailsPane:function(){var a=twttr.$win.scrollTop(),b=parseInt($("#page-outer").css("padding-top"),10),c=$("#page-container").position().top-a;return c<b&&(c=b),c},windowHasHorizontalScroll:function(){return twttr.$win.width()<1e3},addComponentToDetailsPane:function(a,b,c){c=c||"append",a.find(".pane-components-inner")[c](b.$node)},addComponentsToDetailsPane:function(a,b){for(var c=0;c<b.length;c++)this.addComponentToDetailsPane(a,b[c])}}).addAfterRender(function(){this.$dashboard=this.$find(".dashboard"),this.$mainContent=this.$find("div.main-content"),this.$detailsPaneOuter=this.$find("#details-pane-outer"),this.resizeDetailsPane(),this.streamManager||(this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node),this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(a,b){this.hasNewItems(b)})),this.streamManager.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),this.streamManager.bind("switchTo",twttr.bind(this,function(a){this.closeDetailsPane()})),twttr.decider.isExpando()&&this.streamManager.bind("doneLoadingMore",twttr.bind(this,function(a){this.$find(".expanding-stream-item").removeClass("expanding-stream-item")}))),this.streamManager.preRendered||this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node),this.panes=new twttr.ViewStack(this.$detailsPane(),"append"),this.trigger("streamManagerReady")}).addOnSwitchTo(function(){twttr.decider.isExpando()&&($("#page-container").removeClass("expando-container"),$("#page-outer").removeClass("flush-to-top"));var a=twttr.audit.trail()[1];a&&a.page.match(/userMedia/)&&(this.isDPLocked=!0,this.yScroll&&twttr.$win.scrollTop(this.yScroll)),this.resizeDetailsPane()}),this});a(c)})}),provide("mixins/streamablePageDropdownEdition",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.streamablePageDropdownEdition",function(a){var b=$("html, body"),c=8,d=700,e=50,f=30,g=436,i=75,j=105,k=40,l=20,m=40;twttr.decider.isAvailable("platform_enable_cards")&&(d=375);var n={toggle:function(a,b){a.is(".js-original-tweet")&&(b.topLevelExpansion=!0,!b.autoExpanded&&b.containerClass===".expanding-stream-item"&&(b.fullExpansion=!0));var c=n.expandTweetDom(a,b.containerClass),d=0;return c.$target.hasClass("animating")?0:(c.$target.data("dropdown.showing")?(n.close(c,b),n.scribeClose(c,b.currentStream),d=-1):b.forceClose||(c.$target.data("dropdown.loaded")?n.open(c,b):(n.load(c,b),b.autoExpanded&&setTimeout(function(){c.$target.next().addClass("after-expanded")},0)),d=1,n.scribeLoad(c,b.currentStream)),b.topLevelExpansion?d:0)},expandTweetDom:function(a,b){var c=b?a.closest(b):a;return{$target:c,$tweet:a,$expansion:a.parent(),$ancestors:c.find("div.js-tweet-ancestors"),$replies:c.find("div.js-conversation-replies")}},open:function(a,b){a.$target.data("dropdown.showing",!0).addClass("animating"),n.enterExpandedState(a.$target,b),n.showHideContent(!1,n.expandTweetDom(a.$tweet,b.containerClass),b),a.$tweet.trigger("expanded.tweet")},close:function(a,b){a.$target.data("dropdown.showing",!1).addClass("animating"),n.exitExpandedState(a.$target,b),n.showHideContent(!0,a,b,function(){a.$target.find(".opened-tweet").each(function(){n.toggle($(this),{noAnimation:!0,currentStream:b.currentStream})}),a.$tweet.trigger("collapsed.tweet")})},enterExpandedState:function(a,b){a.addClass("open").filter(".js-stream-item").animate({marginTop:a.index()===0?0:c,marginBottom:c},{duration:b.noAnimation?0:i,queue:!1}).prev().addClass("before-expanded").end().next().addClass("after-expanded"),a.hasClass("hovered-stream-item")&&a.removeClass("hovered-stream-item").addClass("js-had-hovered-stream-item")},exitExpandedState:function(a,b){a.removeClass("open").filter(".js-stream-item").animate({marginTop:0,marginBottom:0},{duration:b.noAnimation?0:i,queue:!1,complete:function(){a.prev().removeClass("before-expanded").end().next().removeClass("after-expanded"),a.hasClass("js-had-hovered-stream-item")&&a.removeClass("js-had-hovered-stream-item").addClass("hovered-stream-item")}})},simpleShowHideContent:function(a,b){var c=b.children().height();b.animate({height:a?0:c},{duration:n.guessGoodSpeed(c)})},showHideContent:function(a,d,f,g){d.$target.addClass("animating"),!a&&d.$tweet.addClass("opened-tweet");var i=d.$expansion.data("height")||0,j=d.$ancestors.height()||d.$ancestors.data("height")||0,k=d.$tweet.innerHeight(),l=(d.$replies.height()||d.$replies.data("height")||0)+k,m=l-i,o=f.noAnimation?0:n.guessGoodSpeed(j,m),p=twttr.$win.scrollTop(),q=d.$target.offset().top-c,r=p+e-q;a||d.$expansion.height(i),d.$expansion.animate({height:a?i:l},{duration:o,step:function(c){var e=c-i,g=e/m;d.$ancestors.height(j*g),r>0&&a&&!f.noAnimation&&b.scrollTop(p-r*(1-g))},complete:function(){n.resetEmbeddedContent(d,a),d.$target.removeClass("animating"),a&&d.$tweet.removeClass("opened-tweet"),d.$expansion.height("auto"),d.$ancestors.height("auto"),g&&g();var b=d.$tweet.data("inline-tweetbox");f.focusOnReply&&b&&!a&&b.focus()}})},guessGoodSpeed:function(){var a=Math.max.apply(Math,arguments);return Math.round(.35*Math.log(a)*j)},load:function(a,b){a.$target.addClass("animating").data("dropdown.loaded",!0),b.tweet?using(twttr.bundleMore,function(){n.loadWithTweet(a,b,b.tweet)}):twttr.API.Status.find(a.$tweet.attr("data-tweet-id"),function(c){n.loadWithTweet(a,b,c)})},loadWithTweet:function(a,b,c){(new twttr.views.TweetDetails(c)).render(a.$target.find("div.js-tweet-details-dropdown"),"append");var d=a.$tweet.find("div.js-tweet-media-container");a.$expansion=n.wrapComponents(a,a.$tweet.outerHeight());var e;twttr.exists(c,"entities.media.length")&&!!c.entities.media.length?e=n.sumEntityMediaEmbedHeights(c.entities.media):twttr.Cards.prototype.hasCards(c)?e=n.sumCardMediaHeights(c.cards):e=n.sumMediaEmbedHeights(a.$tweet.find("a.twitter-timeline-link")),e>0?d.css("min-height",Math.ceil(e)):d.hide(),n.open(a,b),o.media(c,d),o.translation(c,a.$target.find("div.js-machine-translated-tweet-container"));var f=b.fullExpansion?7:6;o.socialProof(c,a.$target.find("div.js-tweet-stats-container"),f),o.geo(c,a.$target.find("div.js-tiny-geo"));if(b.fullExpansion&&!b.autoExpanded){o.conversation(c,a,b);var g=a.$tweet.attr("data-impression-id");g&&(c=twttr.API.util.PromotedStore.getPromotedStatusInstance(c,g),twttr.API.util.PromotedContent.logShowDetails(g))}},sumCardMediaHeights:function(a){var b,c=0;return a.photos&&(b=a.photos[0])?b.images&&b.images.web&&(c=b.images.web.height):a.players&&(b=a.players[0])?b.players&&b.players.length&&b.players[0].height&&(c=b.players[0].height):a.summaries&&(b=a.summaries[0])&&(b.images&&b.images.web?c=b.images.web.height:c=k),c&&(c+=k),b.author_user_id_str&&(c+=l),b.site_user_id_str&&(c+=m),c},sumEntityMediaEmbedHeights:function(a){return twttr.reduce(a,0,function(a,b,c){var e,i;c.type==="photo"?(e=c.sizes.medium.h,width=c.sizes.medium.w):(e=c.thumbnails[0].height,width=c.thumbnails[0].width),width&&width>g&&(e=g*(e/width));var j=e?Math.min(e,d)+f:75;return a+j})},sumMediaEmbedHeights:function(a){return twttr.reduce(a,0,function(a,b,c){var e=$(c),i=e.data("media-type");if(i){var j=e.data("media-h")||i.height,k=e.data("media-w");k&&k>g&&(j=g*(j/k));var l=j?Math.min(j,d)+f:75;return a+l}return a+0})},wrapComponents:function(a,b){var c=$("<div/>",{"class":"expansion-container js-expansion-container",height:b,data:{height:b}});return a.$tweet.wrap(c),a.$target.find("div.js-expansion-container")},resetEmbeddedContent:function(a,b){var c=a.$target.find("*[has-playable-media='true'] div.tweet-media");c.length&&(b?c.height(c.height()).empty():c.filter(":empty").trigger("showMedia")),b&&twttr.decider.isAvailable("platform_enable_cards")&&a.$target.find(".cards-base.cards-multimedia iframe").each(function(a,b){var c=b.src;b.src="",b.src=c})},scribeLoad:function(a,b){var c=a.$tweet.find("span.js-icon-container .media").map(function(a,b){return[[b.getAttribute("data-media-type"),b.getAttribute("data-media-class")]]}).get();scribble("load-details-pane",{component:"stream",details_type:"tweet",item_id:a.$target.attr("data-item-id"),stream:b.constructor._name,page_number:b._page,embedded_media_types:c}),b.trigger("select.tweet",[a.$target,a.$target,"select"])},scribeClose:function(a,b){scribble("close-details-pane",{input:"click",current_tweet_id:b.focusedItemId}),b.trigger("deselect.tweet",[a.$target,a.$target,"deselect"])}},o={media:function(a,b){using("components/Media",function(c){if(!b.is(":empty"))return;(new c(a,g,{afterRender:function(a){var c=a.icon();(c==="video"||c==="song")&&b.attr("has-playable-media",!0).show()},whenNotDisplayed:function(a){b.css("min-height",0).show()}})).$node.appendTo(b)})},translation:function(a,b){using("components/MachineTranslationBackend",function(c){if(!b.is(":empty"))return;(new twttr.components.MachineTranslatedTweet(a)).$node.appendTo(b)})},conversation:function(a,b,c){using("components/Conversation","components/Replies",function(d,e){var f;new d(a,null,function(d){new e(a,null,d.resultGroups,function(){if(b.$expansion.find(".js-conversation-replies").length)return;var a=$("<div class='replies js-conversation-replies'></div>").height(0).appendTo(b.$expansion);this.$node.appendTo(a),f=new twttr.components.InlineReplyBox(b.$tweet,a,this.$node,421)});if(b.$tweet.data("is-reply-to")&&b.$target.find(".js-tweet-ancestors").length===0){b.$target.addClass("animating");var g=d.$node.find(".js-tweet-ancestors");g.attr("data-component-term","conversation"),g.height(0).prependTo(b.$target)}setTimeout(function(){var a=n.expandTweetDom(b.$tweet,c.containerClass),d=!c.noAnimation&&b.$target.data("dropdown.showing");p(a.$ancestors,d),p(a.$replies,d,function(){f&&(b.$tweet.data("inline-tweetbox",f),c.focusOnReply&&f.focus())})},0)})})},socialProof:function(a,b,c){using("components/TweetStats","components/Retweeters",function(d,e){var f=$.trim(b.html())=="";if(!f)return;var g=twttr.loggedIn&&twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_status_summary")?d:e;(new g(a,c,function(){b.show()})).$node.appendTo(b)})},geo:function(a,b){using("components/TweetGeoSmall",function(c){if(!b.is(":empty"))return;(new c(a)).$node.appendTo(b)})}},p=function(a,b,c){if(!a.length)return;var d=a.children().height();a.data("height",d),b?a.animate({height:d},n.guessGoodSpeed(d),function(){a.parent().removeClass("animating"),a.height("auto"),c&&c()}):a.height("auto")};return a.mixin(twttr.mixins.profilePopupActionable).keypress({l:function(){this.closeAllTweets()}}).click({"div.js-tiny-geo .map_canvas":function(a,b){a.stopPropagation()},".js-activity-tweet":function(a,b){this.handleExpandoClick(a,b,".supplement")},".expanding-stream-item .js-original-tweet":function(a,b){this.handleExpandoClick(a,b,".expanding-stream-item")},".expanding-stream-item .js-expando-link":function(a,b){this.simpleShowHide(b)},".js-tweet-ancestors .js-stream-tweet, .js-conversation-replies .js-stream-tweet":function(a,b){this.handleExpandoClick(a,b)}}).methods({closeAllTweets:function(){var a=twttr.$win.scrollTop(),c=this.firstVisibleItemBelow(a);if(c){var d=c.offset().top,e=this;this.$find("div.open.expanding-stream-item div.js-original-tweet").each(function(){e.showHide($(this),{containerClass:".expanding-stream-item",noAnimation:!0})}),this.$find("div.open.expanding-stream-item div.js-expando-link").each(function(){e.simpleShowHide($(this))});var f=c.offset().top;b.scrollTop(a-(d-f))}},firstVisibleItemBelow:function(a){var b;return this.$find(".js-stream-item").each(function(){var c=$(this);if(c.offset().top>=a)return b=c,!1}),b},handleExpandoClick:function(a,b,c,d){d=d||{};var e=$(a.target).is(".js-open-close-tweet, .js-open-close-tweet *");$(a.target).hasClass("action-reply-container")&&(d.focusOnReply=!0);if(e||!this.shouldPreventClickFrom($(a.target))){var f=twttr.tco.getSelection();a.preventDefault(),a.stopPropagation();if(e||f.isCollapsed||f.htmlText===""){d.containerClass=c,this.showHide(b,d);var g="tweet_anatomy_2_231";!b.is(".open")&&twttr.isT1&&twttr.abdecider.choose(g)&&($(a.target).is(".open-tweet")?twttr.abdecider.track(g,"open-tweet-open-label"):$(a.target).is(".view-open")?twttr.abdecider.track(g,"open-tweet-view-label"):twttr.abdecider.track(g,"open-tweet-whitespace"))}}},shouldPreventClickFrom:function(a){var b=a.is("a, a *, button, button *")&&!a.is(".js-details *"),c=a.is("embed,object");return b||c},getTweetFromItems:function(a,b){var c,d=b&&b.items;if(d)for(var e=0,f=d.length;e<f;e++)if(a===d[e].id){c=d[e];break}return c},simpleShowHide:function(a){var b=".expanding-stream-item",c=a.closest(b),d={},e=a.closest(".stream-item").find(".js-expando-control-expanded"),f=e.hasClass("show");f?(this.updateExpandoControl(!0,e),n.exitExpandedState(c,d),n.simpleShowHideContent(!0,c.find("div.js-expando-content")),a.trigger("simpleExpandoContract"),this.openCount+=-1):(this.updateExpandoControl(!1,e),n.enterExpandedState(c,d),n.simpleShowHideContent(!1,c.find("div.js-expando-content")),a.trigger("simpleExpandoExpand"),this.openCount+=1),this.showHideCloseAllButton()},showHide:function(a,b){b=b||{},b.currentStream=this.streamManager.getCurrent(),b.tweet=this.getTweetFromItems(a.attr("data-tweet-id"),b.currentStream),this.openCount+=n.toggle(a,b),this.showHideCloseAllButton()},toggleFocus:function(a){this.showHide(a.find(".js-original-tweet"),{containerClass:".expanding-stream-item"})},showHideCloseAllButton:function(){this.$closer&&(this.openCount>0?this.$closer.fadeIn("fast"):this.$closer.fadeOut("fast"))},updateExpandoControl:function(a,b){var c=b.closest(".stream-item");c.find(".js-expando-control-expanded").removeClass(a?"show":"hide").addClass(a?"hide":"show"),c.find(".js-expando-control-unexpanded").removeClass(a?"hide":"show").addClass(a?"show":"hide")},resetCloseAllButton:function(){this.$closer=$("a.js-close-all-tweets"),this.openCount=this.$find("div.open").length,this.openCount>0?this.$closer.show():this.$closer.hide()},dropdown:n,focusStreamItem:twttr.util.noopInT1,unfocusStreamItem:twttr.util.noopInT1,resizeDetailsPane:twttr.util.noopInT1,repositionDetailsPane:twttr.util.noopInT1}).addAfterRender(function(){this.$dashboard=this.$find("div.dashboard"),this.$mainContent=this.$find("div.main-content");var a=this;this.streamManager||(this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node),this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(a,b){this.hasNewItems(b)})),this.streamManager.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),this.streamManager.bind("switchTo didNotSwitch",twttr.bind(this,function(b){twttr.app.trigger("streamSwitchedTo",[this]),setTimeout(function(){a.resetCloseAllButton(),a.$find("div.tweet-media").trigger("showMedia")},0)}))),this.streamManager.preRendered||this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node),this.panes=[],this.$find(".stream-item").addClass("expanding-stream-item"),this.trigger("streamManagerReady")}).addOnSwitchAway(function(){this.$closer&&this.$closer.hide()})}),a()})}),provide("mixins/streamablePageWithInlineMedia",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.streamablePageWithInlineMedia",function(){this.methods({addInlineMediaIcons:function(a,b){using([twttr.bundleMore,"media/Iconifier"],function(){new twttr.media.Iconifier(a,b)})}})}),a(twttr.mixins.streamablePageWithInlineMedia)})}),provide("mixins/itemActionableScribing",function(a){using("util","constants").as(function(b){twttr.klass.mixin("twttr.mixins.itemActionableScribing",function(a){return a.methods({_tweetHasCard:function(a){return a.hasClass("has-cards")||a.find(".has-cards").length>0},_getDataFromTweet:function(a){var b={},c=a.find(".cards-base");return b.tweetHasCard=c.length>0,b.tweetHasCard&&(b.cardType=c.data("card-type"),b.cardUrl=c.data("card-url"),b.publisherUserId=this._getUserIdFromElement(c.find(".source .js-user-profile-link")),b.creatorUserId=this._getUserIdFromElement(c.find(".byline .js-user-profile-link"))),b},_getUserIdFromElement:function(a){return a.length?a.data("user-id"):null},_prepareCustomScribeData:function(a){var b={associations:{}};return b.associations[2]={association_id:a.publisherUserId,association_type:3},b.associations[3]={association_id:a.creatorUserId,association_type:3},b.message=a.cardUrl,{scribeData:b}},_registerTweetActionScribeListeners:function(){var a=this;this.bind("favorite.tweet unfavorite.tweet retweet.tweet unretweet.tweet delete.tweet reply.tweet dismiss.tweet not_relevant.tweet deselect.tweet permalink_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe(e,{event_info:e},f);if(e=="deselect"&&a._tweetHasCard(c)){var g=a._getDataFromTweet(c);a._itemScribe("hide",{event_info:"hide",element:"platform_"+g.cardType+"_card"},twttr.merge(f,a._prepareCustomScribeData(g)))}}),this.bind("select.tweet",function(b,c,d,e){var f=a._itemMetadata(c),g={event_info:e};if(d.find(".sm-image").length){var i=d.find("a[data-expanded-url]").attr("data-expanded-url");i&&(g.url=i)}a._itemScribe(e,g,f);if(a._tweetHasCard(c)){var g=a._getDataFromTweet(c);a._itemScribe("show",{event_info:"show",element:"platform_"+g.cardType+"_card"},twttr.merge(f,a._prepareCustomScribeData(g)))}}),this.bind("avatar_click.tweet screen_name_click.tweet promoted_badge_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.find("[data-user-id]").attr("data-user-id")||d.attr("data-user-id")||d.closest("[data-user-id]").attr("data-user-id"),a._itemScribe("profile_click",{event_info:e},f)}),this.bind("hashtag_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe("search",{event_info:"hashtag",query:d.text()},f)}),this.bind("mention_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe("mention_click",{event_info:"mention"},f)}),this.bind("external_link_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c),g=d.attr("data-expanded-url")||d.attr("href"),i={event_info:"external_link",url:g},j=d.closest(".has-cards").find(".cards-base").data("card-type");j!==null&&j!==undefined&&(i.element="platform_"+j+"_card"),a._itemScribe("open_link",i,f),twttr.externalURLStore.setData(g,f),twttr.abdecider.chooseWithoutImpression("long_tweet_urls_2_259")&&(d.attr("data-long_tweet_urls_2_259")?twttr.abdecider.track("long_tweet_urls_2_259","open_link_expanded"):twttr.abdecider.track("long_tweet_urls_2_259","open_link_short"))})},_registerUserActionScribeListeners:function(){var a=this;this.bind("follow.user unfollow.user follow.tweet",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.attr("data-user-id");var g={event_info:e};if(c.hasClass("has-cards")){var i=a._getDataFromTweet(c);g.element="platform_"+i.cardType+"_card",f=twttr.merge(f,a._prepareCustomScribeData(i))}a._itemScribe(e,g,f),c.attr("data-impression-id")&&trackClient({component:"promoted_user_recommendations",action:e})}),this.bind("select.user deselect.user dismiss.user reply.user block.user unblock.user add_to_list.user report_as_spam.user accept.user deny.user dm.user",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe(e,{event_info:e},f)}),this.bind("avatar_click.user screen_name_click.user promoted_badge_click.user",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.find("[data-user-id]").attr("data-user-id")||d.attr("data-user-id"),a._itemScribe("profile_click",{event_info:e},f),c.attr("data-impression-id")&&trackClient({component:"promoted_user_recommendations",action:"profile_click"})})},getScribbler:function(){if(this.scribbler)return this.scribbler;if(this.getStreamManager){var a=this.getStreamManager(),b=a&&a.getCurrent();if(b&&b.scribbler)return b.scribbler}return twttr.Scribbler.clientEvent},_getScribeComponentName:function(){return this.scribeComponentName?this.scribeComponentName:this.constructor&&this.constructor._name?b.util.underscore(this.constructor._name):""},_itemScribe:function(a,b,c){var d={component:this._getScribeComponentName(c.targetItem),action:a};b.element&&(d.element=b.element);if(c.targetObj){var e=twttr.Scribbler.getElementEventNameTerms(c.targetObj);e.component&&(d.component=e.component)}if(c.itemType&&c.itemId){var f={};f[c.itemId+""]=c.itemDetails,c.scribeData.item_details=f}this.getScribbler().scribe(d,twttr.merge(b,c.scribeData)),twttr.profileUser&&twttr.profileUser.verified&&twttr.app.currentPageName()=="profile"&&twttr.abdecider.track("replies_stripped_on_verified_profiles_222",a),this._itemDetailsScribe(a,c.itemType,c.itemObj)},_itemDetailsScribe:function(a,b,c){var d="tweet_anatomy_2_231";if(b==="tweet"&&twttr.isT1&&twttr.abdecider.choose(d)){if(a==="impression"){var e=c.attr("data-tweet-id"),f=window.__tweet_anatomy_2_231_impressionSink;f||(f=window.__tweet_anatomy_2_231_impressionSink=[]);if($.inArray(e,f)!==-1)return;f.unshift(e),f.length>5e3&&(f.length=5e3)}var g={hashtag:".twitter-hashtag",link:".twitter-timeline-link",username:".twitter-atreply",photo:".sm-image",video:".sm-video",audio:".sm-audio",geo:".sm-geo",convo:".sm-convo",embed:".sm-embed",summary:".sm-summary",retweet:".sm-rt",reply:".sm-reply",promoted:".badge-promoted"},i=c.find(g.promoted).length?"-promoted":"-organic";twttr.abdecider.track(d,a+i);for(var j in g)c.find(g[j]).length&&twttr.abdecider.track(d,a+i+"-has-"+j);$.each(c.find(".twitter-timeline-link"),function(b,c){var e=c.getAttribute("data-expanded-url")||c.href;e===c.getAttribute("data-ultimate-url")?twttr.abdecider.track(d,a+i+"-has-link-expanded"):twttr.abdecider.track(d,a+i+"-has-link-short")})}},_itemMetadata:function(a){var c=this._findOrCurrent(a,".js-actionable-tweet, .js-actionable-user"),d=this._closestOrCurrent(c,"[data-item-type]"),e=d.attr("data-item-type"),f={item_count:1},g={},i,j,k,l;$.inArray(e,["tweet","user","activity"])==-1&&(c.is(".js-actionable-tweet")?e="tweet":c.is(".js-actionable-user")&&(e="user"));if(d.length){switch(e){case"tweet":k=!!this._findOrCurrent(c,".top-tweet").length,j=this._findOrCurrent(c,"[data-impression-id]").attr("data-impression-id");var m=j?"promotedTweet":k?"popularTweet":"tweet";g.item_type=b.constants.clientEvent.itemType[m],i=this._findOrCurrent(c,"[data-tweet-id]").attr("data-tweet-id"),this.ignoreScribeItemPosition||(g.item_position=this._itemPosition(c,"tweet"));break;case"user":j=this._findOrCurrent(d,"[data-impression-id]").attr("data-impression-id");var n=d.attr("data-feedback-token"),m=j?"promotedUser":"user";g.item_type=b.constants.clientEvent.itemType[m],i=d.attr("data-item-id")||d.attr("data-user-id"),this.ignoreScribeItemPosition||(g.item_position=this._itemPosition(c,"user")),n&&(f.item_names=[n]);break;case"activity":var o=this._activityType(d);g.item_type=b.constants.clientEvent.itemType.activity,g.item_description=o;var p=d.attr("data-item-id");i=this._findOrCurrent(d,"div[data-activity-min-position]").attr("data-activity-min-position")||p.split("_")[0];var q=a.attr("data-tweet-id");q&&(g.target_id=q),f.item_names=[p];break;default:i=d.attr("data-item-id")}j&&(g.item_token=j),g.item_description&&!f.item_names&&(f.item_names=[g.item_description]),i&&(f.item_ids=[i])}return{scribeData:f,itemId:i,itemType:e,itemDetails:g,itemObj:d,targetObj:a,impressionId:j,popular:k}},_activityType:function(a){var b=this._findOrCurrent(a,".stream-item-activity").attr("data-activity-type"),c;return b||(a.is(".reply")?b="reply":a.is(".mention")&&(b="mention")),b},MAX_ITEM_POSITION:40,_itemPosition:function(a,b){var c=b=="tweet"?"div.js-actionable-tweet":"div.js-actionable-user, li.js-actionable-user",d=b=="tweet"?"data-tweet-id":"data-user-id",e=a.attr(d),f=[];return this.$node.find(c).each(function(a,b){f.push($(b).attr(d))}),$.inArray(e,twttr.util.arrayUniq(f).slice(0,this.MAX_ITEM_POSITION))},_findOrCurrent:function(a,b){return a.is(b)?a:a.find(b)},_closestOrCurrent:function(a,b){var c=a.is(b)?a:a.closest(b);return c.length?c:a}}),a}),a()})}),provide("mixins/streamablePage",function(a){using("_","util").as(function(b,_){twttr.klass.mixin("twttr.mixins.streamablePage",function(){this.addViewData(function(){var a={};return a["active_tab_"+this._activeTab]=1,a}).addOnSwitchAway(function(){this.streamManager&&this.streamManager.onSwitchAway()}).keydown({f:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionFavorite(b.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}},r:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionReply(b.getCurrentlyFocusedItem().find(".js-original-tweet"),"keyboard")}},t:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionRetweet(b.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}}}).keypress({k:function(a){this.streamManager.getCurrent().highlightPrevious(),a.preventDefault()},j:function(a){this.streamManager.getCurrent().highlightNext(),a.preventDefault()},"return":function(a){var b=this.streamManager.getCurrent(),c=this.$find('.stream-item[data-item-id="'+b.highlightedItemId+'"]');if(c.length===0)return;a.preventDefault(),this.toggleFocus(c)},period:function(a){twttr.$win.scrollTop(0);var b=this.streamManager.getCurrent();b.fetchTweets(twttr.bind(this,function(a){a.newItemsCount>0&&(a._showNewItems(),a.restartFetcher());var b=a.getFirstItem();a.highlightItem(b),a.scrollStreamTo(b),twttr.$win.scrollTop(0)})),twttr.components.JapaneseAd.refreshAds()}}).methods({getStreamManager:function(){return this.streamManager},focusStreamTab:function(a){var b;this.$node.find("ul.stream-tabs li.stream-tab, ul.stream-subtabs").removeClass("active"),a&&(b="ul.stream-tabs li.stream-tab-"+a+", ul.stream-subtabs-"+a,this.$node.find(b).addClass("active")),this._activeTab=a,scribble("subnav",{item:a})},focusStreamSubtab:function(a){var b;this.$node.find("ul.stream-subtabs li.stream-tab").removeClass("active"),a&&this.$node.find("ul.stream-subtabs li.stream-subtab-"+a).addClass("active"),this._activeSubtab=a,scribble("subsubnav",{item:a})},_detailsPaneDisabled:function(){return!twttr.decider.goodAtCss()||twttr.isT1}});var a={Messages:1,WhoToFollow:1,SimilarTo:1,WelcomeLearnFlow:1};return!twttr.decider.isExpando()||this._name in a?this.mixin(twttr.mixins.streamablePageDetailsPane):this.mixin(twttr.mixins.streamablePageDropdownEdition)}),a(twttr.mixins.streamablePage)})}),provide("mixins/userActionableT1",function(a){using().as(function(b){var c=twttr.klass.mixin("twttr.mixins.userActionableT1",function(){return this.methods({getActionableUser:function(a){return a.closest(".js-actionable-user")},getComboButton:function(a){return this.$node.find('.js-follow-combo[data-user-id="'+a+'"]')},getDropdownButton:function(a){return this.$node.find('.js-action-profilemenu[data-user-id="'+a+'"]')},getUserId:function(a){return twttr.helpers.getUserIdentifier(a)},getUserRelationship:function(a,b){var c=this,d=this.getActionableUser(a),e=+d.attr("data-user-id");if(d.data("user")){var f=d.data("user");this.getRelationship(f,b)}else twttr.API.User.find(e,function(a){d.data("user",a),c.getRelationship(a,b)})},getRelationship:function(a,b){if(!twttr.loggedIn){var c={notifications:!1,following:!1,followedBy:!1,blocking:!1,followRequestSent:!1,wantRetweets:!1,canDM:!1};b(c,{user:a,id:a.id,name:a.name,screen_name:a.screenName,notifications:c.notifications,following:c.following,followed_by:c.followedBy,blocking:c.blocking,follow_request_sent:a.followRequestSent,want_retweets:c.wantRetweets,can_dm:c.canDM,reported:!1});return}twttr.currentUser.relationshipWith(a,function(c){var d={user:a,id:a.id,name:a.name,screen_name:a.screenName,notifications:c.notifications,following:c.following,followed_by:c.followedBy,blocking:c.blocking,follow_request_sent:a.followRequestSent,want_retweets:c.wantRetweets,can_dm:c.canDM,reported:!1};b(c,d)})},showFollowOrUnfollow:function(a){var b=this;twttr.helpers.isCurrentUser(a)||b.getRelationship(a,function(a,c){c.followed_by&&b.$node.find(".js-follows-you").show()})},showMiniSocialProof:function(a){var b=this;twttr.currentUser&&!twttr.helpers.isCurrentUser(a)&&twttr.currentUser.followingFollowersOf(a.id,function(c){if(c.length()){var d=b.makeLongSocialContextHtml(a.screenName,c.toArray());b.$find(".js-mini-social-proof-container").html(d)}})},showUserProfileMenu:function(a){var b=this;$(document).trigger("click.button"),a.addClass("open"),a.closest(".js-stream-item").addClass("has-follow-dropdown-open"),$(document).bind("click.button",function(){b.hideUserProfileMenu(a)})},hideUserProfileMenu:function(a){a.removeClass("open"),a.closest(".js-stream-item").removeClass("has-follow-dropdown-open"),$(document).unbind("click.button")},toggleUserProfileMenu:function(a){var b=this,c=this.getActionableUser(a),d=+c.attr("data-user-id"),e=this.getDropdownButton(d);if(c.attr("data-dropdown")){c.hasClass("open")?this.hideUserProfileMenu(c):this.showUserProfileMenu(c);return}this.getUserRelationship(a,function(a,d){b.renderUserProfileMenu(c,e,d),b.showUserProfileMenu(c)})},renderUserProfileMenu:function(a,b,c){c.want_retweets&&a.addClass("including"),twttr.currentUser&&twttr.currentUser.deviceSetup&&c.notifications?a.addClass("notifying"):a.removeClass("notifying"),c.blocking&&a.addClass("blocked").removeClass("following not-following follow-request-sent"),c.can_dm&&a.addClass("can-dm"),(new twttr.views.ComboFollowButtonDropdown(c)).render(b,"append"),a.attr("data-dropdown",!0)},onUserActionFollowSync:function(a,b){var c=this.getComboButton(a);c.length?this.updateButtonFollow(c,b):this.updateFollowStateLink(a,!0,b)},onUserActionFollowSuccess:function(a,b,c){var d=this.getActionableUser(c);this.updateButtonFollow(d,b)},updateButtonFollow:function(a,b){b?a.removeClass("not-following").addClass("follow-request-sent"):a.removeClass("not-following").addClass("following including")},updateFollowStateLink:function(a,b,c){if(b)var d=c?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink;else var d=twttr.views.FollowLink;var e=this.$node.find('.js-follow-state .js-link[data-user-id="'+a+'"]');(new d({id:a})).render(e,"replaceWith")},onUserActionUnfollowSuccess:function(a,b){var c=this.getActionableUser(b);this.updateButtonUnfollow(c)},onUserActionUnfollowSync:function(a){var b=this.getComboButton(a);b.length?this.updateButtonUnfollow(b):this.updateFollowStateLink(a,!1)},updateButtonUnfollow:function(a){a.removeClass("following follow-request-sent").addClass("not-following")},updateUserAttributesFromRelationship:function(a){twttr.decider.isAvailable("profile_pane_fresh")&&$.extend(this.user.attributes,{following:a.following,blocking:a.blocking,notifications:a.notifications,can_dm:a.canDM,want_retweets:a.wantRetweets})},onUserActionFollowError:function(a,b){twttr.helpers.showErrorFromResponse(a,"follow")},onUserActionUnfollowError:function(a){twttr.helpers.showErrorFromResponse(a,"follow")},registerFollowAction:function(){var a=this;this.$node.delegate(".js-action-follow, .js-action-follow-request","click",function(b){var c=$(this),d=a.getActionableUser(c);return twttr.loggedIn&&(d.removeClass("not-following"),d.hasClass("protected")?d.addClass("follow-request-sent first-hover"):d.addClass("following including first-hover")),d.one("mouseleave",function(){d.removeClass("first-hover")}),a.userActionFollow(c),b.preventDefault(),b.stopPropagation(),!1})},registerUnfollowAction:function(){var a=this;this.$node.delegate(".js-action-unfollow","click",function(b){var c=a.getActionableUser($(this));return c.removeClass("following follow-request-sent").addClass("not-following"),a.userActionUnfollow($(this)),b.preventDefault(),b.stopPropagation(),!1})},registerProfileMenuAction:function(){var a=this;this.$node.delegate(".js-action-profilemenu","click",function(b){return a.toggleUserProfileMenu($(this)),b.preventDefault(),b.stopPropagation(),!1})},registerBlockAction:function(){var a=this;this.$node.delegate(".js-action-block","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="block";return a.markAsPending(c,f),c.addClass("blocked").removeClass("following not-following follow-request-sent"),twttr.API.User.find(d,function(b){var d="not-following";b.following?d="following":b.followRequestSent&&(d="follow-request-sent"),b.block({impression_id:e,complete:function(){a.markAsComplete(c,f)},timeout:function(a){a.retry()},success:function(b){a.trigger("block.user",[c,$(this),"block"]),c.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(){twttr.showError(_("Whoops! We weren't able to block that user. Try again in a minute")),c.removeClass("blocked").addClass(d)}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerUnblockAction:function(){var a=this;this.$node.delegate(".js-action-unblock","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="unblock";return a.markAsPending(c,f),c.removeClass("blocked").addClass("not-following"),twttr.API.User.find(d,function(b){b.unblock({impression_id:e,before:function(){$('.stream .stream-tweet[data-user-id="'+b.id+'"]').closest(".stream-item").show()},complete:function(){a.markAsComplete(c,f)},success:function(){a.trigger("unblock.user",[c,$(this),"unblock"]),c.removeClass("blocked").addClass("not-following")},error:function(){c.addClass("blocked").removeClass("not-following following follow-request-sent")}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerReportAction:function(){var a=this;this.$node.delegate(".js-action-spam","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="report";return a.markAsPending(c,f),c.addClass("blocked").removeClass("following not-following follow-request-sent"),twttr.API.User.find(d,function(b){var d="not-following";b.following?d="following":b.followRequestSent&&(d="follow-request-sent"),b.report({impression_id:e,before:function(){$('.stream .stream-tweet[data-user-id="'+b.id+'"]').closest(".stream-item").hide()},complete:function(){a.markAsComplete(c,f)},success:function(d){twttr.showMessage(_("You have reported {{screenName}} for spam",b)),a.trigger("report_as_spam.user",[c,$(this),"report_as_spam"]),c.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(a){twttr.errors.showErrorFromResponse(a,"report"),c.removeClass("blocked").addClass(d)}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerMentionAction:function(){var a=this;this.$node.delegate(".js-action-mention","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id");return twttr.API.User.find(d,function(b){(new twttr.widget.TweetDialog({template:{title:"Mention "+b.screenName},draggable:!0,defaultContent:"@"+b.screenName+" ",origin:"profile-actions-dropdown-mention"})).open().focus(),a.trigger("reply.user",[c,$(this),"reply"])}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerAddToListAction:function(){var a=this;this.$node.delegate(".js-action-add-to-list","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id");return twttr.API.User.find(d,function(b){(new twttr.widget.ListMembershipDialog(b)).open(),a.trigger("add_to_list.user",[c,$(this),"add_to_list"])}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerDeviceNotificationToggle:function(){var a,b,c,d=this;this.$node.delegate(".js-device-notifications","click",function(e){var f=d.getActionableUser($(this)),g=+f.attr("data-user-id"),i=f.hasClass("notifying"),j=i?"setNotificationsOff":"setNotificationsOn";return twttr.API.User.find(g,function(d){if(!twttr.currentUser.deviceSetup){!twttr.currentUser.deviceVerified&&(!twttr.currentUser.pushTweetsDecidered||!twttr.currentUser.pushDevice)?(a={title:_("Setup mobile notifications"),content:(new twttr.views.PhoneSetupPrompt({screen_name:d.screenName,ok:_("Set up phone"),cancel:_("Cancel")})).html()},b=twttr.router.devicesPath()):(a={title:_("Enable mobile notifications for Tweets"),content:(new twttr.views.PhoneTweetsOffPrompt({screen_name:d.screenName,ok:_("Enable Tweet notifications"),cancel:_("Close")})).html()},twttr.currentUser.pushDevice&&twttr.currentUser.pushTweetsDecidered?b=twttr.router.pushHelpPath():b=twttr.router.devicesPath()),(new twttr.widget.Prompt({modal:!0,callback:function(a){a&&(c=function(){twttr.router.routeTo(b)},twttr.API.User.bind("subscribe",c),d.setNotificationsOn())},template:a})).open();return}d[j](),i?f.removeClass("notifying"):f.addClass("notifying")}),e.preventDefault(),e.stopPropagation(),!1})},registerRetweetToggle:function(){var a=this;this.$node.delegate(".js-retweet-setting","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.hasClass("including"),f=e?"setWantRetweetsOff":"setWantRetweetsOn";return twttr.API.User.find(d,function(a){a[f](),e?(c.removeClass("including"),twttr.showMessage(_("Retweets from @{{screenName}} will no longer appear in your timeline",a))):(c.addClass("including"),twttr.showMessage(_("Retweets from @{{screenName}} will appear in your timeline",a)))}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerDirectMessageAction:function(){var a=this;this.$node.delegate(".js-direct-message-action","click",function(b){var c=$(this),d=a.getActionableUser(c),e=+d.attr("data-user-id");return twttr.API.User.find(e,function(b){twttr.dialogs.dmSingle({user:{screenName:b.screenName,user_id:e,name:b.attributes.name,profile_image_url:b.attributes.profile_image_url},origin:"user-actionable-direct-message"}).open(),a.trigger("dm.user",[d,c,"dm"])}),a.hideUserProfileMenu(d),b.preventDefault(),b.stopPropagation(),!1})},registerProfileAction:function(){var a=this;this.$node.delegate(".js-action-profile-avatar","click",function(b){var c=$(this);a.trigger("avatar_click.user",[a.getActionableUser(c),c,"avatar"])}),this.$node.delegate(".js-action-profile-name","click",function(b){var c=$(this);a.trigger("screen_name_click.user",[a.getActionableUser(c),c,"screen_name"])}),this.$node.delegate(".js-action-profile-promoted","click",function(b){var c=$(this);a.trigger("promoted_badge_click.user",[a.getActionableUser(c),c,"promoted_badge"])}),this.$node.delegate(".js-account-group, .js-mini-profile-user","click",function(b){var c=a.$node.find(".js-actionable-user"),d=+c.attr("data-user-id"),e=c.closest("[data-impression-id]").attr("data-impression-id");a._updateTwttrPromotedAccount(d,e)})},registerUserActionEvents:function(){var a=this;this.registerFollowAction(),this.registerUnfollowAction(),this.registerProfileAction(),this.registerPromotedUserActionEvents(),twttr.loggedIn&&(this.registerProfileMenuAction(),this.registerBlockAction(),this.registerUnblockAction(),this.registerReportAction(),this.registerMentionAction(),this.registerAddToListAction(),this.registerDeviceNotificationToggle(),this.registerRetweetToggle(),this.registerDirectMessageAction(),this._registerUserActionAPIListeners(),this._registerUserActionScribeListeners())}}),this});a(c)})}),provide("mixins/userActionable",function(a){using(twttr.isT1?"mixins/userActionableT1":[]).as(function(b){twttr.klass.mixin("twttr.mixins.userActionable",function(a){return a.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({userActionFollow:function(a,b){var c=this,d=twttr.helpers.getUserId(a),e=a.closest(".js-actionable-user, .js-actionable-tweet"),f=e.attr("data-impression-id")||e.closest("[data-impression-id]").attr("data-impression-id"),g="follow";this.markAsPending(e,g),twttr.API.User.find(d,function(i){var j=i["protected"]&&!i.following;twttr.loggedIn?(c._updateTwttrPromotedAccount(d,f),i.follow({complete:function(){c.markAsComplete(e,g)},success:function(f){b=b||(e.is(".js-actionable-tweet")?"follow.tweet":"follow.user"),c.trigger(b,[e,a,"follow"]);var g=e.closest(".js-stream-item").length;j&&!g&&twttr.showMessage(_("A follow request has been sent to {{user}}.",{user:i.name||i.screenName})),c.onUserActionFollowSuccess(d,j,a)},error:function(a){c.onUserActionFollowError(a,j)},impression_id:f})):twttr.dialogs.signinOrSignup({follow:i,justSignup:!0}).open()})},userActionUnfollow:function(a){var b=this,c=twttr.helpers.getUserId(a),d=a.closest(".js-actionable-user"),e=d.attr("data-impression-id")||d.closest("[data-impression-id]").attr("data-impression-id"),f="unfollow";this.markAsPending(d,f),twttr.API.User.find(c,function(g){g.unfollow({complete:function(){b.markAsComplete(d,f)},success:function(){b._updateTwttrPromotedAccount(c,e),b.trigger("unfollow.user",[d,a,"unfollow"]),b.onUserActionUnfollowSuccess(c,a)},error:function(a){b.onUserActionUnfollowError(a)},impression_id:e})})},userActionMenu:function(a){var b=this,c=twttr.helpers.getUserIdentifier(a);if(a.attr("data-opened"))return;a.attr("data-opened",!0),twttr.API.User.find(c,function(c){twttr.currentUser.relationshipWith(c,twttr.bind(this,function(d){var e={user:c,id:c.id,screen_name:c.screenName,notifications:d.notifications,following:d.following,followed_by:d.followedBy,blocking:d.blocking,follow_request_sent:c.followRequestSent,want_retweets:d.wantRetweets,reported:!1};b.userProfileActionsDropdown=b._getUserActionsDropdown(c,a,e),b.userProfileActionsDropdown.render(a,"after").open()}))})},onUserActionFollowSync:function(a,b){var c=this.$node.find(".js-action-follow[data-user-id='"+a+"']"),d;c.length&&(c.is(".js-button")?d=b?twttr.views.FollowRequestSentButton:twttr.views.UnfollowButton:c.is(".js-link")&&(d=b?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink),this._updateFollowState(a,c,d))},onUserActionUnfollowSync:function(a){var b=this.$node.find(".js-action-unfollow[data-user-id='"+a+"']"),c;b.length&&(b.is(".js-button")?c=twttr.views.FollowButton:b.is(".js-link")&&(c=twttr.views.FollowLink),this._updateFollowState(a,b,c))},_updateFollowState:function(a,b,c){c&&(new c({id:a})).render(b,"replaceWith")},_userLinkHtml:function(a){return(new twttr.views.UserLink(a)).html()},makeShortSocialContextHtml:function(a,b){var c="";return b.length==1?c+=_("Followed by {{{user}}}",{user:this._userLinkHtml(b[0])}):c+=_('Followed by {{{user}}} and <a href="{{url}}" class="pretty-link"><b>others</b></a>',{user:this._userLinkHtml(b[0]),url:twttr.router.followersYouFollowPath({screen_name:a})}),c},makeLongSocialContextHtml:function(a,b){var c="";switch(b.length){case 1:c+=_("Followed by {{{user}}}.",{user:this._userLinkHtml(b[0])});break;case 2:c+=_("Followed by {{{first}}} and {{{second}}}.",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1])});break;case 3:c+=_("Followed by {{{first}}}, {{{second}}} and {{{third}}}.",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2])});break;case 4:c+=_("Followed by {{{first}}}, {{{second}}}, {{{third}}} and {{{other}}}.",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2]),other:this._userLinkHtml(b[3])});break;default:c+=_('Followed by {{{first}}}, {{{second}}}, {{{third}}} and <a href="{{url}}" class="pretty-link"><b>{{count}} others</b></a>.',{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2]),count:b.length>13?"10+":b.length-3,url:twttr.router.followersYouFollowPath({screen_name:a})})}return c},makeSocialContextHtml:function(a,b){var c=this;if(a.socialContext)var d=a.socialContext,e=a.screenName;else var d=a.attributes.connections,e=a.user.screenName;var f="";return!this.screenName&&d&&d.length&&(b?f+=this.makeLongSocialContextHtml(e,d):f+=this.makeShortSocialContextHtml(e,d)),f},onUserActionFollowSuccess:function(a,b,c){},onUserActionFollowError:function(a,b){twttr.helpers.showErrorFromResponse(a,"follow")},onUserActionUnfollowSuccess:function(a,b){},onUserActionUnfollowError:function(a){twttr.helpers.showErrorFromResponse(a,"follow")},registerPromotedUserActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-dismiss","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logDismissUser(e),a.trigger("dismiss.user",[d,c,"dismiss"])}),this.$node.delegate(".js-actionable-user img.user-profile-link, .js-actionable-user .js-action-profile-avatar","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logProfileImageClick(e),a.trigger("avatar_click.user",[d,c,"avatar"])}),this.$node.delegate(".js-actionable-user .js-promoted-badge","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logFooterProfileClick(e),a.trigger("promoted_badge_click.user",[d,c,"promoted_badge"])}),this.$node.delegate(".js-actionable-user .user-name .user-profile-link, .js-actionable-user .js-action-profile-name","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logScreenNameClick(e),a.trigger("screen_name_click.user",[d,c,"screen_name"])})},registerUserActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-follow, .js-actionable-tweet .js-action-follow","click",function(b){return a.userActionFollow($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-unfollow","click",function(b){return a.userActionUnfollow($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-profilemenu","click",function(b){return a.userActionMenu($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.registerPromotedUserActionEvents(),this._registerUserActionAPIListeners(),this._registerUserActionScribeListeners()},_registerUserActionAPIListeners:function(){var a=this;twttr.API.User.bind("follow",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("following",!0),a.sync("followers_count",a.followersCount+1)}),a.onUserActionFollowSync(d)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following",!1),a.sync("followers_count",a.followersCount-1)}),a.onUserActionUnfollowSync(e)}}),twttr.API.User.bind("follow_request",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("follow_request_sent",!0)}),a.onUserActionFollowSync(d,!0)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following_request_sent",!1)}),a.onUserActionUnfollowSync(e)}}),twttr.API.User.bind("unfollow",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("following",!1),a["protected"]||a.sync("followers_count",a.followersCount-1)}),a.onUserActionUnfollowSync(d)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following",!0),a["protected"]||a.sync("followers_count",a.followersCount+1)}),a.onUserActionFollowSync(e)}})},_updateTwttrPromotedAccount:function(a,b){b?twttr.promotedAccountStore.setAccount(a,b):twttr.promotedAccountStore.clear()},_getUserActionsDropdown:function(a,b,c){var d=this,e=b.closest(".js-actionable-user"),f=[];return f.push({label:_("Mention {{screen_name}}",c),icon:"mention",className:"js-action-reply",handlers:{click:function(){(new twttr.widget.TweetDialog({template:{title:"Mention "+a.screenName},draggable:!0,defaultContent:"@"+a.screenName+" ",origin:"profile-actions-dropdown-mention"})).open().focus(),d.trigger("reply.user",[e,b,"reply"])}}}),f.push({label:_("Add to list"),icon:"user-list",className:"js-action-addtolist",handlers:{click:function(){(new twttr.widget.ListMembershipDialog(a)).open(),d.trigger("add_to_list.user",[e,b,"add_to_list"])}}}),c.blocking?f.push({label:_("Unblock {{screen_name}}",c),icon:"block",className:"js-action-unblock",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.unblock({before:function(){$('.stream .stream-tweet[data-user-id="'+a.id+'"]').closest(".stream-item").show()},success:function(){d.trigger("unblock.user",[e,b,"unblock"])},impression_id:c})}}}):f.push({label:_("Block {{screen_name}}",c),icon:"block",className:"js-action-block",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.block({timeout:function(a){a.retry()},error:function(){twttr.showError(_("Whoops! We weren't able to block that user. Try again in a minute"))},success:function(a){d.trigger("block.user",[e,b,"block"])},impression_id:c})}}}),c.blocking||f.push({label:_('Report <span class="truncate">{{screen_name}}</span> for spam',c),icon:"spam",className:"js-action-spam",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.report({before:function(){$('.stream .stream-tweet[data-user-id="'+a.id+'"]').closest(".stream-item").hide()},error:function(a){twttr.errors.showErrorFromResponse(a,"report")},success:function(a){d.trigger("report_as_spam.user",[e,b,"report_as_spam"])},impression_id:c})}}}),new twttr.control.Dropdown(b,{itemView:twttr.views.UserDropdownItem,items:f,direction:"right"})}}),twttr.isT1&&a.mixin(b.mixins.userActionableT1),a}),a(twttr.mixins.userActionable)})}),provide("mixins/profilePopupActionable",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.profilePopupActionable",function(){this.methods({showProfilePopup:function(a){using("widget/MiniProfileDialog",function(b){(new b(a)).open()})}}).click({".user-profile-link,          .js-user-profile-link,          .twitter-atreply,          .js-account-group":function(a,b){var c=this;if(b.is(".withheld-item .twitter-atreply"))return!1;b.hasClass("js-bubble-event")||(a.stopPropagation(),a.preventDefault());var d=b.data("user-id")||b.attr("data-screen-name")||b.closest(".js-profile-popup-actionable").data("user-id");if(!d){twttr.development&&console.log("can't open profile popup: no user identifier found");return}var e=b.closest(".js-actionable-tweet, .js-actionable-user"),f=e.attr("data-impression-id");e.trigger("profile_popup."+(e.is(".js-actionable-tweet")?"tweet":"user")),twttr.API.User.find(d,{success:function(d){d=twttr.API.util.PromotedStore.getPromotedUserInstance(d,f),c.showProfilePopup(d),b.data("user-id",d.id),twttr.scribbles.logViewProfileDetails.call(b,a)},error:function(a){twttr.errors.showErrorFromResponse(a)}})}})}),a(twttr.mixins.profilePopupActionable)})}),provide("mixins/listActionable",function(a){using("_").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.listActionable",function(){return this.methods({listDeleted:function(){},listUpdated:function(){},_setListFollowing:function(a,b,c){var d=c?"subscribe":"unsubscribe";twttr.API.User.find(a,function(a){a.lists.find(b,function(a){a[d]({error:function(){c?twttr.showError(_("There was an error subscribing to the list")):twttr.showError(_("There was an error unsubscribing from the list"))}})})})},unfollowList:function(a,b){this._setListFollowing(a,parseInt(b,10),!1)},followList:function(a,b){this._setListFollowing(a,parseInt(b,10),!0)}}).click({".js-delete-list-action":function(a,b){return(new twttr.widget.Prompt({modal:!0,template:{title:_("Are you sure you want to delete this list?")},callback:function(a){a&&twttr.currentUser.lists.find(parseInt(b.attr("data-list-id"),10),function(a){twttr.app.currentPage().send("listDeleted",[a]),a.destroy({error:function(){twttr.showError(_("There was an error deleting the list"))},success:function(){twttr.app.currentPage().send("listDeleted",[a])}})})}})).open(),a.stopPropagation(),!1},".js-edit-list-action":function(a,b){return twttr.currentUser.lists.find(parseInt(b.attr("data-list-id"),10),function(a){(new twttr.widget.ListDialog({list:a,onSuccess:function(a){twttr.app.currentPage().send("listUpdated",[a])}})).open()}),a.stopPropagation(),!1},".js-unfollow-list-action":function(a,b){return this.unfollowList(b.attr("data-screen-name"),parseInt(b.attr("data-list-id"),10)),a.stopPropagation(),!1},".js-follow-list-action":function(a,b){return this.followList(b.attr("data-screen-name"),parseInt(b.attr("data-list-id"),10)),a.stopPropagation(),!1}}),this});a(c)})}),provide("mixins/tweetActionable",function(a){using("_").as(function(b,_){twttr.klass.mixin("twttr.mixins.tweetActionable",function(a){return a.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({deletedTweetCacheDuration:6e5,_updateTweetDisplay:function(a,b){var c=this;b==="delete"?(twttr.showMessage(_("Your tweet has been deleted.")),c.onTweetActionDelete(a)):twttr.API.Status.find(a,function(d){var e=c.$find("div.js-actionable-tweet[data-tweet-id="+a+"]");switch(b){case"favorite":d.sync("favorited",!0),e.addClass("favorited");break;case"unfavorite":d.sync("favorited",!1),e.removeClass("favorited");break;case"retweet":d.sync("current_user_retweet",!0),e.addClass("retweeted");break;case"unretweet":d.sync("current_user_retweet",!1),e.removeClass("retweeted");break;case"hide":c.onTweetActionHide(a);break;case"show":c.onTweetActionShow(a)}c.rerenderTweetActionsView(b,d,e)})},onTweetActionDelete:function(a){this._getActionableTweets(a).remove()},onTweetActionHide:function(a){this._getActionableTweets(a).hide()},onTweetActionShow:function(a){this._getActionableTweets(a).show()},getTweetId:function(a){return a.attr("data-tweet-id")},getScreenName:function(a){return a.attr("data-screen-name")},getImpressionId:function(a){return a.attr("data-impression-id")},getScribeComponent:function(a){return a.is("div.details-pane .js-actionable-tweet")?"details-pane":a.is("div.stream .js-actionable-tweet")?"stream":"generic-component"},getStreamName:function(){var a=twttr.app.currentPage(),b=a.getInstanceProperty("streamManager");return b?b.getCurrent().constructor._name:null},tweetActionFavorite:function(a,b){if(!a||a.length===0||!twttr.loggedIn)return;var c=this.getTweetId(a),d=a.hasClass("favorited"),e=d?"unfavorite":"favorite",f=this.getImpressionId(a);twttr.API.Status[e](c,{impression_id:f,cacheOptions:{skipOverwrite:!0}});var g=twttr.app.currentPage().getInstanceProperty("streamManager"),i={input:b,tweet_id:c,favorited:!d,component:this.getScribeComponent(a),stream:g&&g.getCurrent().constructor._name};d?twttr.viewHelpers.addActivityItemLogging(a,i,"unfavorite-tweet"):twttr.viewHelpers.addExtraLogging(a,i,"favorite-tweet");var j=d?"unfavorite":"favorite";this.trigger(j+".tweet",[a,a.find("a.js-toggle-fav"),j]),_scribble("favorite-tweet",i)},tweetActionRetweet:function(a,b){if(!a||a.length===0||!twttr.loggedIn)return;var c=this.getTweetId(a),d=this.getScreenName(a),e=this.getImpressionId(a),f=a.hasClass("retweeted"),g=this.getScribeComponent(a),i=this.getStreamName(),j=!!a.attr("data-protected");if(twttr.helpers.isCurrentUser(d)||j&&!f)return;if(f){var k=a.attr("data-my-retweet-id");k&&(this.trigger("unretweet.tweet",[a,a.find("a.js-toggle-rt"),"unretweet"]),twttr.API.Status.unretweet(k))}else{var l=this;using([twttr.bundleMore,"dialogs"],function(){twttr.API.Status.find(c,function(d){twttr.dialogs.retweet(c,d.text,function(d){d&&(twttr.API.Status.retweet(c,{impression_id:e}),l.trigger("retweet.tweet",[a,a.find("a.js-toggle-rt"),"retweet"]),_scribble("tweet",{tweet_type:"retweet",origin:"tweet-action-retweet",input:b,component:g,stream:i}))}).open()})})}var m={input:b,tweet_id:c,component:g,stream:i};twttr.viewHelpers.addExtraLogging(a,m,"retweet-tweet-opened"),_scribble("retweet-tweet-opened",m)},tweetActionReply:function(a,b,c){if(!a||a.length===0||!twttr.loggedIn)return;var d=this.getTweetId(a),e=this.getImpressionId(a),f=this.getScreenName(a),g=this.getScribeComponent(a),i=this.getStreamName(),j={$tweet:a,tweetId:d,impressionId:e,screenName:f,origin:"tweet-action-reply",input:b,component:g,stream:i};if(!c){var k=this;using([twttr.bundleMore,"dialogs"],function(){var b=twttr.dialogs.reply(j);b.view.tweetBox.bind("sendingTweet",function(b,c){k.trigger("reply.tweet",[a,a.find("a.js-action-reply"),"reply"])}),b.open()})}var l={input:b,tweet_id:d,component:g,stream:i};return twttr.viewHelpers.addExtraLogging(a,l,"reply-to-tweet-opened"),_scribble("reply-to-tweet-opened",l),j},tweetActionDismiss:function(a,b){var c=this.getImpressionId(a),d=a.parent(".js-stream-item");d.hasClass("focused-stream-item")&&twttr.app.currentPage().send("closeDetailsPane"),d.fadeOut(300,function(){d.remove()});for(var e=0;e<this.items.length;e++)if(this.items[e].impressionId==c){this.items.splice(e,1);break}twttr.API.util.PromotedContent.logDismissOther(c),this.trigger("dismiss.tweet",[a,a.find(".js-action-dismiss, div.js-action-dismiss"),"dismiss"]),twttr.promotedTweetStore.clear()},tweetActionNotRelevant:function(a){var b={query:a.find("a.js-action-notrel").attr("data-search-query"),tweet_id:this.getTweetId(a),stream_index:String(a.closest(".stream-item").parent().find('.stream-tweet:not([data-promoted="true"])').index(a))};this.trigger("not_relevant.tweet",[a,a.find("a.js-action-notrel"),"not_relevant"]),_scribble("not-relevant-tweet",b)},tweetActionDelete:function(a,b){var c=this;if(!a||a.length===0||!twttr.loggedIn)return;var d=this.getTweetId(a);using([twttr.bundleMore,"widget/Prompt"],function(){(new twttr.widget.Prompt({template:{title:_("Are you sure you want to delete this tweet?")},callback:function(a){a&&twttr.API.Status.find(d).destroy({success:function(){twttr.app.caches.deletedTweets.set(d,!0,c.deletedTweetCacheDuration)},error:function(a){twttr.errors.showErrorFromResponse(a,"delete")}})}})).open()}),this.trigger("delete.tweet",[a,a.find("a.js-action-del"),"delete"]);var e={input:b,tweet_id:d,component:this.getScribeComponent(a)};_scribble("delete-tweet-opened",e)},_getActionableTweets:function(a){return this.$find("div.js-actionable-tweet[data-tweet-id="+a+"]")},_getActionableMyRetweets:function(a){return this.$find("div.js-actionable-tweet[data-my-retweet-id="+a+"]")},_registerTweetActionAPIListeners:function(){var a=this;twttr.API.Status.bind("favorite",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"favorite"),a._updateTweetDisplay(d,"favorite")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"favorite")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"unfavorite"),twttr.errors.showErrorFromResponse(c,"favorite")}}),twttr.API.Status.bind("unfavorite",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"unfavorite"),a._updateTweetDisplay(d,"unfavorite")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"unfavorite")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"favorite"),twttr.errors.showErrorFromResponse(c,"unfavorite")}}),twttr.API.Status.bind("retweet",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"retweet"),a._updateTweetDisplay(d,"retweet")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"retweet")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"unretweet"),twttr.errors.showErrorFromResponse(c,"retweet")},success:function(b,c){var d=c.retweetingStatus.id,e=c.id;c.sync("current_user_retweet",{id:d}),a.$find("div.js-actionable-tweet[data-tweet-id="+e+"]").attr("data-my-retweet-id",d)}}),twttr.API.Status.bind("unretweet",{before:function(b,c){var d=c.requestParameters[0].id,e=a._getActionableMyRetweets(d);a.markAsPending(e,"unretweet");var f=e.attr("data-tweet-id");a._updateTweetDisplay(f,"unretweet")},complete:function(b,c,d){var e=d.requestParameters[0].id,f=a._getActionableMyRetweets(e);a.markAsComplete(f,"unretweet")},error:function(b,c,d){var e=d.requestParameters[0].id,f=a._getActionableMyRetweets(e),g=f.attr("data-tweet-id");a._updateTweetDisplay(g,"retweet")},success:function(b,c,d){var e=c.id,f=c.retweetingStatus.id;a._updateTweetDisplay(e,"unretweet"),a._getActionableTweets(e).attr("data-my-retweet-id",null)}}),twttr.API.Status.bind("delete",{before:function(b,c){var d=c.requestParameters[0].id;a.markAsPending(a._getActionableTweets(d),"delete"),a._updateTweetDisplay(d,"hide")},complete:function(b,c,d){var e=d.requestParameters[0].id;a.markAsComplete(a._getActionableTweets(e),"delete")},error:function(b,c,d){var e=d.requestParameters[0].id;a._updateTweetDisplay(e,"show")},success:function(b,c,d){var e=c.id;a._updateTweetDisplay(e,"delete")}})},registerTweetActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-tweet .js-action-profile-avatar","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logProfileImageClick(e),a.trigger("avatar_click.tweet",[d,c,"avatar"])}),this.$node.delegate(".js-actionable-tweet .js-action-profile-name","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logScreenNameClick(e),a.trigger("screen_name_click.tweet",[d,c,"screen_name"])}),this.$node.delegate(".js-actionable-tweet .js-action-profile-promoted","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logFooterProfileClick(e),a.trigger("promoted_badge_click.tweet",[d,c,"promoted_badge"])}),this.$node.delegate(".js-actionable-tweet .twitter-hashtag","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logHashtagClick(e,c.text()),a.trigger("hashtag_click.tweet",[d,c,"hashtag"])}),this.$node.delegate(".js-actionable-tweet .twitter-atreply","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logUserMentionClick(e,c.text()),a.trigger("mention_click.tweet",[d,c,"mention"])}),this.$node.delegate(".js-actionable-tweet .twitter-timeline-link","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logUrlClick(e,c.text()),a.trigger("external_link_click.tweet",[d,c,"external_link"])}),this.$node.delegate(".js-stream-item .js-permalink","click",function(b){var c=$(this),d=c.closest(".js-stream-item").find("div.js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logPermalinkClick(e),a.trigger("permalink_click.tweet",[d,c,"permalink"])}),this.$node.delegate(".js-actions .js-toggle-fav","click",function(b){return twttr.loggedIn?a.tweetActionFavorite($(this).closest(".js-actionable-tweet"),"click"):twttr.dialogs.signinOrSignup().open(),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-reply","click",function(b){if(twttr.loggedIn){var c=$(this).closest(".js-actionable-tweet");if(twttr.decider.hasInlineReplies()&&c.hasClass("original-tweet")&&!c.hasClass("js-activity-tweet"))if(!c.hasClass("opened-tweet"))c.find(".action-reply-container").trigger("click");else{var d=c.data("inline-tweetbox");d&&d.focus()}else a.tweetActionReply(c,"click")}else twttr.dialogs.signinOrSignup().open();return b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-action-dismiss","click",function(b){return a.tweetActionDismiss($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-del","click",function(b){return a.tweetActionDelete($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-toggle-rt","click",function(b){return twttr.loggedIn?a.tweetActionRetweet($(this).closest(".js-actionable-tweet"),"click"):twttr.dialogs.signinOrSignup().open(),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-notrel","click",function(b){return a.tweetActionNotRelevant($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this._registerTweetActionAPIListeners(),this._registerTweetActionScribeListeners()}}),twttr.isT1?this.methods({rerenderTweetActionsView:twttr.util.noopInT1}):this.methods({rerenderTweetActionsView:function(a,b,c){var d=new twttr.views.TweetActions(b);a==="unretweet"&&(d.retweeted=!1),c.find("span.js-actions, ul.js-actions").replaceWith(d.html())}}),a}),a(twttr.mixins.tweetActionable)})}),provide("mixins/pendingActions",function(a){using().as(function(b){var c=twttr.klass.mixin("twttr.mixins.pendingActions",function(){function a(a){var b=a.attr("data-pending");return b?b.split(" "):[]}function b(a,b){b.length===0?a.removeAttr("data-pending"):a.attr("data-pending",b.join(" "))}var $=jQuery;return this.methods({markAsPending:function(c,d){var e=a(c);$.inArray(d,e)==-1&&(e.push(d),b(c,e))},markAsComplete:function(c,d){var e=a(c),f=$.inArray(d,e);f>=0&&(e.splice(f,1),b(c,e))}}),this});a(c)})}),provide("mixins/i18nTweet",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.i18nTweet",function(){var a=.3,b=twttr.constants.regexps.rtlChar,c=/((<a[^>+]+>.+?<\/a>|[ ^]RT:|:-?[DP\$\)\(])+)/g;this.methods({updateI18nDisplay:function(){var a=this;this.$find("div.tweet, div.tweet-row").each(function(){a.updateRtlDisplay($(this))})},getMachedRtlChars:function(a){return a.match(b)},shouldBeRTL:function(b,c){var d=twttr.txt.extractMentions(b).concat(twttr.txt.extractUrls(b)),e=0;d.length>0&&(e=d.length*2+d.join("").length);var f=b.length-e;return f!=0&&c.length/f>a},updateRtlDisplay:function(a){var b=this,d=a.find("div.js-tweet-text, p.js-tweet-text");if(d.hasClass("tweet-text-rtl"))return;var e=this.getMachedRtlChars(d.text());e!=undefined&&(d.find(".twitter-hashtag").each(function(){var a=$(this).attr("title");if(!a)return;a.match(twttr.constants.regexps.rtlHashtag)?$(this).html("‫"+$(this).html()+"‬"):$(this).html("‪"+$(this).html()+"‬")}),this.shouldBeRTL(d.text(),e)&&(d.addClass("tweet-text-rtl"),d.html(d.html().replace(c,"‎$1‏")),d.addClass("tweet-rtl")))}})}),a(twttr.mixins.i18nTweet)})}),provide("mixins/i18nTweetBox",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.i18nTweetBox",function(){this.mixin(twttr.mixins.i18nTweet).methods({registerTextDirEvents:function(){this.editor.bind("didChangeContent",twttr.bind(this,this._toggleTextDir))},_insertLTRMarker:function(a){var b=0,c=[];return $(twttr.txt.extractMentionsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[0])),(e.indices[0]===0||a[e.indices[0]-1]!=="‎")&&c.push("‎"),c.push(a.substring(e.indices[0],e.indices[1])),(e.indices[1]===0||a[e.indices[1]+1]!=="‏")&&c.push("‏"),b=e.indices[1]}),c.push(a.substr(b)),a=c.join(""),b=0,c.length=0,$(twttr.txt.extractHashtagsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[0])),!a[e.indices[0]+1].match(twttr.constants.regexps.rtlChar)&&(e.indices[0]===0||a[e.indices[0]-1]!=="‎")&&c.push("‎"),b=e.indices[0]}),c.push(a.substr(b)),a=c.join(""),b=0,c.length=0,$(twttr.txt.extractUrlsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[1])),e.indices[1]!==0&&a[e.indices[1]+1]!=="‎"&&c.push("‎"),b=e.indices[1]}),c.push(a.substr(b)),a=c.join(""),a},_eraseCheck:function(a){if(this._prev_txt&&this._prev_txt.length-a.length===1)for(i=0;i<this._prev_txt.length;++i)if(this._prev_txt[i]!==a[i]&&(this._prev_txt[i]==="‎"||this._prev_txt[i]==="‏"))return a.substring(0,i-1)+a.substr(i);return a},_markAtmarkLTR:function(a){function b(a){var b=0;if(document.selection){var c=document.selection.createRange();if(c&&c.parentElement()===a){var d=a.value.length,e=a.createTextRange();e.moveToBookmark(c.getBookmark());var f=a.createTextRange();f.collapse(!1),e.compareEndPoints("StartToEnd",f)>-1?b=d:b=-e.moveStart("character",-d)}}else if(a.selectionStart||a.selectionStart=="0")b=a.selectionStart;return b}function c(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var d=a.parents("body").length!==0,e=0;d&&(e=b(a[0]));var f=a.val().length,g=this._eraseCheck(a.val()).replace(twttr.constants.regexps.dirMark,"");g=this._insertLTRMarker(g);if(d&&this._prev_txt!==g){this._prev_txt=g,a.val(g);var i=e+g.length-f;c(a[0],i)}},markPunctuation:function(a,b){var c=b.val(),d=c.match(twttr.constants.regexps.rtlChar),e=twttr.isRTL;d?e=this.shouldBeRTL(c,d):c.length!==0&&(e=!1),b.attr("dir",e?"rtl":"ltr"),d&&($.browser.mozilla||$.browser.webkit&&a&&a.type==="keydown"||$.browser.msie&&a&&a.type==="keyup")&&this._markAtmarkLTR(b)},_toggleTextDir:function(a,b,c){this.markPunctuation(c,this.editor.$editor)}})}),a(twttr.mixins.i18nTweetBox)})}),provide("mixins/promotedTweetStream",function(a){using("_").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.promotedTweetStream",function(a){return a.methods({hasPromotedContent:function(){for(var a=0,b=this.items.length;a<b;a++)if(this.items[a].isPromoted())return!0;return!1},logPromotedImpressions:function(a){function b(a){a.logImpressionIfPromoted()}a.each?a.each(b):twttr.each(a,b)},movePromotedTweetToTop:function(){var a=this.getMostRecentPromotedTweet();a&&(this.removePromotedTweetDOMElements(),this.removePromotedTweetItems(),this.addAsNewItem(a))},getMostRecentPromotedTweet:function(){for(var a=this.newItemsCount,b=this.items.length;a<b;a++)if(this.items[a].isPromoted())return this.items[a]},promotedTweetIsExpanded:function(){var a=this.$find(".promoted-tweet").closest(".js-stream-item");return a.hasClass("open")},removePromotedTweetDOMElements:function(){this.$find(".promoted-tweet").closest(".js-stream-item").remove()},removePromotedTweetItems:function(){for(var a=this.newItemsCount;a<this.items.length;a++)this.items[a].isPromoted()&&this.items.splice(a,1)}}),a});a(c)})}),provide("mixins/componentEvents",function(a){using("util","constants").as(function(b){var c;twttr.klass.mixin("twttr.mixins.componentEvents",function(a){return $.each(b.constants.jQueryEvents,function(c,d){a[d]=function(a){return twttr.is.inArray(d,["keypress","keydown","keyup"])&&$.each(a,function(b,c){a[b]=function(a){return a.ctrlKey||a.metaKey||a.altKey?undefined:c.apply(this,arguments)}}),this.prototype.hasOwnProperty("_"+d)||(this.uberclass&&this.uberclass.prototype["_"+d]?this.prototype["_"+d]=b.util.create(this.uberclass.prototype["_"+d]):this.prototype["_"+d]={}),twttr.augmentObject(this.prototype["_"+d],a),this}}),a.statics({debugUserEvents:function(a){c=typeof a=="undefined"?!0:a}}),a.methods({initComponentEvents:function(a){var d=this;a=a||this.$node,$.each(b.constants.jQueryEvents,function(b,e){if(twttr.is.inArray(e,["keypress","keydown","keyup"]))return;$.each(d["_"+e]||{},function(b,f){var g=[b,e],i=$.isArray(f)?f:[f];$.each(i,function(a,f){g.push(function(a){c&&console.log("User event fired",{component:d,event:e,selector:b,handler:f});if(!a.isImmediatePropagationStopped())return f.call(d,a,$(this))})}),a.delegate.apply(a,g)})})}}),a}),a(twttr.mixins.componentEvents)})}),provide("mixins/protectedUserActionable",function(a){using("_").as(function(b,_){twttr.klass.mixin("twttr.mixins.protectedUserActionable",function(a){return a.methods({registerProtectedUserActions:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-deny","click",function(b){var c=$(this),d=c.closest(".js-actionable-user");return twttr.currentUser.friends.deny(parseInt(d.attr("data-user-id")),function(b){a.trigger("deny.user",[d,c,"deny"]),d.parents(".js-stream-item").remove()}),b.stopImmediatePropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-accept","click",function(b){var c=$(this),d=c.closest(".js-actionable-user");return twttr.currentUser.friends.accept(parseInt(d.attr("data-user-id")),function(b){a.trigger("accept.user",[d,c,"accept"]),(new twttr.views.StreamUser(b)).render(d,"replaceWith")}),b.stopImmediatePropagation(),!1})}}),a}),a(twttr.mixins.protectedUserActionable)})}),provide("mixins/serverRenderableObject",function(a){using("libwrap/jquery").as(function(b,$){twttr.klass.mixin("twttr.mixins.serverRenderableObject",function(a){return a.methods({preRendered:!1,$domNode:function(b){return this.$node?this.$node:(this.isPresentInDom()?(this.preRendered=!0,this.$node=$(this.selectorAsString())):(this.preRendered=!1,typeof b=="function"&&(b=b.call(this)),this.$node=$(b),this.$node.length>1&&(this.$node=$("<div />").html(b))),this.$node)},domNodeSelector:null,selectorAsString:function(){return typeof this.domNodeSelector=="function"?this.domNodeSelector():this.domNodeSelector},isPresentInDom:function(){var b=this.selectorAsString();return b&&$(b).length===1}}),a}),a(twttr.mixins.serverRenderableObject)})}),provide("mixins/welcomeScribing",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.welcomeScribing",function(a){return a.methods({setWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!1,$.cookie("welcome","1",{expires:new Date(+(new Date)+36e5)})},clearWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie||(twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!0,$.cookie("welcome",null))},maybeScribeWelcomeSkip:function(){if(twttr.mixins.welcomeScribing._noWelcomeSkipCookie||$.cookie("welcome")!="1"){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!0;return}var a={page:"welcome",section:"finished",action:"skip"};trackClient(a),this.clearWelcomeSkipCookie()}}),a}),a()})}),provide("mixins/t1/emptyTimelineRecommendations",function(a){using().as(function(){twttr.klass.mixin("twttr.mixins.emptyTimelineRecommendations",function(){this.statics({showing:!1}).methods({insertEmptyTimeline:function(a){var a=a||{},b=this;using([twttr.bundleMore,"components/t1/EmptyTimelineRecommendations"],function(){if(!twttr.decider.isAvailable("empty_timeline_recommendations"))return b._dontShowSignalCompleted(b);if(!twttr.util.params().empty_timeline){if(twttr.cache.local.shownWelcomeFlow&&twttr.currentUser.friendsCount>0)return b._dontShowSignalCompleted(b);if(twttr.currentUser.friendsCount>=twttr.components.t1.EmptyTimelineRecommendations.avatarLimit)return b._dontShowSignalCompleted(b);if(Math.floor((new Date).getTime()-new Date(twttr.currentUser.createdAt))/864e5>60&&twttr.currentUser.followersCount>100&&twttr.currentUser.friendsCount>0)return b._dontShowSignalCompleted(b)}var c=b.$find("#js-empty-timeline-recommendations-module-hook"),d=b.$find(".js-stream-manager-container, .js-stream-header");c.show(),twttr.mixins.emptyTimelineRecommendations.showing=!0,twttr.router.one("routed.EmptyTimelineRecommendations",function(a,b){e===b.name?twttr.router.one("routed.EmptyTimelineRecommendations",arguments.callee):(c.hide(),d.show())});var e=twttr.router.getCurrentRoute().name;if(c.find(".js-empty-timeline").size()>0){b.signal("emptyTimelineModuleLogicCompleted");return}var f=new twttr.components.t1.EmptyTimelineRecommendations({scribeComponentName:"empty_timeline_recommendations"});c.html(f.$node),f.trigger("addedToPage"),typeof a.onDestroyCb=="function"&&f.bind("destroyed",a.onDestroyCb);var g={success:function(){var c=b.streamManager.streams.current;a.reloadStream&&c.trigger("reloadCurrentStream",c.constructor),d.show()}};twttr.API.User.bind("follow.EmptyTimelineRecommendations",g);var g={success:function(){var c=b.streamManager.streams.current;a.reloadStream&&c.trigger("reloadCurrentStream",c.constructor),twttr.currentUser.friendsCount===0&&d.hide()}};twttr.API.User.bind("unfollow.EmptyTimelineRecommendations",g),b.signal("emptyTimelineModuleLogicCompleted")})},_dontShowSignalCompleted:function(a){twttr.mixins.emptyTimelineRecommendations.showing=!1,a.signal("emptyTimelineModuleLogicCompleted")}})}),a(twttr.mixins.emptyTimelineRecommendations)})}),provide("lib/natcompare",function(a){using().as(function(b){var c=twttr.augmentString("twttr.natcompare",function(){var a=function(a){var b;return b=a.charCodeAt(0),b<=32?!0:!1},b=function(a){var b;return b=a.charCodeAt(0),b>=48&&b<=57?!0:!1},c=function(a,c){var d=0,e=0,f=0,g,i;for(;;e++,f++){g=a.charAt(e),i=c.charAt(f);if(!b(g)&&!b(i))return d;if(!b(g))return-1;if(!b(i))return 1;g<i?d==0&&(d=-1):g>i&&d==0&&(d=1)}};return function(d,e){typeof d=="number"&&(d=d.toString()),typeof e=="number"&&(e=e.toString());var f=0,g=0,i=0,j=0,k,l,m;for(;;){i=j=0,k=d.charAt(f),l=e.charAt(g);while(a(k)||k=="0")k=="0"?i++:i=0,k=d.charAt(++f);while(a(l)||l=="0")l=="0"?j++:j=0,l=e.charAt(++g);if(b(k)&&b(l)&&(m=c(d.substring(f),e.substring(g)))!=0)return m;if(k==0&&l==0)return i-j;if(k<l)return-1;if(k>l)return 1;++f,++g}}}());twttr.augmentString("twttr.util.natcompare",c),a(c)})}),provide("$lib/twitter-text-1.4.16.js",function(a){if(typeof window=="undefined"||window===null)window={twttr:{}};window.twttr==null&&(window.twttr={});if(typeof twttr=="undefined"||twttr===null)twttr={};(function(){function b(a,b){return b=b||"",typeof a!="string"&&(a.global&&b.indexOf("g")<0&&(b+="g"),a.ignoreCase&&b.indexOf("i")<0&&(b+="i"),a.multiline&&b.indexOf("m")<0&&(b+="m"),a=a.source),new RegExp(a.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.txt.regexen[b]||"";return typeof c!="string"&&(c=c.source),c}),b)}function c(a,b){return a.replace(/#\{(\w+)\}/g,function(a,c){return b[c]||""})}function d(a,b,c){var d=String.fromCharCode(b);return c!==b&&(d+="-"+String.fromCharCode(c)),a.push(d),a}function p(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function t(a,b,c){return c?!a||a.match(b)&&RegExp["$&"]===a:typeof a=="string"&&a.match(b)&&RegExp["$&"]===a}twttr.txt={},twttr.txt.regexen={};var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(b){return b&&b.replace(/[&"'><]/g,function(b){return a[b]})};var e=String.fromCharCode,f=[e(32),e(133),e(160),e(5760),e(6158),e(8232),e(8233),e(8239),e(8287),e(12288)];d(f,9,13),d(f,8192,8202);var g=[e(65534),e(65279),e(65535)];d(g,8234,8238),twttr.txt.regexen.spaces_group=b(f.join("")),twttr.txt.regexen.spaces=b("["+f.join("")+"]"),twttr.txt.regexen.invalid_chars_group=b(g.join("")),twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,twttr.txt.regexen.atSigns=/[@＠]/,twttr.txt.regexen.extractMentions=b(/(^|[^a-zA-Z0-9_!#$%&*@＠])(#{atSigns})([a-zA-Z0-9_]{1,20})/g),twttr.txt.regexen.extractReply=b(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/,twttr.txt.regexen.extractMentionsOrLists=b(/(^|[^a-zA-Z0-9_!#$%&*@＠])(#{atSigns})([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g);var i=[];d(i,1024,1279),d(i,1280,1319),d(i,11744,11775),d(i,42560,42655),d(i,1425,1469),d(i,1471,1471),d(i,1473,1474),d(i,1476,1477),d(i,1479,1479),d(i,1488,1514),d(i,1520,1522),d(i,64274,64296),d(i,64298,64310),d(i,64312,64316),d(i,64318,64318),d(i,64320,64321),d(i,64323,64324),d(i,64326,64335),d(i,1552,1562),d(i,1568,1631),d(i,1646,1747),d(i,1749,1756),d(i,1758,1768),d(i,1770,1775),d(i,1786,1788),d(i,1791,1791),d(i,1872,1919),d(i,2208,2208),d(i,2210,2220),d(i,2276,2302),d(i,64336,64433),d(i,64467,64829),d(i,64848,64911),d(i,64914,64967),d(i,65008,65019),d(i,65136,65140),d(i,65142,65276),d(i,8204,8204),d(i,3585,3642),d(i,3648,3662),d(i,4352,4607),d(i,12592,12677),d(i,43360,43391),d(i,44032,55215),d(i,55216,55295),d(i,65441,65500),d(i,12449,12538),d(i,12540,12542),d(i,65382,65439),d(i,65392,65392),d(i,65296,65305),d(i,65313,65338),d(i,65345,65370),d(i,12353,12438),d(i,12441,12446),d(i,13312,19903),d(i,19968,40959),d(i,173824,177983),d(i,177984,178207),d(i,194560,195103),d(i,12291,12291),d(i,12293,12293),d(i,12347,12347),twttr.txt.regexen.nonLatinHashtagChars=b(i.join(""));var j=[];d(j,192,214),d(j,216,246),d(j,248,255),d(j,256,591),d(j,595,596),d(j,598,599),d(j,601,601),d(j,603,603),d(j,611,611),d(j,616,616),d(j,623,623),d(j,626,626),d(j,649,649),d(j,651,651),d(j,699,699),d(j,7680,7935),twttr.txt.regexen.latinAccentChars=b(j.join("")),twttr.txt.regexen.endScreenNameMatch=b(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),twttr.txt.regexen.hashtagAlpha=b(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),twttr.txt.regexen.hashtagAlphaNumeric=b(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),twttr.txt.regexen.endHashtagMatch=/^(?:[#＃]|:\/\/)/,twttr.txt.regexen.hashtagBoundary=b(/(?:^|$|[^&\/a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),twttr.txt.regexen.autoLinkHashtags=b(/(#{hashtagBoundary})(#|＃)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_!#\$%&*@＠]|RT:?)([@＠]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g,twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/Ö\\\\\\\\|\(\|:\|\/\)|∑:\*\)|\( \| \))/g,twttr.txt.regexen.validPrecedingChars=b(/(?:[^-\/"'!=A-Za-z0-9_@＠$#＃\.#{invalid_chars_group}]|^)/),twttr.txt.regexen.invalidDomainChars=c("#{punct}#{spaces_group}#{invalid_chars_group}",twttr.txt.regexen),twttr.txt.regexen.validDomainChars=b(/[^#{invalidDomainChars}]/),twttr.txt.regexen.validSubdomain=b(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validDomainName=b(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validGTLD=b(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^a-zA-Z]|$))/),twttr.txt.regexen.validCCTLD=b(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^a-zA-Z]|$))/),twttr.txt.regexen.validPunycode=b(/(?:xn--[0-9a-z]+)/),twttr.txt.regexen.validDomain=b(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),twttr.txt.regexen.validAsciiDomain=b(/(?:(?:[a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),twttr.txt.regexen.invalidShortDomain=b(/^#{validDomainName}#{validCCTLD}$/),twttr.txt.regexen.validPortNumber=b(/[0-9]+/),twttr.txt.regexen.validGeneralUrlPathChars=b(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~|&#{latinAccentChars}]/i),twttr.txt.regexen.validUrlBalancedParens=b(/\(#{validGeneralUrlPathChars}+\)/i),twttr.txt.regexen.validUrlPathEndingChars=b(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),twttr.txt.regexen.validUrlPath=b("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,twttr.txt.regexen.extractUrl=b("((#{validPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),twttr.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,twttr.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,twttr.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,twttr.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,twttr.txt.regexen.validateUrlPchar=b("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),twttr.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,twttr.txt.regexen.validateUrlUserinfo=b("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),twttr.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,twttr.txt.regexen.validateUrlIpv4=b(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),twttr.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,twttr.txt.regexen.validateUrlIp=b("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),twttr.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomain=b(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),twttr.txt.regexen.validateUrlHost=b("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),twttr.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomain=b(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),twttr.txt.regexen.validateUrlUnicodeHost=b("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),twttr.txt.regexen.validateUrlPort=/[0-9]{1,5}/,twttr.txt.regexen.validateUrlUnicodeAuthority=b("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlAuthority=b("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlPath=b(/(\/#{validateUrlPchar}*)*/i),twttr.txt.regexen.validateUrlQuery=b(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlFragment=b(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlUnencoded=b("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var k="tweet-url",l="list-slug",m="username",n="hashtag",o=' rel="nofollow"';twttr.txt.autoLink=function(a,b){return b=p(b||{}),twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(a,b),b),b)},twttr.txt.autoLinkUsernamesOrLists=function(a,b){b=p(b||{}),b.urlClass=b.urlClass||k,b.listClass=b.listClass||l,b.usernameClass=b.usernameClass||m,b.usernameUrlBase=b.usernameUrlBase||"https://twitter.com/",b.listUrlBase=b.listUrlBase||"https://twitter.com/";if(!b.suppressNoFollow)var d=o;var e="",f=twttr.txt.splitTags(a);for(var g=0;g<f.length;g++){var i=f[g];g!==0&&(e+=g%2===0?">":"<"),g%4!==0?e+=i:e+=i.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(a,e,f,g,i,j,k){var l=k.slice(j+a.length),m={before:e,at:b.usernameIncludeSymbol?"":f,at_before_user:b.usernameIncludeSymbol?f:"",user:twttr.txt.htmlEscape(g),slashListname:twttr.txt.htmlEscape(i),extraHtml:d,preChunk:"",postChunk:""};for(var n in b)b.hasOwnProperty(n)&&(m[n]=b[n]);if(i&&!b.suppressLists){var o=m.chunk=c("#{user}#{slashListname}",m);return m.list=twttr.txt.htmlEscape(o.toLowerCase()),c('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',m)}return l&&l.match(twttr.txt.regexen.endScreenNameMatch)?a:(m.chunk=m.user,m.dataScreenName=b.suppressDataScreenName?"":c('data-screen-name="#{chunk}" ',m),c('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',m))})}return e},twttr.txt.autoLinkHashtags=function(a,b){b=p(b||{}),b.urlClass=b.urlClass||k,b.hashtagClass=b.hashtagClass||n,b.hashtagUrlBase=b.hashtagUrlBase||"https://twitter.com/#!/search?q=%23";if(!b.suppressNoFollow)var d=o;return a.replace(twttr.txt.regexen.autoLinkHashtags,function(a,e,f,g,i,j){var k=j.slice(i+a.length);if(k.match(twttr.txt.regexen.endHashtagMatch))return a;var l={before:e,hash:twttr.txt.htmlEscape(f),preText:"",text:twttr.txt.htmlEscape(g),postText:"",extraHtml:d};for(var m in b)b.hasOwnProperty(m)&&(l[m]=b[m]);return c('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{preText}#{text}#{postText}</a>',l)})},twttr.txt.autoLinkUrlsCustom=function(a,b){b=p(b||{}),b.suppressNoFollow||(b.rel="nofollow"),b.urlClass&&(b["class"]=b.urlClass,delete b.urlClass);var d,e,f;if(b.urlEntities){d={};for(e=0,f=b.urlEntities.length;e<f;e++)d[b.urlEntities[e].url]=b.urlEntities[e]}return delete b.suppressNoFollow,delete b.suppressDataScreenName,delete b.listClass,delete b.usernameClass,delete b.usernameUrlBase,delete b.listUrlBase,delete b.urlEntities,a.replace(twttr.txt.regexen.extractUrl,function(a,e,f,g,i,j,k,l,m){var n;if(i){var o="",p="";g.match(twttr.txt.regexen.validTcoUrl)&&(g=RegExp.lastMatch,p=RegExp.rightContext);var q=g,r=twttr.txt.htmlEscape(q);if(d&&d[g]&&d[g].display_url){var q=d[g].display_url,s=d[g].expanded_url;b.title||(b.title=s);var t=q.replace(/…/g,"");if(s.indexOf(t)!=-1){var u=s.indexOf(t),v={displayUrlSansEllipses:t,beforeDisplayUrl:s.substr(0,u),afterDisplayUrl:s.substr(u+t.length),precedingEllipsis:q.match(/^…/)?"…":"",followingEllipsis:q.match(/…$/)?"…":""};$.each(v,function(a,b){v[a]=twttr.txt.htmlEscape(b)}),v.invisible="style='font-size:0; line-height:0'",r=c("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",v)}}for(var w in b){var x=b[w].toString();o+=c(' #{k}="#{val}" ',{k:w,val:twttr.txt.htmlEscape(x)})}var y={before:f,htmlAttrs:o,url:twttr.txt.htmlEscape(g),linkText:r,after:p};return c('#{before}<a href="#{url}"#{htmlAttrs}>#{linkText}</a>#{after}',y)}return e})},twttr.txt.extractMentions=function(a){var b=[],c=twttr.txt.extractMentionsWithIndices(a);for(var d=0;d<c.length;d++){var e=c[d].screenName;b.push(e)}return b},twttr.txt.extractMentionsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.extractMentions,function(d,e,f,g,i,j){var k=j.slice(i+d.length);if(!k.match(twttr.txt.regexen.endScreenNameMatch)){var l=a.indexOf(f+g,c);c=l+g.length+1,b.push({screenName:g,indices:[l,c]})}}),b},twttr.txt.extractMentionsOrListsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.extractMentionsOrLists,function(d,e,f,g,i,j,k){var l=k.slice(j+d.length);if(!l.match(twttr.txt.regexen.endScreenNameMatch)){i=i||"";var m=a.indexOf(f+g+i,c);c=m+g.length+i.length+1,b.push({screenName:g,listSlug:i,indices:[m,c]})}}),b},twttr.txt.extractReplies=function(a){if(!a)return null;var b=a.match(twttr.txt.regexen.extractReply);return!b||RegExp.rightContext.match(twttr.txt.regexen.endScreenNameMatch)?null:b[1]},twttr.txt.extractUrls=function(a){var b=[],c=twttr.txt.extractUrlsWithIndices(a);for(var d=0;d<c.length;d++)b.push(c[d].url);return b},twttr.txt.extractUrlsWithIndices=function(a){if(!a)return[];var b=[];while(twttr.txt.regexen.extractUrl.exec(a)){var c=RegExp.$2,d=RegExp.$3,e=RegExp.$4,f=RegExp.$5,g=RegExp.$7,i=twttr.txt.regexen.extractUrl.lastIndex,j=i-d.length;if(!e){var k=null,l=!1,m=0;f.replace(twttr.txt.regexen.validAsciiDomain,function(a){var c=f.indexOf(a,m);m=c+a.length,k={url:a,indices:[j+c,j+m]},l=a.match(twttr.txt.regexen.invalidShortDomain),l||b.push(k)});if(k==null)continue;g&&(l&&b.push(k),k.url=d.replace(f,k.url),k.indices[1]=i)}else d.match(twttr.txt.regexen.validTcoUrl)&&(d=RegExp.lastMatch,i=j+d.length),b.push({url:d,indices:[j,i]})}return b},twttr.txt.extractHashtags=function(a){var b=[],c=twttr.txt.extractHashtagsWithIndices(a);for(var d=0;d<c.length;d++)b.push(c[d].hashtag);return b},twttr.txt.extractHashtagsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.autoLinkHashtags,function(d,e,f,g,i,j){var k=j.slice(i+d.length);if(k.match(twttr.txt.regexen.endHashtagMatch))return;var l=a.indexOf(f+g,c);c=l+g.length+1,b.push({hashtag:g,indices:[l,c]})}),b},twttr.txt.modifyIndicesFromUnicodeToUTF16=function(a,b){twttr.txt.convertUnicodeIndices(a,b,!1)},twttr.txt.modifyIndicesFromUTF16ToUnicode=function(a,b){twttr.txt.convertUnicodeIndices(a,b,!0)},twttr.txt.convertUnicodeIndices=function(a,b,c){if(b.length==0)return;var d=0,e=0;b.sort(function(a,b){return a.indices[0]-b.indices[0]});var f=0,g=b[0];while(d<a.length){if(g.indices[0]==(c?d:e)){var i=g.indices[1]-g.indices[0];g.indices[0]=c?e:d,g.indices[1]=g.indices[0]+i,f++;if(f==b.length)break;g=b[f]}var j=a.charCodeAt(d);55296<=j&&j<=56319&&d<a.length-1&&(j=a.charCodeAt(d+1),56320<=j&&j<=57343&&d++),e++,d++}},twttr.txt.splitTags=function(a){var b=a.split("<"),c,d=[],e;for(var f=0;f<b.length;f+=1){e=b[f];if(!e)d.push("");else{c=e.split(">");for(var g=0;g<c.length;g+=1)d.push(c[g])}}return d},twttr.txt.hitHighlight=function(a,b,c){var d="em";b=b||[],c=c||{};if(b.length===0)return a;var e=c.tag||d,f=["<"+e+">","</"+e+">"],g=twttr.txt.splitTags(a),i,j,k,l="",m=0,n=g[0],o=0,p=0,q=!1,r=n,s=[],t,u,v,w,x;for(j=0;j<b.length;j+=1)for(k=0;k<b[j].length;k+=1)s.push(b[j][k]);for(t=0;t<s.length;t+=1){u=s[t],v=f[t%2],w=!1;while(n!=null&&u>=o+n.length)l+=r.slice(p),q&&u===o+r.length&&(l+=v,w=!0),g[m+1]&&(l+="<"+g[m+1]+">"),o+=r.length,p=0,m+=2,n=g[m],r=n,q=!1;!w&&n!=null?(x=u-o,l+=r.slice(p,x)+v,p=x,t%2===0?q=!0:q=!1):w||(w=!0,l+=v)}if(n!=null){p<r.length&&(l+=r.slice(p));for(t=m+1;t<g.length;t+=1)l+=t%2===0?g[t]:"<"+g[t]+">"}return l};var q=140,r=[e(65534),e(65279),e(65535),e(8234),e(8235),e(8236),e(8237),e(8238)];twttr.txt.isInvalidTweet=function(a){if(!a)return"empty";if(a.length>q)return"too_long";for(var b=0;b<r.length;b++)if(a.indexOf(r[b])>=0)return"invalid_characters";return!1},twttr.txt.isValidTweetText=function(a){return!twttr.txt.isInvalidTweet(a)},twttr.txt.isValidUsername=function(a){if(!a)return!1;var b=twttr.txt.extractMentions(a);return b.length===1&&b[0]===a.slice(1)};var s=b(/^#{autoLinkUsernamesOrLists}$/);twttr.txt.isValidList=function(a){var b=a.match(s);return!!b&&b[1]==""&&!!b[4]},twttr.txt.isValidHashtag=function(a){if(!a)return!1;var b=twttr.txt.extractHashtags(a);return b.length===1&&b[0]===a.slice(1)},twttr.txt.isValidUrl=function(a,b,c){b==null&&(b=!0),c==null&&(c=!0);if(!a)return!1;var d=a.match(twttr.txt.regexen.validateUrlUnencoded);if(!d||d[0]!==a)return!1;var e=d[1],f=d[2],g=d[3],i=d[4],j=d[5];return(!c||t(e,twttr.txt.regexen.validateUrlScheme)&&e.match(/^https?$/i))&&t(g,twttr.txt.regexen.validateUrlPath)&&t(i,twttr.txt.regexen.validateUrlQuery,!0)&&t(j,twttr.txt.regexen.validateUrlFragment,!0)?b&&t(f,twttr.txt.regexen.validateUrlUnicodeAuthority)||!b&&t(f,twttr.txt.regexen.validateUrlAuthority):!1},typeof module!="undefined"&&module.exports&&(module.exports=twttr.txt)})(),a()}),provide("setup",function(a){using("util").as(function(b){twttr.is.nil($.cookie("js"))&&$.cookie("js",1,{expires:30,path:"/"}),twttr.setup=function(a){function c(){var a=["webkit","mozilla","opera","msie"];for(var b=0;b<a.length;b++)if($.browser[a[b]])return a[b]}$("body").addClass(c()),twttr.hoversInCss||$(".js-hover").live("mouseenter mouseleave",function(a){$(this).toggleClass("hover",a.type=="mouseenter")}),twttr.currentUser?twttr.caches.User=new twttr.cache.local.User(twttr.currentUser.screenName):twttr.caches.User=new twttr.cache.local.User($.cookie("guest_id")),twttr.app.init(a),twttr.$win=$(window),twttr.$doc=$(document),twttr.provide("twttr.$elements",{page:$("#page-outer")}),twttr.windowHeight=twttr.$win.height(),twttr["interface"].setup(),twttr.ui.loadBar(),twttr.search.setup(),twttr.API.globalEvents.bind("rate_limited",function(a){twttr.errors.showErrorFromCode(twttr.constants.errorCodes.dailyLimit)}),twttr.API.globalEvents.bind("unknown_error",function(a){twttr.errors.showErrorFromResponse({})}),using(twttr.bundleMore,function(){var a=$("div.welcome-banner-outer");if(a.length>0){var b=twttr.banners.welcomeToPhoenix();b.bind("closed",function(){$.cookie("show_phx_welcome_"+twttr.currentUser.id,null)}),a.remove(),b.insert()}var c=$("div.became-user-banner-outer");c.length>0&&(c.remove(),twttr.banners.becameUser().insert());var d=$("div.top-bar-inside,div.banner div.banner-inside");twttr.isT1||twttr.$win.scroll(function(){d.css("left",-twttr.$win.scrollLeft())})}),twttr.router.bind("routed",function(a,b){twttr.$win.scrollTop(0)}),twttr.router.bind("urlChanged",function(a,b){twttr.trackPageView(b.name)}),twttr.router.bind("routeNotFound",function(){twttr.app.switchToPage("404").send("notFound")}),twttr.router.startRouting(),twttr.decider.isInfiniteScroll()&&b.util.lazyBind(window,"scroll",function(a){if(twttr.widget&&twttr.widget.Dialog&&twttr.widget.Dialog.currentModal)return;var b=twttr.app.currentPage();b.send("scrollEnd",[twttr.$win.scrollTop()]),Math.abs(twttr.$doc.scrollTop()+twttr.windowHeight-twttr.$doc.height())<500&&b.send("getStreamManager",function(a){a&&!a.noInfiniteScroll&&a.getMoreOldItems(function(a){_scribble("stream-scrolled",{page:a._page,stream:a._cacheKey,focused_tweet_id:a.focusedItemId||""})})})}),twttr.isT1||b.util.lazyBind(window,"scroll",function(a){twttr.app.currentPage().send("repositionDetailsPane")},100),b.util.lazyBind(window,"resize",function(a){var b=twttr.app.currentPage();twttr.windowHeight=twttr.$win.height(),b&&b.send("resizeDetailsPane"),twttr.windowHeight=twttr.$win.height()}),twttr.isT1&&using("idleDetector",function(a){a({wait:3e5})}),function(){function c(){var a=$(this),c=parseInt(a.attr("data-time"),10);if(b-c>864e5)a.removeClass("_timestamp").addClass("_old-timestamp");else{var d=twttr.helpers.timeAgo(c,JSON.parse(a.attr("data-long-form")||"false"),JSON.parse(a.attr("data-include-sec")||"false"));d!==a.text()&&a.text(d)}}function d(){var e=twttr.app.currentPage(),f=twttr.isT1&&twttr.at("widget.Dialog.currentModal",twttr);b=+(new Date),e&&e.$find('span._timestamp[data-time$="'+a+'000"]').each(c),f&&f.$find('span._timestamp[data-time$="'+a+'000"]').each(c);var g=+(new Date)-b;a++,a%=10,setTimeout(d,2e3)}var a=0,b;setTimeout(d,2e3)}(),using([twttr.bundleMore,"components/Autocomplete"],function(){twttr.API.User.bind("follow acceptFollow",function(a,b){twttr.currentUser.sync("friendsCount",++twttr.currentUser.friendsCount),twttr.components.Autocomplete.getAutocompletedUsers(function(){twttr.components.Autocomplete.addToList([b.id,b.screenName,b.name,b.profileImageUrl])}),$(document).trigger("currentUserUpdated")})}),twttr.API.User.bind("unfollow",function(a,b){twttr.currentUser.sync("friendsCount",Math.max(--twttr.currentUser.friendsCount,0)),$(document).trigger("currentUserUpdated")});var d=$("#loading_indicator_container");d.fadeOut("fast",function(){d.remove(),document.body.style.overflow=""})},twttr.showError=function(a){return twttr.openMessageDrawer(a,"error")},twttr.showMessage=function(a,b){var c=twttr.openMessageDrawer(a,"message",{close_button:!!b});c&&!b&&setTimeout(function(){c.$dom.css("opacity",1).animate({opacity:0},1e3,function(){c.$dom.remove(),twttr.views.MessageDrawer.isOpen=!1})},2e3)},function(){var a={close_button:!0};twttr.openMessageDrawer=function(b,c,d){d=twttr.merge({},a,d||{}),d.text=b,d.type=c,twttr.views.MessageDrawer.close();var e=new twttr.views.MessageDrawer(d);return e.render("#message-drawer","append"),twttr.views.MessageDrawer.isOpen=!0,e}}(),twttr.messageNotification=function(a){var b=new twttr.views.MessageNotification({message:a.attributes}),c=a.senderScreenName,d=a.id;$("#message-notifications").append(b.$html());var e=$("#message-notifications [data-message-id="+d+"].notification");e.bind("click",function(){var a=$(this);a.unbind(),a.find(".message-notification-reply-box").show();var b=new twttr.Editor("#message-notifications [data-message-id="+d+"].notification  .message-notification-reply-editor",function(){var a=this;this.focus(),this.height(36),$("#message-notifications [data-message-id="+d+"].notification .message-notification-reply-button").click(function(){e.html("Sent!"),setTimeout(function(){e.remove()},2e3),twttr.API.DirectMessage.send(c,a.content())})})})},twttr.provide("twttr.ui",{toggleSpinner:function(a,b){if(b)var c=$('<div class="loading-spinner"><img src="/phoenix/img/loader.gif" alt="'+_("Loading")+'"/></div>').appendTo(a);else $(a).find("div.loading-spinner").remove()},loadBar:function(){var a=$("#global-actions");a.find("a").not(".js-dropdown-toggle").each(function(){$(this).attr("href",twttr.router.lookupAndNormalizeRoute($(this).attr("href")))}),twttr.loggedIn&&a.delegate("a","mousedown",function(a){var b=$(this);scribble("globalnav",{input:"click",name:b.text(),href:b.attr("href")})})}}),a(twttr.setup)})}),provide("search",function(a){using().as(function(b){twttr.search={setup:function(){var a=this;this.$searchQuery=$("#search-query"),Modernizr.input.placeholder||(this.$searchQuery.bind({focus:function(){a.hidePlaceholder($(this))},blur:function(){a.showPlaceholder($(this))}}),this.$searchQuery[0].hasFocus?this.$searchQuery.addClass("focused"):this.$searchQuery.blur()),twttr.isT1?(twttr.app.bind("switchToPage",function(b,c){a.updatePlaceholder(c)}),this.attachTypeahead(),this.registerSearchInputEvents(),twttr.loggedIn&&this.setupSavedSearches()):this.setupFocusP1()},setupSavedSearches:function(){if(!twttr.loggedIn)return;var a=this;this.updateSavedSearches(),twttr.API.SavedSearch.bind("create delete",function(){a.updateSavedSearches()})},updateSavedSearches:function(){var a=this;twttr.currentUser.savedSearches(function(b){b.length()>0?(a.savedSearches=b,$(".global-nav .js-search-form").addClass("has-saved-searches")):$(".global-nav .js-search-form").removeClass("has-saved-searches")})},updatePlaceholder:function(a){switch(a){case"connect":this.setPlaceholder(_("Enter an @name or full name"));break;case"discover":this.setPlaceholder(_("Enter a #hashtag or keyword"));break;default:this.setPlaceholder()}},setPlaceholder:function(a){a=a||_("Search"),this.$searchQuery.attr("placeholder",a),!Modernizr.input.placeholder&&this.$searchQuery.data("placeholding")&&this.$searchQuery.val(this.$searchQuery.attr("placeholder")),$(document).trigger("searchPlaceholderUpdate",[a]),this.$searchQuery.blur()},hidePlaceholder:function(a){a.data("placeholding")&&(a.val(""),a.data("placeholding",!1))},showPlaceholder:function(a){!a.data("placeholding")&&a.val()===""&&(a.data("placeholding",!0),a.val(a.attr("placeholder")))},attachTypeahead:function(){var a=this;using(twttr.bundleMore,function(){a.$typeahead=new twttr.components.GlobalNavTypeahead})},queryWasEntered:function(){return this.$searchQuery.val()!==this.$searchQuery.attr("placeholder")&&this.$searchQuery.val()!==""},setupFocusP1:function(){var a=this;this.$searchQuery.bind({focus:function(){$(this).addClass("focused").select().closest("form").addClass("focused")},blur:function(){$(this).removeClass("focused").closest("form").removeClass("focused")}})},clear:function(){this.focusQuery("").blur()},isSavedSearch:function(a){if(!this.savedSearches)return!1;var b=this.savedSearches.filter(function(b){return b.query===a});return b.length()?b.first():!1},setLastQuerySource:function(a){twttr.app.caches.searchQuerySource.set("source",a,6e4)},getLastQuerySource:function(){var a=twttr.app.caches.searchQuerySource.get("source");return a||twttr.search.searchQuerySource.UNKNOWN},registerSearchInputEvents:function(){var a=this;$("span.js-search-action").bind({mouseenter:function(){a.mouseOverMagnifying=!0},mouseleave:function(){a.mouseOverMagnifying=!1},click:function(){!a.$searchQuery.data("placeholding")&&a.$searchQuery.val()?(twttr.search.setLastQuerySource(twttr.search.searchQuerySource.TYPED_QUERY),twttr.search.doSearch(),a.$searchQuery.blur(),twttr.widget.Dialog.trigger("close")):a.$searchQuery.focus()}}),this.$searchQuery.bind("focus",function(b){a.$searchQuery.addClass("focus"),a.$searchQuery.siblings("#search-query-hint").addClass("focus"),a.$searchQuery.parent(".js-search-form").addClass("focus")}),this.$searchQuery.bind("blur",function(b){!a.mouseOverMagnifying&&!a.mouseIsOverTypeaheadDropdown()&&(a.$searchQuery.removeClass("focus"),a.$searchQuery.siblings("#search-query-hint").removeClass("focus"),a.$searchQuery.parent(".js-search-form").removeClass("focus"))})},mouseIsOverTypeaheadDropdown:function(){return this.$typeahead&&this.$typeahead.mouseOverDropDown},focusQuery:function(a){return!this.$searchQuery[0].hasFocus&&!twttr.isT1&&this.$searchQuery.focus(),twttr.is.def(a)&&this.$searchQuery.val(a),this.$searchQuery},doSearch:function(a){var b=this.focusQuery(a).val();if(b){trackClient({section:"top_nav",component:"searchbox",action:"search"},{query:b});var c=twttr.router.getCurrentRoute().name,d=twttr.isT1&&(twttr.app.currentPageName()=="Connect"||c=="userSearch"),e=twttr.isT1&&c=="searchTimeline",f=twttr.isT1&&c=="searchRealtime";d?twttr.router.routeTo(twttr.router.userSearchPath({query:b})):e?twttr.router.routeTo(twttr.router.searchTimelinePath({query:b})):f?twttr.router.routeTo(twttr.router.searchRealtimePath({query:b})):twttr.router.routeTo(twttr.router.searchResultsPath({query:b}))}else this.$searchQuery.blur()},latestQuery:"",formifyLatestQuery:function(a){var b=jQuery.trim(this.latestQuery).replace(/\s+/," ");if(b)if(a.is(".advanced-search form")){var c,d=/(|#|\-|@|\w+:|OR |AND )?\"([^\"]+)\"/i,e=function(b,c){var d={"#":"tag","-":"nots","@":"ref","to:":"to","from:":"from","near:":"near",or:"ors",and:"ands"},e=b?d[jQuery.trim(b).toLowerCase()]:"phrase";if(e){var f=a.find("input[name="+e+"]"),g=f.val();f.val((g?g+" ":"")+c)}};while(c=d.exec(b))c&&c[2]&&e(c[1],c[2]),b=b.replace(c[0],"");twttr.each(b.split(" "),function(b,d,f){switch(b.toLowerCase()){case":)":case":(":case"?":a.find('input[value="'+b+'"]').attr("checked","checked");break;case"include:retweets":a.find("input[name=include]").attr("checked","checked");break;case"":case"or":case"and":break;default:c=/^(#|\-|@|to:|from:|near:)(.*)/i.exec(b);if(c&&c[2]){e(c[1],c[2]);break}c=/^within:(\d+)(mi|km)*/i.exec(b);if(c){var g=a.find("select[name=within]");g.find("option[value="+c[1]+"]")&&g.val(c[1]),c[2].match(/km/i)&&a.find("input[name=units]").each(function(){var a=$(this);a.attr("checked",a.val()=="km"?"checked":"")});break}c=/^lang:(\w+)/i.exec(b);if(c){var i=a.find("select[name=lang]");i.find("option[value="+c[1]+"]")&&i.val(c[1]);break}d&&f[d-1].match(/OR/i)?e("or",b):e("and",b)}})}else a.find("input[name=q]").val(b||"")},serializeAdvancedForm:function(a){var b=a.serializeArray(),c=[];for(var d in b){var e=b[d],f=jQuery.trim(e.value);if(!f)continue;switch(e.name){case"attd":case"ands":c.push(f);break;case"ors":c.push(f.split(" ").join(" OR "));break;case"phrase":c.push('"'+f+'"');break;case"nots":c.push("-"+f.split(" ").join(" -"));break;case"tag":c.push("#"+f.replace(/#+/g,"").split(" ").join(" OR #"));break;case"from":c.push("from:"+f.replace(/@+/g,"").split(" ").join(" OR from:"));break;case"to":c.push("to:"+f.replace(/@+/g,"").split(" ").join(" OR to:"));break;case"ref":c.push("@"+f.replace(/@+/g,"").split(" ").join(" OR @"));break;case"near":c.push('near:"'+f+'" within:'+a.find("select[name=within]").val()+a.find("input:radio[name=units]:checked").val());break;case"include":c.push("include:retweets");break;case"lang":f!=="all"&&c.push("lang:"+f)}}return c.join(" ")},searchQuerySource:{UNKNOWN:"unknown",TYPED_QUERY:"typed_query",HASHTAG:"hashtag_click",TREND:"trend_click",SAVED_SEARCH:"saved_search_click",TYPEAHEAD:"typeahead_click",SPELLING_CORRECTION:"spelling_correction_click",RELATED_QUERY:"related_query_click"}},a(twttr.search)})}),provide("helpers",function(a){using("_","util","constants","errors").as(function(b,_){twttr.helpers={timeStrings:function(){if(twttr.at("QUnit")||!twttr.helpers.timeStrings.memo)twttr.helpers.timeStrings.memo={words:{longForm:{singular:{now:_("now"),seconds:_("{{one}} second ago"),minutes:_("{{one}} minute ago"),hours:_("{{one}} hour ago"),days:_("{{one}} day ago")},plural:{now:_("now"),seconds:_("{{plural_number}} seconds ago"),minutes:_("{{plural_number}} minutes ago"),hours:_("{{plural_number}} hours ago"),days:_("{{plural_number}} days ago")}},shortForm:{allCounts:{now:_("now"),seconds:_("{{number}}s"),minutes:_("{{number}}m"),hours:_("{{number}}h"),days:_("{{number}}d")}}},dates:{months:[_("Jan"),_("Feb"),_("Mar"),_("Apr"),_("May"),_("Jun"),_("Jul"),_("Aug"),_("Sep"),_("Oct"),_("Nov"),_("Dec")],dates:[_("1st"),_("2nd"),_("3rd"),_("4th"),_("5th"),_("6th"),_("7th"),_("8th"),_("9th"),_("10th"),_("11th"),_("12th"),_("13th"),_("14th"),_("15th"),_("16th"),_("17th"),_("18th"),_("19th"),_("20th"),_("21st"),_("22nd"),_("23rd"),_("24th"),_("25th"),_("26th"),_("27th"),_("28th"),_("29th"),_("30th"),_("31st")]}};return twttr.helpers.timeStrings.memo},resolveHexColor:function(a){function b(a){return parseInt((a+a).slice(0,2),16)}if(!a||!a.match(/^#?([0-9A-F]{6}|[0-9A-F]{3})$/i)||!RegExp.$1)return;return RegExp.$1.match(/(..?)(..?)(..?)/),[b(RegExp.$1),b(RegExp.$2),b(RegExp.$3)]},hexToRGBA:function(a,b){var c=this.resolveHexColor(a);if(!c)return;return c.push(b||"1"),"rgba("+c.join(",")+")"},blendHexColor:function(a,b,c){var d=this.resolveHexColor(a),e=this.resolveHexColor(b),f=1-c;if(!d||!e)return;return twttr.map(d,function(a,b){var d=e[b],g=Math.floor(a*c+d*f);return(g+256).toString(16).slice(1)}).join("").toUpperCase()},sanitizeCssColor:function(a){if(a&&a.match(/^[0-9a-f]{3,6}$/i))return a},parseDateString:function(a){var b=new Date(a);return $.browser.msie&&a&&(b=new Date(Date.parse(a.replace(/( \+)/," UTC$1")))),+b},prettyTime:function(a,b){var c=twttr.helpers.timeStrings(),d=new Date(a),e={year4:d.getFullYear().toString(),year:d.getFullYear().toString().slice(2),month:c.dates.months[d.getMonth()],day:d.getDate(),hours24:d.getHours(),hours12:d.getHours()%12||12,minutes:d.getMinutes().toString().replace(/^(\d)$/,"0$1"),amPm:d.getHours()<12?_("AM"):_("PM"),date:c.dates.dates[d.getDate()-1]};return twttr.isT1&&!b?_("{{hours12}}:{{minutes}} {{amPm}} - {{day}} {{month}} {{year}}",e):_("{{hours12}}:{{minutes}} {{amPm}}, {{month}} {{date}}",e)},timeAgo:function(a,b,c,d){twttr.decider.isExpando()&&!d&&(b=!1);var e=twttr.helpers.timeStrings(),f=e.words[b?"longForm":"shortForm"],g=new Date,i=new Date(a),j=g-i,k=1e3,l=k*60,m=l*60,n=m*24,o=n*7,p,q,r;return isNaN(j)||j<0?"":(j<k*3?(p="",q="now",c=!1):j<l?(p=Math.floor(j/k),q="seconds",c=!1):j<m?(p=Math.floor(j/l),q="minutes",c=!1):j<n?(p=Math.floor(j/m),q="hours",c=!1):j<n*365?r=_("{{date}} {{month}}",{date:i.getDate(),month:e.dates.months[i.getMonth()]}):r=_("{{date}} {{month}} {{year}}",{date:i.getDate(),month:e.dates.months[i.getMonth()],year:i.getFullYear().toString().slice(2),year4:i.getFullYear().toString()}),r||(f.allCounts?f=f.allCounts:p===1?f=f.singular:f=f.plural,r=Mustache.to_html(f[q],{one:p,number:p,plural_number:p})),c&&(r+=" "+_("at {{time}}",{time:i.toTimeString().split(":").slice(0,2).join(":")})),r)},timeAgoRounded:function(a){var b=new Date,c=new Date(a),d=b-c,e=1e3,f=e*60,g=f*60,i=g*24,j=i*7,k=i*30,l=i*365,m;return isNaN(d)||d<0?"":(d<=f*5?m=_("5 minutes"):d<=f*15?m=_("15 minutes"):d<=f*30?m=_("30 minutes"):d<=f*45?m=_("45 minutes"):d<=g?m=_("1 hour"):d<=g*12?m=Math.floor(d/g)+_(" hours"):d<g*24?m=_("over 12 hours"):d<=i*2?m=_("yesterday"):d<=i*14?m=Math.floor(d/i)+_(" days"):d<k?m=_("over 2 weeks"):d<k*2?m=_("over 1 month"):d<k*3?m=_("over 2 months"):d<l?m=_("over 6 months"):d<l*2?m=_("over 1 year"):m=_("over 2 years"),m)},transformProfileImageUrl:function(a,b){if(!twttr.is.string(a))return a;!b&&a.match(/default_profile_\d_normal.png$/)&&(b="bigger");var c=/_normal(\..*)?$/i;return b?a.replace(c,"_"+b+"$1"):a.replace(c,"$1")},isCurrentUser:function(a){return twttr.currentUser?twttr.is.string(a)?twttr.currentUser.screenName===a:twttr.is.object(a)?a.id===twttr.currentUser.id:twttr.currentUser.id===a:!1},isProfileUser:function(){return twttr.profileUser&&twttr.helpers.isCurrentUser(twttr.profileUser)},userNoobLevel:function(a){var c=parseInt(twttr.Router.getCurrentQueryStringParams().nooblevel,10);if(!isNaN(c))return twttr.caches.User.set("noobLevel",c),c;var d=twttr.caches.User.get("noobLevel");if(d<0)return d;var e=b.constants.noob;return a=a||twttr.currentUser,a&&twttr.decider.isAvailable("flock")?a.statusesCount==0?a.followersCount>49?e.notNoob:a.friendsCount===0?a.followersCount?e.invited:e.total:a.followersCount||a.friendsCount>9?e.silent:e.friendless:a.friendsCount>9||a.friendsCount===0&&a.followersCount>49?e.notNoob:a.friendsCount===0?a.followersCount?e.popular:e.talking:a.followersCount?e.struggling:e.lonely:e.notNoob},canViewUser:function(a){return!a["protected"]||a.following||this.isCurrentUser(a)||twttr.is.def(twttr.isAdmin)&&twttr.isAdmin},truncate:function(a,b,c){c=c||"&hellip;";var d=$("<div/>").html(c).text().length;return a.length>b&&(a=a.slice(0,b-d)+c),a},displayUrl:function(){var a=/^www\./;return function(c,d){d=d||16;var e=new b.util.Location(c),f=e.hostname.replace(a,"");e.port!=80&&e.port!=443&&(f+=":"+e.port);var g=e.pathname+e.search+e.hash;return f+twttr.helpers.truncate(g,d,"…")}}(),getUserId:function(a){var b=parseInt(a.attr("data-user-id"),10);return isNaN(b)?0:b},getUserIdentifier:function(a){var b=twttr.helpers.getUserId(a),c=a.attr("data-screen-name");return!b&&!c&&a.attr("hash")&&(c=twttr.router.findMatchingRoute(a.attr("hash")).args.screen_name),b||c},parseEmailAddress:function(a){var c=b.constants.regexps.email.exec(a.replace(/^\s+|\s+$/g,""));return c?c[0]:null},extractEmailAddresses:function(a){return a.indexOf("<")==-1?twttr.filter(twttr.map(a.split(","),twttr.helpers.parseEmailAddress),function(a){return!twttr.is.nil(a)}):[a]},handlePopupLinks:function(a){a.find(".js-popup").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(this);window.open(b.attr("href"),b.attr("name")||"twttr_popup",b.attr("data-popup"))})},addFormEvents:function(a,c,d){d=d||{},a.bind("submit",function(b){if(a.hasClass("submitting")){b.preventDefault();return}if(c){b.preventDefault();var d={};$.each($(this).serializeArray(),function(){d[this.name]?(d[this.name].push||(d[this.name]=[d[this.name]]),d[this.name].push(this.value||"")):d[this.name]=this.value||""}),c.call(this,b,d)}}).bind("keydown keypress",function(c){if(c.ctrlKey||c.which==b.constants.keyCodes.escape)return;c.stopPropagation(),c.which==b.constants.keyCodes.enter&&!$(c.target).is('textarea, [autocomplete="on"]')&&(c.preventDefault(),c.target.blur(),a.submit())}),a.find((d.submitSelector||"div.button.submit")+", .js-submit").attr("tabindex",0).click(function(){a.submit()}),a.find("input:text, textarea").bind("keydown",function(a){if(a.which==b.constants.keyCodes.escape){this.blur();return}}).each(function(){var a=$(this),b=a.attr("placeholder");if(b&&!Modernizr.input.placeholder){var c=!1;a.focus(function(){c&&(a.val(""),c=!1),a.addClass("js-focused").removeClass("js-placeholded placeholded").select()}).blur(function(){!c&&a.val()===""&&(c=!0,a.val(b),a.addClass("js-placeholded placeholded")),a.removeClass("js-focused")}),setTimeout(function(){a.blur()},0)}})},addHoldingInputEvents:function(a){a.find("div.holding, div.placeholding-input").each(function(){var a=$(this),b=a.find("input");a.find("span").click(function(){b.focus()}),b.blur(function(){b.val().length||a.removeClass("hasome")}),b.keydown(function(c){setTimeout(function(){c&&c.keyCode==8||b.val().length?a.addClass("hasome"):a.removeClass("hasome")},0)})}),twttr.helpers._holdingInterval||(twttr.helpers._holdingInterval=window.setInterval(function(){$("form div.holding, form div.placeholding-input").each(function(){var a=$(this),b=a.find("input");b.val()&&b.val().length&&a.addClass("hasome")})},1111))},chainAnimate:function(a,b,c,d){var e=0;(function(){var f=c[e++];if(twttr.is.def(f)){var g={};g[b]=f,a.animate(g,d||100,arguments.callee)}})()},isModifier:function(a){return!!(a.shiftKey||a.metaKey||a.ctrlKey||a.altKey)},isTextOverflowEllipsisSupported:function(){return"textOverflow"in $("<div>")[0].style},ellipsify:function(a,b,c,d,e){if(c){$(a).ellipsis(d,e);return}return twttr.helpers.isTextOverflowEllipsisSupported()?!1:($(a).each(function(){var a=$(this),c;if(a.hasClass("ellipsify-container")){if(!b)return!0;c=a.find("span.ellip-content"),c.length&&a.html(c.html())}a.addClass("ellipsify-container").wrapInner($("<span>").addClass("ellip-content")),c=a.find("span.ellip-content");if(c.width()>a.width()){var d=$('<div class="ellip">&hellip;</div>');a.append(d),c.width(a.width()-d.width()).css("margin-right",d.width())}}),!0)},showErrorFromResponse:function(a,b){return twttr.errors.showErrorFromResponse(a,b)}},a(twttr.helpers)})}),provide("errors",function(a){using("constants").as(function(b){function c(a,b,c){return{regex:a,errorCode:b,requestRegex:c}}var d=[c(/not following/,b.constants.errorCodes.notFollowing),c(/duplicate|already said that/,b.constants.errorCodes.duplicateTweet),c(/malware/,b.constants.errorCodes.malwareTweet),c(/daily|only send so many/,b.constants.errorCodes.dailyLimit),c(/140/,b.constants.errorCodes.tooLongTweet),c(/(this account|User) has been suspended/,b.constants.errorCodes.otherUserSuspended),c(/suspend/,b.constants.errorCodes.suspended),c(/photo/,b.constants.errorCodes.photoTimeout),c(/unable to follow more people/,b.constants.errorCodes.followingLimitReached),c(/blocked from following/,b.constants.errorCodes.blockedFromFollowing),c(/list's name.+25 characters/,b.constants.errorCodes.tooLongListName),c(/list's description.+100 characters/,b.constants.errorCodes.tooLongListDescription),c(/list's name.+start with a letter/,b.constants.errorCodes.noLetterStartListName),c(/Not found/,b.constants.errorCodes.tweetNotFound,/statuses\/retweet/),c(/No status found/,b.constants.errorCodes.tweetNotFound),c(/Not found/,b.constants.errorCodes.userNotFound)];twttr.errors={errorCodeFromResponse:function(a){var c,e,f,g=a.response&&(a.response.error||a.response.errors&&a.response.errors[0].message)||null;if(g)for(c=0,e=d.length;c<e;c++){f=d[c];if(f.regex.test(g)&&(!f.requestRegex||f.requestRegex.test(a.response.request)))return f.errorCode}return a.status===403?b.constants.errorCodes.permission:b.constants.errorCodes.whale},showErrorFromResponse:function(a,b){var c=twttr.errors.errorCodeFromResponse(a);return twttr.errors.showErrorFromCode(c,b)},showErrorFromCode:function(a,b){var c=twttr.errors.getViewForErrorCode(a,b);return twttr.showError(c.html()),a},getViewForErrorCode:function(a,b){var c=twttr.views[a]||twttr.views.DefaultErrorMessage;if(!b||!/^(dm|(re)?tweet|(un)?follow|(un)?block|report|delete|(un)?favorite)$/.test(b))b="generic";var d={};return d["is_"+b]=!0,new c(d)}},a(twttr.errors)})}),provide("viewHelpers",function(a){using("_").as(function(b,_){twttr.viewHelpers={addRelatedTweetsLogging:function(a,b,c){b.subcomponent="related-tweets";var d;if(a&&(d=a.closest(".related-tweets")).length){var e=a.attr("data-tweet-id");b.related_tweet_info={impression_id:d.attr("data-related-impression-id"),group_name:d.attr("data-related-group-name"),annotations:d.attr("data-related-annotations"),tweet_id:e?e:"0"};var f=d.attr("data-ab-data-bucket");if(f){var g={bucket:f,experiment_key:d.attr("data-ab-data-experiment-key"),version:d.attr("data-ab-data-version")};scribble(c,g,"www_ab_testing")}}},addActivityItemLogging:function(a,b,c,d){b.streamType="activity-stream",b.activityId=a.closest(".stream-item").attr("data-item-id")},addExtraLogging:function(a,b,c){var d=a.closest(".stream-tweet"),e=twttr.app.currentPage();twttr.app.isOnPage("search")&&d.is(".stream .stream-tweet")?using([twttr.bundleMore,"components/pages/Search"],function(){twttr.components.pages.Search.addSearchClickLogging(d,b)}):d.is("div.details-pane .related-tweets .stream-tweet")?twttr.viewHelpers.addRelatedTweetsLogging(d,b,c):e.send("getStreamManager",function(a){if(a){var e=a.getCurrent();using([twttr.bundleMore,"streams/ActivityStream"],function(){e instanceof twttr.streams.ActivityStream&&twttr.viewHelpers.addActivityItemLogging(d,b,c,e)})}})}},a(twttr.viewHelpers)})}),provide("components/Base",function(a){using("util").as(function(b){twttr.provide("twttr.components"),twttr.klass.component=function(a,b){return twttr.klass(a,b).subclassOf(twttr.components.Base)},twttr.deprecateAccess(twttr.klass,"component",{replacement:"twttr.klass(...).subclassOf(twttr.components.Base)",now:1313800194870,daysRemaining:30}),$.fn.component=function(){var a=$(this),b=a.parent();return a.data("component")||b.length&&b.component()},twttr.klass("twttr.components.Base",function(){var a=!this.constructor._deciderKey||twttr.decider.isAvailable(this.constructor._deciderKey);this.constructor._baseView&&a?this.$node=(new this.constructor._baseView(this.constructor._baseViewOptions)).$html():this.$node=this.$node||$("<div/>").addClass("component"),this.$node.addClass("component").data("component",this);if(!a){this._decideredOff&&this._decideredOff();return}this.constructor._initializer&&this.constructor._initializer.apply(this,arguments);if(twttr.isT1){var c=this.scribeComponentName;c||this.constructor&&this.constructor._name&&(c=b.util.underscore(this.constructor._name)),c&&this.$node.attr("data-component-term",c)}this.initComponentEvents()}).statics({initializer:function(a){return a._owner=this,this._initializer=a,this},destructor:function(a){return this._destructor=a,this},deciderKey:function(a){return this._deciderKey=a,this},setBaseView:function(a,b){return this._baseView=a,this._baseViewOptions=b,this},setBaseViewOptions:function(a){return this._baseViewOptions=a,this}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).methods({hasRendered:function(){this._hasRendered=!0,!this.noSpacer&&!twttr.isT1&&this.$node.append("<hr class='component-spacer' />")},$find:function(){return this.$node.find.apply(this.$node,arguments)},_superInitializer:function(){var a=arguments.callee.caller._owner;if(a){var b=a.uberclass._initializer;b&&b.apply(this,arguments)}},destroy:function(){this.constructor._destructor&&this.constructor._destructor.apply(this),this.$node.remove(),this.trigger("destroyed"),this._boundEvents&&(twttr.each(this._boundEvents,function(a){a.obj.unbind(a.name,a.cb)}),this._boundEvents=[]),this.unbind()},_registerEvent:function(a,b,c){this._boundEvents||(this._boundEvents=[]),a.bind(b,c),this._boundEvents.push({obj:a,name:b,cb:c})}}),a(twttr.components.Base)})}),provide("idleDetector",function(a){function i(){var a=(new Date).getTime();!d&&a-e>b&&($(document).trigger("inactive"),clearInterval(f),d=!0)}function j(){$(document).off(".idleDetect"),clearInterval(f),e=(new Date).getTime(),setTimeout(k,c),d&&($(document).trigger("active"),d=!1)}function k(){e=(new Date).getTime(),f=setInterval(i,c),$(document).on(g,j)}function l(){d=!0,$(document).off(".idleDetect"),clearInterval(f)}function m(a){return a=$.extend({},{wait:3e5,heartBeat:1e3},a),b=a.wait,c=a.heartBeat,k(),{deactivate:l}}var b,c,d=!0,e=0,f=0,g="mousemove.idleDetect keydown.idleDetect DOMMouseScroll.idleDetect mousewheel.idleDetect mousedown.idleDetect touchstart.idleDetect touchmove.idleDetect";a(m)}),provide("interface",function(a){using("_","util","constants").as(function(b,_){twttr.klass("twttr.Interface").mixin(twttr.mixins.i18nTweetBox).methods({enableRtl:function(){twttr.i18n.rtl=!0,document.body.dir="rtl"},setup:function(){$(document).delegate("a[data-send-impression-cookie]","click",function(a){var b=a.currentTarget;if(!b||b.hostname!=window.location.hostname||!b.pathname||b.pathname.indexOf("/#!/")==0)return;var c=$(b),d=c.closest("[data-impression-cookie]").attr("data-impression-cookie");if(!d)return;var e=new Date,f=6e4,g=new Date(e.getTime()+f);$.cookie("ic",d,{expires:g})}),$("a[href$='#']").live("click",function(a){a.preventDefault()}),$(".user-profile-link").live("click",twttr.scribbles.logViewProfileDetails),$("a[href^='/']").live("click",function(a){if(a.which==1&&!a.metaKey&&!a.shiftKey){var b=$(this),c=b.attr("href"),d=b.attr("target");twttr.search.setLastQuerySource(twttr.isT1?$(a.currentTarget).data("query-source"):null);if(d&&twttr.router.shouldRedirectTo(c))return;return twttr.router.routeTo(c),a.preventDefault(),!1}}),twttr.isT1&&twttr.i18n&&$("body").hasClass("rtl")&&this.enableRtl(),$("li.user-thumb-list-member img").tipsy({live:!0,gravity:"s"}),twttr.isT1?($("div.promoted-account a.js-promoted-badge, div.promoted-account small.js-disclosure, div.promoted-tweet span.js-disclosure").tipsy({live:!0,gravity:"n",delayIn:500}),$("li.promoted-trend span.js-disclosure").tipsy({live:!0,gravity:"s",delayIn:500})):($("div.promoted-account a.icon-link, div.promoted-tweet a.icon-link, li.promoted-account a.icon-link").tipsy({live:!0,gravity:"n",delayIn:500}),$("li.promoted-trend span.icon-link").tipsy({live:!0,gravity:"s",delayIn:500}),$("form.js-search-form .js-search-action").click(function(a){$("form.js-search-form").submit()})),$("div.tweet a.twitter-timeline-link").live("mousedown",function(){var a=$(this),b={};a.is("div.dashboard a")?b.component="dashboard":a.is("div.details-pane a")?b.component="details-pane":a.is(".stream-tweet a")?b.component="stream":a.is(".twttr-dialog a")&&(b.component="dialog",b.dialog_type=a.closest(".twttr-dialog").attr("type")),twttr.viewHelpers.addExtraLogging(a,b,"tweet-link"),b.tweet_id=a.closest(".tweet").attr("data-tweet-id"),b.input="click",b.href=a.attr("href"),b.text=a.text(),scribble("tweet-link",b)}),$("a.media-attribution-link").live("mousedown",function(a){scribble("follow-attribution-link",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})}),$("a.inline-media-image").live("mousedown",function(a){scribble("open-inline-media-photo",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})}),$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(a){a.stopPropagation(),a.preventDefault(),using([twttr.bundleMore,"widget/TweetDialog"],function(){(new twttr.widget.TweetDialog({draggable:!0,template:{title:_("What&#8217;s happening?")},enableDraft:"global-tweetbox",origin:"new-tweet-titlebar-button"})).open().focus()})}).tipsy({gravity:"n",offset:6}),twttr.helpers.ellipsify($("#screen-name")),$("a.js-close-all-tweets").click(function(){$(".tipsy").remove(),twttr.app.currentPage().send("closeAllTweets")}).tipsy({gravity:"ne",delayIn:500}),$("form.js-search-form").submit(function(a){var b=$("#search-query");b.val()&&(twttr.search.setLastQuerySource(twttr.search.searchQuerySource.TYPED_QUERY),twttr.search.doSearch()),a.preventDefault()}),$("#message-drawer").delegate(".dismiss","click",function(){return twttr.views.MessageDrawer.close(),!1}),$("#message-drawer").delegate(".js-reload","click",function(){return window.location.reload(),!1}),$("a.js-signout-button").click(function(a){a.preventDefault(),twttr.cache.LocalProvider.clearAll(),window.localStorage&&localStorage.clear(),trackClient({component:"topnav",action:"logout"}),twttr.decider.isAvailable("scribe_logout_reliability_events")&&($("#signout-form .js-reliability-event").attr("value","true"),trackClient({page:"logout",section:"reliability",component:"client",action:"impression"})),$("#signout-form").submit()}),$("a.back-to-top").live("click",function(a){return $(window).scrollTop(0),a.preventDefault(),!1}),$("a.sms-codes-link").live("click",function(a){twttr.dialogs.smsCodes().open()}),$("a.use-old-twitter").live("click",function(a){$.cookie("phx_seen_dialog-"+twttr.currentUser.id,null)}),twttr.isT1||$(".contributor-account-link").each(function(a){var b=$(this),c=b.attr("data-profile-image-url");c&&(window.location.protocol==="https:"&&twttr.cdnBase&&(c=twttr.assets.getPathFromAbsoluteURL(c,{isSSL:!0,isVersioned:!1})),b.find("img").attr("src",c))});var a=this;$("#search-query").bind("keyup keypress keydown",function(b){if(b.ctrlKey)return;a.markPunctuation(b,$(this)),b.stopPropagation()});var c=parseInt(b.util.params($.cookie("twll")).l,10)||0;twttr.verifySession=function(){var a=parseInt(b.util.params($.cookie("twll")).l,10)||0;a!==c&&window.location.reload(!0)},window.setInterval(function(){twttr.verifySession()},b.constants.sessionPollInterval),$.browser.msie?document.onfocusout=function(){twttr.verifySession(),twttr.externalURLStore.scribeFocusAfterClick()}:$(window).focus(function(){twttr.verifySession(),twttr.externalURLStore.scribeFocusAfterClick()}),$(window).scrollTop(0)}}),twttr["interface"]=new twttr.Interface,a(twttr["interface"])})}),provide("run/topbarDropdown",function(a){using().as(function(b){function c(){if(twttr.loggedIn&&twttr.decider.isAvailable("api_verify_credentials_counts")){var a=$(".dropdown-menu li[data-name='lists']"),b=twttr.currentUser.counts.lists,c=function(){twttr.currentUser.hasLists()||a.hide()};c(),twttr.API.List.bind("create follow",function(c){c.type=="create"?b.owned+=1:b.subscribed+=1,a.show()}),twttr.API.List.bind("delete unfollow",function(a){a.type=="delete"?b.owned-=1:b.subscribed-=1,c()})}}$(document).ready(function(){function b(){return twttr.app&&twttr.app.isOnPage("login")}var a=$(".js-session"),d=twttr.isT1?"open":"active";a.click(function(){b()?twttr.router.routeTo(twttr.router.signupPath()):(a.toggleClass(d),!twttr.loggedIn&&a.hasClass(d)&&a.find(".username input").focus())}),$(document).bind("click",function(b){var c=a.get(0);c&&b.target!==c&&!$.contains(c,b.target)&&a.removeClass(d)}).bind("keydown",function(b){b.keyCode===27&&a.removeClass(d)});if(twttr.isT1){var e=$("li.js-language-dropdown");e.click(function(a){e.toggleClass("open"),a.preventDefault()}),e.find(".js-language-link").bind("click",function(a){var b=e.find("form");b.find('input[name="lang"]').val($(this).attr("data-lang-code")),b.find('input[name="redirect"]').val(window.location.href),b.submit(),a.preventDefault(),a.stopPropagation()});var f=$("li.js-country-dropdown");f.click(function(a){f.toggleClass("open"),a.preventDefault()}),f.find(".js-country-link").bind("click",function(a){var b=$(this);twttr.countryCode=b.attr("data-country-code"),$.cookie("co",twttr.countryCode,{domain:".twitter.com",path:"/",expires:3650}),a.preventDefault(),a.stopPropagation(),location.reload()}),$("a.js-dm-dialog").click(function(b){using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(a,b){(new b).open()}),a.removeClass(d),b.stopPropagation(),b.preventDefault()}),$(document).bind("click",function(a){var b=e.get(0);b&&a.target!==b&&!$.contains(b,a.target)&&e.removeClass(d);var c=f.get(0);c&&a.target!==c&&!$.contains(c,a.target)&&f.removeClass(d)}).bind("keydown",function(a){a.keyCode===27&&e.removeClass(d)}),c()}if(!twttr.loggedIn){$("#session > a").attr("href","#");var g=$("#signin-dropdown form"),i=g.find("input");g.bind("click",function(a){a.stopPropagation()}),g.bind("submit",function(a){if(twttr.app){var b=twttr.app.isOnPage("mobile_gallery")?"/":twttr.Router.getCurrentPath();$(this).find("input[name=redirect_after_login]").val(b)}}),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&i.each(function(){if(this.type.match(/text|password/)){var a=$(this);a.clone().appendTo(a.parent()),a.remove()}}),twttr.helpers&&twttr.helpers.addFormEvents(g),i.bind("focus",function(){b()?twttr.app.currentPage().$find(".username input").focus():a.addClass(d)})}}),a()})}),provide("tco",function(a){using().as(function(b){twttr.app.waitForSignal("init",function(){$(document.body).bind("copy",twttr.bind(twttr.tco,twttr.tco.onCopy)),$(document.body).bind("aftercopy",twttr.bind(twttr.tco,twttr.tco.onAfterCopy))}),twttr.provide("twttr.tco"),twttr.tco={shouldRefreshSelection:function(){return!$.browser.msie},onCopy:function(a){var b=twttr.tco.getSelection(),c;this.shouldRefreshSelection()&&(c=this.getCurrentRange());var d=b.anchorNode?twttr.tco.nearestCommonAncestor(b.anchorNode,b.focusNode):a.target;if(!this.displayToTco(d))return;window.setTimeout(function(){$(document.body).trigger("aftercopy",[d,c])},0)},linksForTarget:function(a){var b=$(a).find("a.twitter-timeline-link");return a.tagName.toLowerCase()==="a"&&b.push(a),b},nearestCommonAncestor:function(a,b){if(a==b)return a.parentNode;var c=$.makeArray($(a).parents()).reverse().concat(a),d=$.makeArray($(b).parents()).reverse().concat(b),e=0;while(c[e]==d[e])e++;return c[e-1]},isFirstChild:function(a,b){while(a!=b){if(a!=a.parentNode.childNodes[0])return!1;a=a.parentNode}return!0},isLastChild:function(a,b){while(a!=b){var c=a.parentNode.childNodes;if(a!=c[c.length-1])return!1;a=a.parentNode}return!0},displayToTco:function(a){var b=this,c=!1,d=twttr.tco.getCurrentRange(),e=d.focusNode?$(d.focusNode).text().length:undefined,f=twttr.tco.linksForTarget(a);return $(f).each(function(a,f){var g=$(f),i=g.attr("data-expanded-url");if(!i)return;var j=d.focusNode&&!!$(f).has(d.focusNode).length;if(j){var k=twttr.tco.isFirstChild(d.focusNode,f),l=twttr.tco.isLastChild(d.focusNode,f),m=k&&d.focusOffset==0||l&&d.focusOffset==e;if(!m)return!1}g.text().indexOf("pic.twitter.com/")===0&&(i=g.attr("href").replace(/t\.co/,"pic.twitter.com")),g.data("original-child-nodes",$.map(f.childNodes,function(a){return a})),g.empty(),g.text(i),j&&d.focusOffset>0&&b.adjustTextSelectionEndpoint(),c=!0}),c},tcoToDisplay:function(a){var b=twttr.tco.linksForTarget(a);$(b).each(function(a,b){var c=$(b),d=c.data("original-child-nodes");d&&(c.empty().append(d),c.data("original-child-nodes",null))})},getCurrentRange:function(){var a=twttr.tco.getSelection();return{anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}},onAfterCopy:function(a,b,c){this.tcoToDisplay(b),c&&this.updateSelection(c)},adjustTextSelectionEndpoint:function(){var a=twttr.tco.getSelection(),b=document.createRange(),c=a.focusNode.nodeType==3?a.focusNode.length:a.focusNode.childNodes.length;b.setStart(a.anchorNode,a.anchorOffset),b.setEnd(a.focusNode,c),a.removeAllRanges(),a.addRange(b)},getSelection:function(){return window.getSelection?window.getSelection():document.selection.createRange()},updateSelection:function(a){var b=twttr.tco.getSelection(),c=document.createRange();c.setStart(a.anchorNode,a.anchorOffset),c.setEnd(a.focusNode,a.focusOffset),c.startOffset===c.endOffset&&c.anchorNode===c.focusNode&&c.anchorNode!==a.anchorNode&&c.focusNode!==a.focusNode&&(c.setStart(a.focusNode,a.focusOffset),c.setEnd(a.anchorNode,a.anchorOffset)),b.removeAllRanges(),b.addRange(c)}},a(twttr.tco)})}),provide("streams/TweetStream",function(a){using().as(function(b){var c={ACTIVE:3e4,INACTIVE:9e4},d=c.ACTIVE;$(window).focus(function(){d=c.ACTIVE}),$(window).blur(function(){d=c.INACTIVE}),twttr.tweetStream=function(a,b){b||(b=function(){twttr.streams.TweetStream.apply(this,arguments)});var c=twttr.stream(a,b);return c.subclassOf(twttr.streams.TweetStream),c.prototype._updateMethod=function(){},c.update=function(a){return this.prototype._updateMethod=a,this},c.every=function(a){return this.prototype._interval=a*1e3,this},c.setTitle=function(a){return this.prototype._setTitle=a,this},c.deciderKey=function(a){return c._deciderKey=a,c},c.pollingDeciderKey=function(a){return c._pollingDeciderKey=a,c},c},twttr.klass("twttr.streams.TweetStream",function(){var a=this;twttr.streams.Stream.apply(this,arguments),twttr.API.User.bind("block",function(b,c){a.blockTweetsBy(c)}),twttr.API.User.bind("unblock",function(b,c){a.blockTweetsBy(c,!0)}),this.bind("didTweet",function(b,c){a.fetchTweets(function(a){a.render()})}),this.registerTweetActionEvents(),this.registerUserActionEvents(),this.updateI18nDisplay(),this.periodicUpdater=null,this.scribbler=twttr.Scribbler.clientEvent}).subclassOf(twttr.streams.Stream).mixin(twttr.mixins.tweetActionable,twttr.mixins.i18nTweet,twttr.mixins.userActionable,twttr.mixins.promotedTweetStream,twttr.mixins.streamablePageWithInlineMedia).methods(twttr.EventProvider).methods({itemViewClass:"StreamTweet",streamItemType:"tweet",_expandable:!0}).methods({_fetchCount:function(){},_fetchMoreCount:function(){return 20},convertToStatus:function(a){return new twttr.API.Status(a)},afterFirstSwitchingTo:function(a){var b=this,c=new Date;this._attachedTweetBarEvent||(this._attachedTweetBarEvent=!0,this.dom().delegate(".js-new-tweets-bar","click",function(){b._showNewItems()})),this.startPeriodicFetcher(),this._loadedStreamOnce=!0;if(this.preRendered){twttr.bootTimings&&(twttr.bootTimings.add("tweets_visible",twttr.tweetsVisibleTime),twttr.bootTimings.done()),$(this.streamManagerDomNodeSelector).find("div.stream-end").length==1&&(this._alreadyMarkedEnd=!0),this.items=[],this.itemIds={};var d=this.$node.find("div.js-stream-tweet, div.stream-tweet"),e=twttr.promotedTweetStore.getTweetInfo();storedPromotedTweetId=null,e&&e.data.promoted_status?storedPromotedTweetId=e.data.promoted_status.id_str:e&&(storedPromotedTweetId=e.data.id_str),d.each(function(a,c){var f=$(c),g,i,j,k,l,m,n;g=JSON.parse(f.attr("data-status"));if(storedPromotedTweetId===g.id_str){g=e.data,i=g.promoted_content.impression_id,f.attr("data-impression-id",i);var o=g.id_str+"-promoted";f.parent().attr("data-item-id",o).attr("id","stream-item-tweet-"+o)}else f.attr("data-impression-id")&&(k=d[a+1],k&&(l=$(k).attr("data-tweet-id"),j=!!f.find("i.badge-political").length,twttr.promotedTweetStore.setTweetInfo(l,g,j)));n=b.convertToStatus(g),m=new twttr.views.StreamTweet(n),m.wakeUp(),b.items.push(n),b.markAsRendered(n)}),this.items.length==0&&(this.noMoreOldItems=!0),this.updateI18nDisplay(),this.wokeUp(),this.onGotInitialResults(this.items),this._updateSinceId(this.items),this.logPromotedImpressions(this.items),this.addInlineMediaIcons(this.$node,function(){b._scribeTweetImpressions()}),using(">allCodeLoaded",function(){b.addActivityByFriendsToTweets(b.items)})}else this.isLoadingMore(),this.fetchTweets(!0,function(c,d){c.render(),twttr.tweetsVisibleTime||(twttr.tweetsVisibleTime=new Date),twttr.bootTimings&&(twttr.bootTimings.add("tweets_visible"),twttr.bootTimings.done()),twttr.util.params().show_time&&twttr.showMessage("Stream loaded at "+(+(new Date)-document.startTime)/1e3+"s"),c.doneLoadingMore(),d!==twttr.streams.SUCCESS?b._showError(d):b.fetchUntilScreenIsFull(),a?a():$.noop,b._scribeTweetImpressions()})},fetchUntilScreenIsFull:function(){var a=this;!this.noMoreOldItems&&this._isInDOM()&&this._shorterThanWindow()&&this.getMoreOldItems(function(b,c){c!==twttr.streams.SUCCESS?a._showError(c):a.fetchUntilScreenIsFull()})},_isInDOM:function(){return jQuery.contains(document.body,this.$node[0])},_shorterThanWindow:function(){return this.$node.height()<twttr.windowHeight},afterSwitchingToAgain:function(a){this.fetchTweets(twttr.bind(this,function(b){var c=this.newItemsCount;this.newItemsCount>0&&this._showNewItems(),this.restartFetcher();if(!twttr.isT1){var d=this.getFirstItem();this.highlightItem(d)}a?a():$.noop}))},_getStreamWhaleText:function(){return _("Loading Tweets seems to be taking a while.")},streamItemId:function(a){return a.impressionId?a.id+"-promoted":a.id},blockTweetsBy:function(a,b){var c=this.constructor._name==="User"&&this.screenName===a.screenName,d=this.constructor._name==="Search";if(c||d)return;var e=this.$find('.stream-item [data-screen-name="'+a.screenName+'"]').parent();e[b?"addClass":"removeClass"]("blocked")},onTweetActionDelete:function(a){this.remove(a);for(var b=0;b<this.items.length;b++)this.items[b].id===a&&this.items.splice(b,1)},onTweetActionHide:function(a){this.selectedItem(a).hide()},onTweetActionShow:function(a){this.selectedItem(a).show()},beforeShowNewItems:function(){var a;this.keepPromotedTweetsAtTop?a=this.$find(".js-original-tweet:not(.promoted-tweet)").first().closest(".js-stream-item"):a=this.$find(".js-stream-item").first(),this.$find(".last-new-tweet").removeClass("last-new-tweet"),a.addClass("first-old-tweet");if(a.hasClass("expanding-stream-item")){var b=a.css("margin-bottom");b&&a.css("margin-top",b)}},separateOldAndNewTweets:function(){var a=this.$find(".first-old-tweet").removeClass("first-old-tweet").first(),b=a.prev().addClass("last-new-tweet");a.is(".expanding-stream-item.open")&&b.addClass("before-expanded")},onShowNewItems:function(a){this.updateI18nDisplay();var b=this;this.addInlineMediaIcons(a,function(){b._scribeTweetImpressions()}),this.separateOldAndNewTweets(),this.$find(".js-new-tweets-bar").remove()},onShowOldItems:function(a){this.updateI18nDisplay();var b=this;this.addInlineMediaIcons(a,function(){b._scribeTweetImpressions()})},addActivityByFriendsToTweets:function(a){if(!twttr.currentUser||!twttr.decider.isActivityEnabled()||!twttr.decider.isAvailable("activity_social_context"))return;var b=this,c={},d={};return $.each(a,function(a,b){c[b.id]={retweeters:[],favoriters:[]},b.wasRetweeted&&(c[b.id].retweeters.push(b.retweetingStatus.user),d[b.retweetingStatus.user.id]=!0)}),this.activityByFriendIntersection(a,c,d)},activityByFriendIntersection:function(a,b,c){var d=this;this.loadFriends(function(e){var f={},g={};$.each(a,function(a,b){if(!b.activities)return;$.each(b.activities.favoriters,function(a,c){if(!e[c])return;g[c]||(g[c]=[]),g[c].push(b.id)}),$.each(b.activities.retweeters,function(a,d){if(!e[d]||c[d])return;f[d]||(f[d]=[]),f[d].push(b.id)})});var i=twttr.util.arrayUniq(twttr.util.objKeys(g).concat(twttr.util.objKeys(f))).slice(0,twttr.constants.users.maxLookupSize);twttr.API.User.findAll(i,{stringifiedIds:!0,success:function(a){a.each(function(a){faves=g[a.id],retweets=f[a.id],faves&&$.each(faves,function(c,d){b[d].favoriters.push(a)}),retweets&&$.each(retweets,function(c,d){b[d].retweeters.push(a)})}),d.appendActivities(b)},error:function(){d.appendActivities(b)}})})},appendActivities:function(a){for(tweetId in a){var b=a[tweetId],c=this.$node.find(".stream-item[data-item-id='"+tweetId+"']");b.retweeters.length&&(new twttr.views.StreamActivity({items:b.retweeters,item_type:"retweets"})).render(c.find(".tweet-activity-retweets"),"html"),!b.retweeters.length&&b.favoriters.length&&(new twttr.views.StreamActivity({items:b.favoriters,item_type:"favorites"})).render(c.find(".tweet-activity-favorites"),"html")}},loadFriends:function(){var a;return function(b){if(a)return b(a);twttr.currentUser.friendIds(function(c){a=twttr.inject(c,{},function(a,b,c){return a[c]=!0,a}),b(a)})}}(),onGotInitialResults:function(a){var b=a.slice(this.newItemsCount);twttr.streams.Stream.prototype.onGotInitialResults.apply(this,arguments),this.addActivityByFriendsToTweets(b)},onGotNewItems:function(a){twttr.streams.Stream.prototype.onGotNewItems.apply(this,arguments),this.addActivityByFriendsToTweets(a)},onGotOldItems:function(a){twttr.streams.Stream.prototype.onGotOldItems.apply(this,arguments),this.addActivityByFriendsToTweets(a)},_scribeTweetImpressions:function(){var a=this;twttr.abdecider.chooseWithoutImpression("tweet_anatomy_2_231")&&a.$node.find("div.js-stream-tweet").each(function(b,c){c=$(c),c.height()&&a._itemDetailsScribe("impression","tweet",c)})},_scribeResults:function(a,b,c){this._scribeEmptyResults(a,b,c);if(b.length){var d=[],e;twttr.each(b,function(a,b){var c;d.push(a.id),a.isPromoted&&a.isPromoted()?c={item_type:twttr.constants.clientEvent.itemType.promotedTweet,item_token:a.impressionId}:a.resultCategory=="popular"&&(c={item_type:twttr.constants.clientEvent.itemType.popularTweet}),c&&(e=e||{},c.item_position=b,e[a.id]=c)}),this.scribbler.scribe({component:"stream",action:"results"},{item_ids:d,item_count:d.length,event_value:d.length,cursor_or_page:this._sinceId,item_details:e,referring_event:a})}},beforeSwitchingAway:function(){this.stopPeriodicFetcher(),this.trigger("switchingAway")},_fetchItems:function(a){this.fetchTweets(!0,a)},fetchTweets:function(a,b,c){twttr.is.fn(a)&&(c=b,b=a,a=!1);if(this.preRendered&&this._alreadyMarkedEnd){b(this,twttr.streams.SUCCESS);return}if(!twttr.decider.isAvailable("tweet_streams")||this.constructor._deciderKey&&!twttr.decider.isAvailable(this.constructor._deciderKey)){b(this,twttr.streams.DECIDER);return}var d=this,e=twttr.audit.trail(),f=a?this._optionsForOld(b):this._optionsForNew(b);c=c||{},f=twttr.merge(c,f),twttr.decider.isAvailable("platform_enable_cards")&&(f.include_cards=1),f.include_entities=1,f.include_available_features=1,f.contributor_details=!e[1]||e[1].page!=="welcome",this._updateMethod(f,this.params,b)},_idForTweet:function(a){return a.wasRetweeted?a.retweetingStatus.id:a.id},_optionsForNew:function(a){var b=this,c={success:function(c){c instanceof twttr.API.util.BaseCollection&&(c=c.array),c=b.cleanStream(c);var d=!b.items.length;b.unshift(c),b._updateSinceId(c),d&&b.items.length&&b.switchEndOfStreamMarker(),a&&a(b,twttr.streams.SUCCESS)},error:function(c){c.status===502?a(b,twttr.streams.WHALE):a(b,twttr.streams.ERROR),b._scribeResults("error",[],{status_code:c.status})}};return this.items.length&&(c.since_id=this._sinceId),c},_updateSinceId:function(a){twttr.is.array(a)||(a=Array.prototype.slice.call(arguments));for(var b=0;b<a.length;b++){var c=a[b],d=this._idForTweet(c);if(!c.isPromoted()&&c.resultCategory!=="popular"){twttr.natcompare(d,this._sinceId||"0")>0&&(this._sinceId=d);return}}},_streamMaxId:function(){for(var a=this.items.length-1;a>=0;a--)if(!this.items[a].isPromoted())return this._idForTweet(this.items[a])},cleanStream:function(a){return a=this._filterMutedUsers(a),a=this._filterDeletedTweets(a),a=this._filterOutRetweets(a),a},_filterOutRetweets:function(a){return twttr.currentUser?twttr.filter(a,function(a){return a.wasRetweeted?a:a}):a},_filterMutedUsers:function(a){twttr.decider.isAvailable("muteUsers")||a;if(twttr.currentUser&&this.constructor._name=="Home"){var b=twttr.caches.User.get("muted");a=twttr.filter(a,function(a){if(!twttr.is.def(b)||a.wasRetweeted&&!twttr.is.def(b[a.retweetingStatus.user.id])||!a.wasRetweeted&&!twttr.is.def(b[a.user.id]))return a})}return a},_filterDeletedTweets:function(a){return twttr.filter(a,function(a){if(!twttr.app.caches.deletedTweets.get(a.id))return a})},_optionsForOld:function(a){var b=this,c={success:function(d){d instanceof twttr.API.util.BaseCollection&&(d=d.array),c.max_id&&(d=twttr.filter(d,function(a){return a.id!==c.max_id})),d=b.cleanStream(d),b.push(d),b._updateSinceId(d),d.length||b.reachedTheEnd(),a&&a(b,twttr.streams.SUCCESS)},error:function(c){c.status===502?a(b,twttr.streams.WHALE):a(b,twttr.streams.ERROR)},timeout:function(a){a.retry()},cancel:function(){a(b,twttr.streams.TIMEOUT)}};return this.items.length?(c.max_id=this._streamMaxId(),c.count=this._fetchMoreCount()+1):this._fetchCount()&&(c.count=this._fetchCount()),c},_getInterval:function(){return d},startPeriodicFetcher:function(){if(this.periodicUpdater||!twttr.decider.isAvailable("tweet_streams_polling")||this.constructor._pollingDeciderKey&&!twttr.decider.isAvailable(this.constructor._pollingDeciderKey))return;this.periodicUpdater=setTimeout(twttr.bind(this,this.fetchNewTweetsThenPoll),this._getInterval())},fetchNewTweetsThenPoll:function(){var a={headers:{"X-Twitter-Polling":!0}};this.fetchTweets(twttr.bind(this,function(a){var b=a.newItemsCount;b>0&&(this.showNewTweetsBar(b),this.trigger("newTweets",[a,b]))}),a),this.restartFetcher()},stopPeriodicFetcher:function(){this.periodicUpdater&&(clearTimeout(this.periodicUpdater),this.periodicUpdater=null)},restartFetcher:function(){this.stopPeriodicFetcher(),this.startPeriodicFetcher()},addInlineMediaIcons:function(a,b){using([twttr.bundleMore,"media/Iconifier"],function(){new twttr.media.Iconifier(a,b)}),using([twttr.bundleMore,"stork"],function(){if(a){var b=a.find(".js-stream-items");b.length||(b=a.closest(".js-stream-items")),twttr.stork.storkifyTweets(b)}})},showNewTweetsBar:function(a){var b=this.$find(".js-new-tweets-bar"),c=(new twttr.views.NewTweetsBar({count:a,is_tweet:!0})).$html();b.length>0?(twttr.isT1?b.parent():b).replaceWith(c):c.hide().prependTo(this.dom()).slideDown()},screen_name:function(){return this.params.screenName},_getUserStreamErrorComponent:function(a){return this.wokeUp(),a===twttr.streams.PROTECTED?new twttr.components.ProtectedUser({screen_name:this.params.screenName}):this.constructor.uber._getStreamErrorComponent.apply(this,arguments)},wokeUp:function(){signal(">wokeUp")}}),a(twttr.streams.TweetStream)})}),provide("streams/Home",function(a){using().as(function(b){twttr.tweetStream("twttr.streams.Home",function(){var a=this;twttr.streams.TweetStream.apply(this,arguments),this.unbind("didTweet"),this.bind("didTweet",function(b,c){a.fetchTweets(function(b,d){if(d!=twttr.streams.WHALE&&d!=twttr.streams.ERROR){a.insertTweetIfNotPresent(c);var e=a.$node.find(".js-stream-item:first"),f=e.length>0,g=f&&e.position().top;b._showNewItems("insert");if(f){var i=e.position().top,j=twttr.$win.scrollTop();$("html, body").scrollTop(j+(i-g))}b._showOldItems(!0)}})})}).update(function(a,b,c){a.pc=!0,twttr.currentUser.homeTimeline(a)}).methods({onShowNewItems:function(a){this.constructor.uber.onShowNewItems.apply(this,arguments),this.logPromotedImpressions(this.items.slice(0,this.newItemsCount))},onShowOldItems:function(a){this.constructor.uber.onShowOldItems.apply(this,arguments),this.logPromotedImpressions(this.items.slice(this.items.length-this.oldItemsCount)),twttr.streams.Home.scribeTweetDensity&&(this._scribeTweetDensity(a),twttr.streams.Home.scribeTweetDensity=!1)},_scribeTweetDensity:function(a){var b=a.find(".js-stream-tweet"),c={};if(b.length<10)return;for(var d=0;d<10;++d){var e=b.eq(d),f=e.attr("data-user-id");c[f]?c[f]++:c[f]=1}var g=0,i=null,j=0,k=0;$.each(c,function(a,b){b>g&&(g=b,i=a),j+=b*(b-1);var c=b/10;k+=c*Math.log(1/c)});var l=1-j/90;k/=Math.log(10),scribble("welcome-timeline-stats",{density:g,density_leader:i,diversity:l,entropy:k})},_fetchCount:function(){return null},_fetchMoreCount:function(){return 20},_getStreamEndComponent:function(){return this.constructor.uber._getStreamEndComponent.apply(this,arguments)},insertTweetIfNotPresent:function(a){a instanceof twttr.API.Status||(a=new twttr.API.Status(a));var b=this.cleanStream([a]);if(b&&!this.hasTweet(a)){var c=this.insertionIndexOfTweet(a);this.splice(c,b),this.newItemsCount++,c==0&&this._updateSinceId(b),this.onInsertItems(b)}},hasTweet:function(a){for(var b=0,c=this.items.length;b<c;b++)if(this.items[b].id==a.id)return!0;return!1},insertionIndexOfTweet:function(a){for(var b=0,c=this.items.length;b<c;b++)if(!this.items[b].isPromoted()){var d=a.id,e=this.items[b].id;if(twttr.natcompare(d,e)>=0)return b}return b}}).deciderKey("tweet_stream_home").pollingDeciderKey("tweet_stream_home_polling"),twttr.isT1?twttr.streams.Home.methods({_setTitle:function(a){a(_("Tweets"))},_getEmptyStreamHtml:function(){return(new twttr.views.EmptyTimelineMessage).html()}}):twttr.streams.Home.methods({_getEmptyStreamComponent:function(){var a=new twttr.components.EmptyHome,b="newItemsCountChanged.EmptyHomeComponent",c=this;return this.bind(b,function(d,e){!e&&!c.isEmpty()&&(a.destroy(),c.unbind(b),c._alreadyMarkedEnd=!1,c.markStreamEnd())}),a}}),a()})}),provide("streams/StreamManager",function(a){using("_","mixins/serverRenderableObject").as(function(b,_,c){var d=twttr.klass("twttr.streams.StreamManager",function(a,b){var c=this,d="";if(a){var e=a+"-stream-manager";d=' id="'+e+'"',this.domNodeSelector="#"+e}this.$node=this.$domNode('<div class="js-stream-manager" '+d+'><div class="stream-title"></div><div class="stream-container"></div></div>'),this.$page=b||$(),twttr.decider.isInfiniteScroll()||(this.$moreButton=(new twttr.views.MoreButton).$html().appendTo(this.$node).click(function(a){c.getMoreOldItems(function(a){scribble("stream-more-button",{page:a._cacheKey,stream:a._cacheKey,focused_tweet_id:a.focusedItemId||""})}),a.stopPropagation(),a.preventDefault()})),this.resetCache(),twttr.loggedIn&&(twttr.decider.isAvailable("route_timing")||twttr.util.params().routetimer)&&(c.bind("switchingToStream didNotSwitch",function(a,b){twttr.RouteTimer.streamSwitch(b)}),c.bind("afterSwitchingTo",function(a,b,c){twttr.RouteTimer.streamAfterSwitch(b,c)})),window.ttft&&c.bind("afterSwitchingTo",function(){window.ttft.clientRendered(twttr.app.currentPageName())})}).statics({cacheKeyForStream:function(a){return a._cacheKey},cacheKeyForStreamClass:function(a,b){var c=a._name;if(b&&!$.isEmptyObject(b)){var d=twttr.filter(b,function(a,b){return!twttr.is.fn(b)&&!twttr.is.object(b)});c+=JSON.stringify(d)}return encodeURIComponent(c)}}).methods(twttr.EventProvider).mixin(c).methods({$find:function(){return this.$node.find.apply(this.$node,arguments)},getCurrent:function(){return this.streams.current},setCurrent:function(a){this.streams.current=a},getStream:function(a,b){var c=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b);return this.streams[c]},onSwitchAway:function(){var a=this.getCurrent();a&&a.beforeSwitchingAway()},switchOut:function(){var a=this.getCurrent();a&&(a.beforeSwitchingAway(),a.dom().detach()),this.$headerContainer().empty(),this.titleContainer().empty()},switchTo:function(a,b,c){var d=null;b&&b.initialItems!==undefined&&(d=b.initialItems,delete b.initialItems);var e=this,f=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b),g=this.getCurrent(),i,j=!1,k=function(a){return function(){e.trigger("afterSwitchingTo",[a,j]),c&&c.apply(this,arguments)}};_scribble("stream-view",{stream_name:a._name}),b=b||{};if(g){var l=twttr.streams.StreamManager.cacheKeyForStream(g);if(l===f)return this.trigger("didNotSwitch",g),j=!0,g.afterSwitchingToAgain(k(g)),g;this.switchOut()}this.trigger("switchTo"),this.streams[f]&&!d?(i=this.streams[f],j=!0):(i=new a(b,d,this),i._cacheKey=f,i.bind("newItemsCountChanged",twttr.bind(this,function(a,b){i===this.getCurrent()&&this.trigger("newItemsCountChanged",[b])})),i.bind("reloadCurrentStream",twttr.bind(this,function(a,b){i.unbindEvents(),this.clearFromCache(b),this.$node.find("div.stream-container").empty(),delete this.streams.current,this.switchTo(b)})),i.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),i._shouldCache&&(this.streams[f]=i),i.bind("governmentSearch",function(a,b){twttr.router.routeTo(twttr.router.governmentSearchByZipPath({zipCode:b}))})),this.trigger("switchingToStream",i);var m=this.$node.find("div.stream-container");m.has(i.$node).length===0&&m.prepend(i.$node),this.setHeader(i,b);if(e.$moreButton){function n(){e.$moreButton.toggle(!i._alreadyMarkedEnd&&!i._errorComponent)}i.bind("streamEnd doneLoadingMore",n),n()}return i.bind("doneLoadingMore",function(){e.trigger("doneLoadingMore")}),this.setCurrent(i),this.trigger("newItemsCountChanged",[i.newItemsCount]),j?i.afterSwitchingToAgain(k(i)):i.afterFirstSwitchingTo(k(i)),twttr.decider.isInfiniteScroll()&&i.showLoadingSpinner(),this.preRendered&&!i.preRendered&&!twttr.app.fullyLoaded()&&signal(">wokeUp"),i},setTitle:function(a){var b=this.titleContainer();b.empty(),a._setTitle(twttr.bind(this,function(a){if(!a)return;this.setTitleHTML(a)}))},getMoreOldItems:function(a){this.getCurrent()&&this.getCurrent().getMoreOldItems(a)},resetCache:function(){this.streams={},this.setCurrent(null)},$headerContainer:function(){return this.$page.find("div.js-stream-header")},titleContainer:function(){return twttr.isT1?this.$page.find(".js-stream-title"):this.$node.find("div.stream-title")},clearFromCache:function(a,b){b=b||{};var c=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b);this.clearKeyFromCache(c)},clearKeyFromCache:function(a){delete this.streams[a]}});twttr.isT1?d.methods({setHeader:function(a,b){if(a._setHeader){var c=this;using(twttr.bundleMore,function(){a._setHeader(twttr.bind(c,function(d){c.renderHeader(a,b,d)}),b)})}else this.renderHeader(a,b,(new twttr.views.StreamHeader(b)).$html())},renderHeader:function(a,b,c){this.setHeaderHTML(c),this.setTitle(a),this.setViewToggler(a,b),this.setHeaderButton(a,b)},setHeaderHTML:function(a){this.$headerContainer().html(a)},setTitleHTML:function(a){var b=this.titleContainer();b&&b.html(a)},setViewToggler:function(a,b){$viewTogglerContainer=this.$page.find("small.js-view-toggler");if(!$viewTogglerContainer)return;$viewTogglerContainer.empty(),a._setViewToggler&&using(twttr.bundleMore,function(){a._setViewToggler(twttr.bind(this,function(a){if(!a)return;a.render($viewTogglerContainer)}),b)})},setHeaderButton:function(a,b){$headerButtonContainer=this.$page.find("span.js-header-button-container");if(!$headerButtonContainer)return;$headerButtonContainer.empty(),a._setHeaderButton&&using(twttr.bundleMore,function(){a._setHeaderButton(twttr.bind(this,function(a){if(!a)return;a.render($headerButtonContainer)}),b)})}}):d.methods({setHeader:function(a,b){this.setTitle(a)},setTitleHTML:function(a){this.titleContainer().html("<h2>"+a+"</h2>")},setViewToggler:twttr.util.noopInP1,setHeaderButton:twttr.util.noopInP1}),a(d)})}),provide("view",function(a){using("util").as(function(b){twttr.augmentString("twttr.views",{makeDefaultViews:function(a){twttr.map(a,function(a,c){var d=b.util.capitalize(b.util.camelize(c));twttr.views[d]=twttr.views[d]||twttr.view("twttr.views."+d)}),signal(">defaultViews")}}),twttr.view=function(a,b){b||(b=function(){twttr.views.Base.apply(this,arguments)}),twttr.development&&twttr.at(a)&&console.error("twttr.view duplicate definition of:",a);var c=twttr.klass(a,b);return c.subclassOf(twttr.views.Base),c.template=function(a){return this._template=a,this},twttr.view._setDefaultTemplate(c,a),c._partials=twttr.templates,c},twttr.view._setDefaultTemplate=function(a,c){a.template(twttr.templates[b.util.underscore(c.split(".")[2]).toLowerCase()])},twttr.klass("twttr.ViewStack",function(a,b){this.$referenceNode=$(a),this.operation=b||"append",this._cache={},this._stack=[]}).methods({cached:function(a){return twttr.is.string(a)||(a=a.viewId),twttr.is.def(this._cache[a])},size:function(){return this._stack.length},contains:function(a){return twttr.is.inArray(a,this._stack)},remove:function(a){delete this._cache[a.viewId]},top:function(a){return this._stack[this._stack.length-1-(a||0)]},push:function(a){var b=this.top();return b&&b._backLabel&&(a._backLabel=b._backLabel,b.hide()),this.cached(a)?(a=this._cache[a.viewId],this._stack.push(a)):(this._cache[a.viewId]=a,a._viewstack=this,this._stack.push(a),a.render(this.$referenceNode,this.operation)),a.show(),a},pop:function(a){var b=this._stack.pop(),c=this._stack[this._stack.length-1];return b&&b.hide(),c&&!a&&c.show(),b?b:null},reset:function(a){while(this.pop());if(a)return this.push(a)}}),a(twttr.view)})}),provide("urlResolver",function(a){using().as(function(b){twttr.augmentString("twttr.urlResolver",function(){var a={};return{expand:function(b,c){var d,e={},f=[];if(twttr.decider.isAvailable("phoenix_url_resolver")&&twttr.is.array(b)){for(var g=0,i=b.length;g<i;++g){var j=b[g];(d=a[j])?e[j]=d:f.push(j)}f.length===0?c(e):twttr.API.Urls.resolve(f,function(b){$.each(b,function(b,c){a[b]=e[b]=c}),c(e)})}}}}()),a(twttr.urlResolver)})}),provide("multiGlobals/core_views",function(exports){using("util").as(function(phx){var logContext=phx.util.params().log_context;twttr.view("twttr.views.Base",function(a,b){twttr.is.string(a)?(this.viewId=a,this.obj=b):(this.obj=a,this.viewId=null);var c=twttr.audit.currentPage();c&&(this["in_"+c+"_page"]=!0);var d=twttr.audit.currentAction();d&&(this.actionName=twttr.util.underscore(d),this["in_"+this.actionName+"_action"]=!0);if(!this.obj)return;this.originalObject=this.obj,this.attach(this.obj)}).statics({formatDeciderMethodName:function(a){return twttr.util.underscore((""+a).replace(/[^A-Z0-9]/gi,"_"))},_addBucketTestMethod:function(a,b,c){var d=b+"_"+this.formatDeciderMethodName(c);c&&!this.prototype[d]&&this.method(d,function(){return c==twttr.abdecider.choose(a)})},addABTestMethods:function(a,b,c){var d="abtest_"+this.formatDeciderMethodName(a);this.prototype[d]||this.method(d,function(){return!!twttr.abdecider.choose(a)});var e=d+"_any_bucket";this.prototype[e]||this.method(e,function(){var b=twttr.abdecider.choose(a);return!!b&&b!="control"});if(c)for(var f=0;f<c.length;f++)this._addBucketTestMethod(a,d,c[f]);else this._addBucketTestMethod(a,d,b)},addDeciderMethod:function(a){this.method("decider_"+twttr.util.underscore(a),function(){return twttr.decider.isAvailable(a)})},onDeciderKeyChange:function(a,b){twttr.views.Base.addDeciderMethod(b.key)},onABTestKeyChange:function(a,b){b.current&&twttr.views.Base.addABTestMethods(b.key,b.current.bucket,b.current.bucket_names)}}).methods({anatomy_world:function(){return!1},anatomy_world_with_expand:function(){return!1},change_german_verbs:function(){return twttr.isT1&&twttr.currentUser&&new Date(2012,6,3)<new Date(twttr.currentUser.createdAt)&&twttr.abdecider.choose("change_deutsch_verbs_229")==="change_verbs"},"debugger":function(){return twttr.development&&eval("debugger;"),""},languages:function(){return twttr.languages},languages_by_own:function(){return twttr.languages.sort(function(a,b){var c=a.name.toLowerCase(),d=b.name.toLowerCase();return c<d?-1:c===d?0:1})},media_cards_enabled:function(){return twttr.isT1&&twttr.decider.isAvailable("platform_enable_cards")},render:function(a,b){this.selector=a,this.operation=b||"html";try{this.$dom=$(this.html())}catch(c){if(!c.message||c.message.indexOf("Syntax error, unrecognized expression")!=0)throw c;this.$dom=$("")}return $(this.selector)[this.operation](this.$dom),this.afterRender(this.$dom),this.$dom},attach:function(a){if(twttr.API.Base&&a instanceof twttr.API.Base)throw new Error("You failed to subclass BaseAPI with this view ("+this.constructor._name+"), so we're about to clobber all your favorite properties.  Subclass twttr.views.BaseAPI!");for(var b in a)this[b]=a[b]},hide:function(){this.$dom.hide(),this.$dom.addClass("inactive").removeClass("active")},show:function(){this.$dom.show(),this.$dom.addClass("active").removeClass("inactive")},refresh:function(){this.$dom=$(this.html(!0)),$(this.selector)[this.operation](this.$dom)},html:function(a){if(!a&&this._html)return this._html;if(!twttr.is.def(this.constructor._template))return console.log("Missing template file: ",this,this.constructor._name),"";if(logContext==""||logContext==this.constructor._name){try{var b=JSON.stringify(this.obj,null,2)}catch(c){var b=c.toString()}console.log("View inputs to",this.constructor._name+":",{originalObject:this,stringified:b})}var d=[this.constructor._template,this];this.constructor._partials&&d.push(this.constructor._partials);try{this._html=Mustache.to_html.apply(Mustache,d)}catch(c){if(c.message)throw twttr.development&&console.error("Error rendering "+this.constructor._name,c.message),c}return this.afterHtml(this._html),this._html},$html:function(a){return $(this.html())},rendering_on_server:!1,swift:!1,afterHtml:function(a){},afterRender:function(a){},subview:function(a,b){return this[a]=b,this},logged_in:function(){return!!twttr.currentUser},is_ssl:function(){return twttr.proto=="https"},is_mobile:function(){return!!twttr.isMobile},t1_actions_eligible:function(){return twttr.t1_actions_eligible},form_authenticity_token:function(){return twttr.anywhere.api.config.postAuthenticityToken},plural_rules:{r0:function(){return"other"},r1:function(a){return a===1?"one":"other"},r2:function(a){return a<=1?"one":"other"},r3:function(a){if(parseInt(a)===a){switch(a%10){case 1:if(a===11)break;return"one";case 2:case 3:case 4:if(a>=12&&a<=14)break;return"few"}return"many"}return"other"},r4:function(a){switch(a){case 0:return"zero";case 1:return"one";case 2:return"two";default:var b=a%100;return b>=11?"many":b>=3&&b<=10?"few":"other"}}},lang_to_rule:{ar:"r4",da:"r1",de:"r1",en:"r1",es:"r1",fa:"r0",fil:"r2",fr:"r2",he:"r1",hi:"r2",hu:"r0",id:"r0",it:"r1",ja:"r0",ko:"r0",msa:"r0",nl:"r1",pt:"r1",ru:"r3",sv:"r1",tr:"r0",ur:"r1","zh-cn":"r0","zh-tw":"r0"},lookup_missing_property:function(a,b){var c=a.lastIndexOf("_");if(c!==-1){var d=a.substring(c+1);switch(d){case"zero":case"one":case"two":case"few":case"many":case"other":var e=a.substring(0,c);if(e in b){function f(a){return a||a===!1||a===0}var g=this.plural_rules[this.lang_to_rule[twttr.pageLocale]||"r0"];function i(){var a;return f(this[e])&&(a=this[e]),typeof a=="function"&&(a=a.apply(this)),d===g(a)}var j=null;Object.getPrototypeOf?j=Object.getPrototypeOf(b):b.__proto__&&(j=b.__proto__);if(!j||j===Object.prototype)j=b;return j[a]=i,i.apply(b)}break;default:}}return undefined},render_page_content:!0}),function(){for(var a in twttr.decider.features())twttr.views.Base.addDeciderMethod(a);var b=twttr.abdecider.experiments();for(var c in b){var d=b[c];d&&d.bucket&&twttr.views.Base.addABTestMethods(c,d.bucket,d.bucket_names)}}(),twttr.decider.bind("keyChanged",twttr.views.Base.onDeciderKeyChange),twttr.abdecider.bind("keyChanged",twttr.views.Base.onABTestKeyChange),twttr.view("twttr.views.BaseAPI").methods({attach:function(a){var b=a.attributes||a;for(var c in b)this[c]=b[c]}}),twttr.view("twttr.views.UserLink").subclassOf(twttr.views.BaseAPI),twttr.view("twttr.views.BaseTweet",function(){twttr.views.BaseAPI.apply(this,arguments),this.user=new twttr.views.BaseUser({attributes:this.user})}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.userActionable).methods({impression_cookie:function(){if(!this.impression_id)return;var a=[];return JSON.stringify([this.id,this.impression_id,this.disclosure_type,this.disclosure_text,a])},full_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp(),!0)},short_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp())},explicit_timestamp:function(){return twttr.helpers.prettyTime(this.actual_timestamp())},actual_timestamp:function(){return twttr.helpers.parseDateString(this.created_at)},linkified_text:function(){if(!this.text)return"";var a=this.text;this.is_withheld()&&this.is_current_user()&&(a=this.withheld_text);if(twttr.decider.isAvailable("geo_place_entities_read")&&this.entities&&this.entities.places){this.entities.places.sort(function(a,b){return b.indices[0]-a.indices[0]});var b=a.length;twttr.each(this.entities.places,function(c){var d=c.indices[0],e=c.indices[1];if(e<=b&&e>d){var f=a.substring(d,e);twttr.txt.extractUrlsWithIndices(f).length===0&&(a=a.substring(0,d)+'<a href="/places/'+h(c.id)+'" target="_blank" '+'class="twitter-place" data-place-id="'+h(c.id)+'">'+f+"</a>"+a.substring(e)),b=d}})}return a=twttr.util.linkify(a,{nofollow:!0}),a=twttr.util.linkifyEntities(a,this),this.render_withheld()&&(this.is_withheld_copyright()?a+='  <a href="'+twttr.router.withheldCopyrightHelpPath()+'" target="_blank">'+_("Learn more")+"</a>":a+='  <a href="'+twttr.router.withheldHelpPath()+'" target="_blank">'+_("Learn more")+"</a>"),this.query?twttr.util.queryHighlight(this.query,a):a},is_withheld:function(){return this.is_tweet_withheld()||this.is_user_withheld()},is_tweet_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="status"},is_user_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_withheld_copyright:function(){return this.is_tweet_withheld_copyright()||this.is_user_withheld_copyright()},is_tweet_withheld_copyright:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="status"&&!!this.withheld_copyright},is_user_withheld_copyright:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"&&!!this.withheld_copyright},is_current_user:function(){return twttr.helpers.isCurrentUser(this.user)},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},render_withheld:function(){return this.is_withheld()&&!this.is_current_user()},is_top_tweet:function(){return this.result_category==="popular"},is_sponsored:function(){return!!this.impression_id},tweet_impression_id:function(){return this.impression_id?Mustache.to_html('data-impression-id="{{id}}" ',{id:this.impression_id}):""},promoted_badge_class:function(){return"badge-"+(this.disclosure_type||"promoted")},social_context:function(){if(this.socialContext&&this.socialContext.length){this.user.socialContext=this.socialContext,this.user.screenName=this.user.screen_name;var a=this.makeSocialContextHtml(this.user,!1);return _('<span class="icon-link social-context">{{{social_context}}}</span>',{social_context:a})}return""},has_native_media:function(){return twttr.Cards.prototype.hasCardPhotoEntities(this)},has_visible_cards:function(){return twttr.Cards.prototype.hasCards(this)},advertiser_name:function(){return this.was_retweeted?this.retweeting_status.user.name:this.user.name},allowed_to_retweet:function(){return!this.user["protected"]&&!twttr.helpers.isCurrentUser(this.user)},retweet_count_text:function(){var a=this.retweet_count;return a===1?_("{{retweet_count}} Retweet",{retweet_count:a}):_("{{retweet_count}} Retweets",{retweet_count:twttr.util.formatNumber(a,twttr.pageLocale)})},activity_count:function(a){var b=this.activities&&this.activities[a]&&this.activities[a]!=="0";return b?"("+this.activities[a]+")":""},favoriter_count:function(){return this.activity_count("favoriters_count")},retweeter_count:function(){return this.activity_count("retweeters_count")},has_retweet_count:function(){return this.retweet_count>0},replier_count:function(){return this.activity_count("repliers_count")},is_retweeted_by_current_user:function(){return!!this.current_user_retweet},is_my_tweet:function(){return twttr.helpers.isCurrentUser(this.user)},show_trashcan:function(){return twttr.helpers.isCurrentUser(this.user)||twttr.admin&&twttr.admin.showTrashcan()},show_not_relevant_action:function(){return twttr.decider.isAvailable("phoenix_search_relevance_not_relevant_action")&&this.result_category==="relevance"},contributor:function(){return this.contributors?this.contributors[0]:null},can_view:function(){return this.user.can_view()},retweet_source_screen_name_link:function(){if(this.retweeting_status){var a=this.retweeting_status.text.match(/^RT @?([0-9A-Za-z_]*):/).pop();return Mustache.to_html("<a href='{{path}}' class='latest-status-retweeted-user'>{{screen_name}}</a>",{path:twttr.router.profilePath({screen_name:a}),screen_name:a})}},css_classes:function(){var a="";return $.each({is_top_tweet:"top-tweet",is_sponsored:"promoted-tweet",current_user_retweet:"retweeted",favorited:"favorited"},twttr.bind(this,function(b,c){if(twttr.is.fn(this[b])?this[b]():this[b])a+=c+" "})),a},permalink_path:function(){return twttr.router.permalinkPath({screen_name:this.user.screen_name,id:this.id})},embed_dialog_permalink_path:function(){return twttr.router.embedDialogPermalinkPath({screen_name:this.user.screen_name,id:this.id})},place_path:function(){return twttr.router.placePath({place_id:this.place.id})},truncated_text:function(){return twttr.helpers.truncate(this.text,50)},can_expand:function(){return twttr.decider.isExpando()},in_reply_to_path:function(){return twttr.router.permalinkPath({screen_name:this.in_reply_to_screen_name,id:this.in_reply_to_status_id})},in_reply_to_name:function(){var a=this.in_reply_to_screen_name,b=this.entities&&this.entities.user_mentions;if(b)for(var c=0,d=b.length;c<d;c++)if(b[c].screen_name===a)return b[c].name;return"@"+a}}),twttr.view("twttr.views.BaseUser",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.i18nTweet).methods({defaultAvatarRegEx:/default_profile_\d/,defaultAvatar:function(a){return this.profile_image_url.match(this.defaultAvatarRegEx)&&this.is_current_user()?a?twttr.assets.path("/images/default_profile_add_photo.png"):twttr.router.settingsProfilePath():!1},raw_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url)},bigger_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},mini_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")},reasonably_small_profile_image_url:function(){return this.defaultAvatar(!0)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"reasonably_small")},right_image_size:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},account_profile_image_path:function(){return"/account/profile_image/"+this.screen_name},description_is_rtl:function(){if(!this.description)return!1;var a=this.getMachedRtlChars(this.description);return a&&this.shouldBeRTL(this.description,a)},linkified_description:function(){var a=this.description;this.is_withheld()&&this.is_current_user()&&(a=this.withheld_description);if(!a)return"";var b=twttr.util.linkifyEntities(twttr.util.linkify(a,{nofollow:!0}),this);return this.query?twttr.util.queryHighlight(this.query,b):b},display_url_or_url:function(){return this.url?twttr.txt.htmlEscape(this.display_url||this.url):""},is_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},is_withheld_copyright:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"&&!!this.withheld_copyright},is_current_user_withheld_copyright:function(){return this.is_withheld_copyright()&&this.is_current_user()},is_current_user:function(){return twttr.helpers.isCurrentUser(this.id)},can_view:function(){return twttr.helpers.canViewUser(this)},is_sponsored:function(){return!!this.promoted_content},promoted_badge_class:function(){return"badge-"+(this.promoted_content.disclosure_type||"promoted")},translation_tool_path:function(){return twttr.decider.isAvailable("i18n_new_translation_center")?"http://translate.twttr.com":this.translate_path()},account_impression_id:function(){var a=this.promoted_content;return a?Mustache.to_html("data-impression-id='{{id}}' ",{id:a.impression_id}):""},feedback_token:function(){return this.feedback?Mustache.to_html("data-feedback-token='{{feedback}}' ",{feedback:this.feedback}):""},mini_profile_image_url:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")}}),twttr.view("twttr.views.StreamTweet",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet).mixin(twttr.mixins.serverRenderableObject).methods({wakeUp:function(){this.initDomNode();var a=this.$node.children().remove();this.$node.html(twttr.views.BaseTweet.prototype.html.call(this,!0)),this.render_withheld()&&this.$node.addClass("withheld-item");var b=$('<div style="display:none;" class="js-old-content" />').append(a);this.$node.append(b);var c=b[0];using(">actionQueueEmpty",function(){c.parentNode.removeChild(c)})},initDomNode:function(){if(this.$node)return;var a=this;this.$node=this.$domNode(function(){return twttr.views.BaseTweet.prototype.html.apply(a,arguments)})},html:function(a){return a&&(this.$node=null),this.initDomNode(),this.preRendered?this.$node.html():twttr.views.Base.prototype.html.apply(this,arguments)},domNodeSelector:function(){var a=this.id;return this.impression_id&&(a+="-promoted"),"#stream-item-tweet-"+a}}),twttr.view("twttr.views.TweetActions",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),twttr.view("twttr.views.TweetDogear",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),twttr.view("twttr.views.DetailsPane").methods({closable:!0,back_label:function(){return this._backLabel},popable:function(){return this._viewstack&&this._viewstack.size()>1},hide:function(){this.$dom.addClass("inactive").removeClass("active"),this.$dom.find("div.tweet-media").trigger("hideMedia"),this.$dom=this.$dom.detach()},show:function(){$(this.selector)[this.operation](this.$dom),this.$dom.find("div.tweet-media").trigger("showMedia"),this.$dom.addClass("active").removeClass("inactive")}}),twttr.view("twttr.views.MessageDrawer").statics({isOpen:!1,close:function(){twttr.views.MessageDrawer.isOpen=!1,$("#message-drawer .message").remove()}}),twttr.view("twttr.views.UserCss",function(){twttr.views.BaseAPI.apply(this,arguments);var a=["profile_background_color","profile_text_color","profile_link_color","profile_sidebar_fill_color"];for(var b=0;b<a.length;b++)this[a[b]]=twttr.helpers.sanitizeCssColor(this[a[b]])}).subclassOf(twttr.views.BaseAPI).methods({rgba_sidebar_color:function(){if(!this.profile_sidebar_fill_color)return;return twttr.helpers.hexToRGBA(this.profile_sidebar_fill_color,"0.9")},rgba_tweet_background_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.1")},rgba_tweet_border_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.15")},rgba_newtweets_background_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.2")},rgba_newtweets_border_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.25")},rgba_text_color:function(){if(!this.profile_text_color)return;return twttr.helpers.hexToRGBA(this.profile_text_color,"0.6")},profile_pretty_link_color:function(){if(!this.profile_link_color)return;return twttr.helpers.blendHexColor(this.profile_link_color,"FFF",.6)},profile_pretty_link_sidebar_color:function(){if(!this.profile_link_color||!this.profile_sidebar_fill_color)return;return twttr.helpers.blendHexColor(this.profile_link_color,this.profile_sidebar_fill_color,.6)}}),twttr.view("twttr.views.UserCssP1",function(){twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss),twttr.view("twttr.views.UserCssT1",function(a){twttr.inputUser=a,twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss).methods({style_namespace:function(){return this.screen_name?this.screen_name:"twttr"},has_hovers_in_css:function(){return!!twttr.hasHoversInCss},colon_hover:function(){return twttr.hasHoversInCss?":hover":""}}),twttr.view("twttr.views.BgImgCss",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI),twttr.view("twttr.views.BaseStats",function(a){twttr.views.BaseUser.apply(this,arguments),a.status&&(this.status=new twttr.views.BaseTweet(a.status),this.status.user=this)}).subclassOf(twttr.views.BaseUser).methods({statuses_count_commaized:function(){return phx.util.formatNumber(this.statuses_count,twttr.pageLocale)},following_nobody:function(a){return this.friends_count===0},friends_count_commaized:function(){return this.screen_name==="toptweets"?_("everyone!"):phx.util.formatNumber(this.friends_count,twttr.pageLocale)},followers_count_commaized:function(){return phx.util.formatNumber(this.followers_count,twttr.pageLocale)},favorites_count_commaized:function(){return this.favourites_count&&parseInt(this.favourites_count,10)>0?phx.util.formatNumber(this.favourites_count,twttr.pageLocale):0},listed_count_commaized:function(){return this.listed_count&&parseInt(this.listed_count,10)>0?phx.util.formatNumber(this.listed_count,twttr.pageLocale):0},can_view:function(){return twttr.helpers.canViewUser(this)},source_impression_id:function(){var a=this.impression_id;return a?Mustache.to_html('data-impression-id="{{id}}" ',{id:a}):""},translator_profile_path:function(){return twttr.decider.isAvailable("i18n_new_translation_center")?this.translation_tool_path()+"/user/"+this.screen_name:this.translation_tool_path()}}),twttr.view("twttr.views.MessageNotification").statics({isOpen:!1,close:function(){twttr.views.MessageNotification.isOpen=!1,$("#message-notification .notification").remove()}}),twttr.view("twttr.views.StreamActivity").statics({maxItems:2,sentences:{favorites:[_("Favorited by {{{screen_name_0}}}"),_("Favorited by {{{screen_name_0}}} and {{{screen_name_1}}}")],retweets:[_("Retweeted by {{{screen_name_0}}}"),_("Retweeted by {{{screen_name_0}}} and {{{screen_name_1}}}")]}}).methods({sentence:function(){var a=this.constructor.sentences[this.item_type],b=this.items.slice(0,this.constructor.maxItems);return!b.length||!a?"":Mustache.to_html(a[b.length-1],twttr.inject(b,{},function(a,b,c){return a["screen_name_"+b]=(new twttr.views.UserLink(c.attributes)).html(),a}))}}),exports()})}),provide("multiGlobals/core_views_t1",function(a){using("util").as(function(b){twttr.view("twttr.views.StreamTweeter",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),a()})}),provide("router_t1",function(a){using("util",">deciderFeaturesFromBootstrap").as(function(b){function i(a){function c(c){var d=twttr.app.switchToPage(a);d&&b&&d.send(b,Array.prototype.slice.apply(arguments))}var b;return c.action=function(a){return this.actionName=b=a,c},c.pageName=a,c}function j(a,b,d){c("hashbang"+twttr.util.capitalize(a),"/#!"+b,function(){twttr.themes.loadLoadingTheme(),twttr.Router.performRedirect(d||b)})}function k(a,b){j(a,b),c(a,b,$.noop)}function l(a,b){var c=(twttr.isLocalhost?"":"https://"+location.hostname)+b;j(a,b,c),d(a,c)}function m(a,b,d,e,f){var g=n(e)?f:b;twttr.router.swiftRoutes[a]={decider:e,path:f},c(a,g,d)}function n(a){var b=twttr.util.params(window.location.search);return twttr.is.def(b.render_on_server)?b["render_on_server"]=="1"||b["render_on_server"]=="true":twttr.decider.isAvailable(a)}function o(a){return twttr.loggedIn?a.loggedIn:a.loggedOut||p()}function p(){return twttr.ScribeBuffer&&twttr.ScribeBuffer.instance.send(),i("Login").action("loginRequired")}function q(){var a=twttr.router.shouldRedirectToCanonicalUrl(twttr.router.getCurrentRoute());if(a)return twttr.router.routingEnabled=!1,window.location.replace(a),!0}twttr.router=new twttr.Router;var c=twttr.bind(twttr.router,twttr.router.route),d=twttr.bind(twttr.router,twttr.router.staticRoute),e=twttr.bind(twttr.router,twttr.router.redirectRoute);twttr.router.bind("routeAdded",function(a,c,d){twttr.views.Base.method(b.util.underscore(c),function(){return d(this)})}),k("about","/about"),k("jobs","/jobs"),k("tos","/tos"),k("privacy","/privacy"),k("deactivated","/account/deactivated"),k("deactivate","/account/deactivate"),k("suspendedHelp","/account/suspended_help"),k("suspended","/suspended"),k("settings","/settings/account"),k("design","/settings/design"),k("settingsProfile","/settings/profile"),k("devices","/devices"),k("invitationEmailPreview","/invitations/email_preview"),k("campaigns","/account/campaigns"),k("resources","/about/resources"),k("translate","/translate"),k("whatsNew","/newtwitter"),k("changeLocale","/sessions/change_locale"),k("resendPassword","/account/resend_password"),k("mobileComplete","/account/complete"),k("turnPhxOff","/account/use_phx?setting=false&format=html"),k("mobileGallery","/download"),e("terms","/#!/terms","tos"),e("admin","/#!/admin","home"),l("sessions","/sessions?phx=1"),l("signup","/signup"),m("login","/#!/login",i("login").action("index"),"swift_login","/login"),m("sessionsNew","/#!/sessions/new",i("login").action("index"),"swift_login","/sessions/new"),m("loginRedirect","/#!/login/redirect/:redirect_after_login",i("login").action("index"),"swift_login","/login/redirect/:redirect_after_login"),m("loginError","/#!/login/:error",i("login").action("error"),"swift_login","/login/:error"),c("logout","/#!/logout",i("logout").action("index")),k("logout_action","/logout"),d("support","//support.twitter.com"),d("blog",twttr.localize({ja:"http://blog.jp.twitter.com",es:"http://blog.es.twitter.com",fr:"http://blog.fr.twitter.com",de:"http://blog.de.twitter.com",pt:"http://blog.pt.twitter.com",ko:"http://blog.kr.twitter.com",it:"http://blog.it.twitter.com",ru:"http://blog.ru.twitter.com"},"http://blog.twitter.com")),d("status",twttr.localize({ja:"http://status.twitter.jp"},"http://status.twitter.com")),d("developers","//dev.twitter.com"),d("businesses","//business.twitter.com/index_"+twttr.pageLocale+".html"),d("advertisers","//business.twitter.com/"+twttr.pageLocale+"/advertise/start"),d("partnerships","http://media.twitter.com"),d("helpPromotedTweets","//support.twitter.com/articles/142101"),d("helpPromotedAccounts","//support.twitter.com/articles/282154"),d("helpPromotedTrends","//support.twitter.com/articles/282142"),d("spamLearnMore","//support.twitter.com/articles/64986-how-to-report-spam-on-twitter"),d("malwareLearnMore","//support.twitter.com/articles/90491-my-website-is-being-flagged-as-malware-or-spam"),d("suspendedLearnMore","//support.twitter.com/articles/15790-my-account-is-suspended"),d("dailyLimitLearnMore","//support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following"),d("savedSearchesHelp","//support.twitter.com/articles/96646-how-to-save-searches"),d("listsHelp","//support.twitter.com/articles/76460-how-to-use-twitter-lists"),d("emailHelp","//support.twitter.com/articles/82050-i-m-having-trouble-confirming-my-email"),d("changeEmail","//twitter.com/settings/account?change_email=true"),d("mobile","//mobile.twitter.com"),d("mobileHelp","//support.twitter.com/groups/34-mobile"),d("mobileHelpFaq","//support.twitter.com/groups/34-mobile/topics/123-getting-started/articles/14014-twitter-phone-faqs"),d("shortCodeHelp","//support.twitter.com/articles/14226-how-to-find-your-twitter-short-code"),d("smsHelp","//support.twitter.com/articles/14020-about-twitter-sms-commands"),d("pushHelp","//support.twitter.com/articles/20169887"),d("helpDiscovery","//support.twitter.com/articles/14022"),d("analytics","//analytics.twitter.com/"),d("turkeySupport","https://support.twitter.com/articles/20156423"),d("flagTurkeySupport","https://support.twitter.com/articles/20069937"),d("twirefoxSupport","https://support.twitter.com/articles/20167003-about-firefox-with-twitter"),d("tweetIntent","https://twitter.com/share"),d("withheldCopyrightHelp","https://support.twitter.com/articles/15795"),d("withheldHelp","https://support.twitter.com/articles/20169222"),d("followLimitReachedLearnMore","https://support.twitter.com/articles/66885"),d("blockedFromFollowingLearnMore","https://support.twitter.com/articles/117063"),d("listNameErrorLearnMore","https://support.twitter.com/articles/20169276"),d("cookiePersonalizationLearnMore","https://support.twitter.com/articles/20169421"),d("embedDocumentation","//dev.twitter.com/docs/embedded-tweets"),d("directMessageLearnMore","http://support.twitter.com/groups/31-twitter-basics/topics/109-tweets-messages/articles/14606-what-is-a-direct-message-dm"),m("home","/#!/",o({loggedIn:i("home").action("home"),loggedOut:i("front").action("index")}),"swift_home_timeline","/"),m("homeIndex","/#!/",o({loggedIn:i("home").action("home"),loggedOut:i("front").action("index")}),"swift_home_timeline","/"),c("savedSearches","/#!/saved-search",o({loggedIn:i("home").action("savedSearches")})),c("listsFollowingYou","/#!/lists/memberships",o({loggedIn:i("home").action("memberships")})),c("listsYouFollow","/#!/lists/subscriptions",o({loggedIn:i("home").action("subscriptions")})),c("messages","/#!/messages",o({loggedIn:i("home").action("messages")})),c("messageCreate","/#!/messages/create/:screen_name",o({loggedIn:i("home").action("messages")})),c("inbox","/#!/inbox",o({loggedIn:i("home").action("messages")})),c("sent","/#!/sent",o({loggedIn:i("home").action("messages")})),c("createDm","/#!/direct_messages/create/:screen_name",o({loggedIn:i("home").action("messages")}));if(twttr.griffin&&twttr.griffin.current){for(var f=0;f<twttr.griffin.current.length;f++){var g=twttr.griffin.current[f];k(g+"Static","/hashtag/"+g),e(g,"/#"+g,g+"Static")}c("searchNoReroute","/#!/search/:query/show",i("search").action("searchShow")),c("eventsGrid","/#!/hashtag/:query/grid/:mode",i("eventsMediaGallery").action("grid")),c("eventsSlideshow","/#!/hashtag/:query/slideshow/:mode",i("eventsMediaGallery").action("slideshow"))}e("retweetsByOthers","/#!/retweets_by_others","connect"),e("retweetsOfMine","/#!/retweeted_of_mine","connect"),c("rateLimit","/#!/twttr/rate_limit",i("rateLimit").action("tooMuch")),m("discover","/#!/i/discover",o({loggedIn:i("discover").action("discover")}),"swift_discover","/i/discover"),c("networkActivity","/#!/activity",o({loggedIn:i("discover").action("networkActivity")})),c("whoToFollow","/#!/who_to_follow",o({loggedIn:i("discover").action("suggestions")})),c("whoToFollowSuggestions","/#!/who_to_follow/suggestions",o({loggedIn:i("discover").action("suggestions")})),c("whoToFollowSuggestionsSearch","/#!/who_to_follow/suggestions/search/:query",o({loggedIn:i("discover").action("suggestions_search")})),c("whoToFollowSuggestionsSearchForm","/#!/who_to_follow/suggestions/search/",o({loggedIn:i("discover").action("suggestions_search")})),c("whoToFollowImport","/#!/who_to_follow/import",o({loggedIn:i("discover").action("find_friends")})),c("whoToFollowImportMatches","/#!/who_to_follow/matches",o({loggedIn:i("discover").action("matches")})),c("whoToFollowImportSearch","/#!/who_to_follow/import/search/:query",o({loggedIn:i("discover").action("find_friends_search")})),c("whoToFollowImportSearchForm","/#!/who_to_follow/import/search/",o({loggedIn:i("discover").action("find_friends_search")})),c("whoToFollowInterests","/#!/who_to_follow/interests",o({loggedIn:i("discover").action("interests")})),c("whoToFollowInterestsSearch","/#!/who_to_follow/interests/search/:query",o({loggedIn:i("discover").action("interests_search")})),c("whoToFollowInterestsSearchForm","/#!/who_to_follow/interests/search",o({loggedIn:i("discover").action("interests_search")})),c("whoToFollowInterestsCategory","/#!/who_to_follow/interests/:category",o({loggedIn:i("discover").action("category")})),c("governmentSearchByZip","/#!/who_to_follow/government_by_zip/:zipCode",o({loggedIn:i("discover").action("government_by_zip")})),c("personalizationPreview","/#!/who_to_follow/web_personalized",i("WebPersonalizationPreview").action("preview")),c("searchHome","/#!/search-home",i("searchHome").action("index")),c("searchAdvanced","/#!/search-advanced",i("searchHome").action("advanced")),c("searchRealtime","/#!/search/realtime/:query",i("search").action("realtime")),c("searchTimeline","/#!/search/timeline/:query",i("search").action("timeline")),c("formSearchResults","/#!/search",i("search").action("search")),c("searchResults","/#!/search/:query",i("search").action("search")),c("userSearch","/#!/search/users/:query",i("search").action("people")),c("savedSearch","/#!/saved-search/:query",i("search").action("search")),c("searchFacetsGrid","/#!/search/:query/grid/:mode",i("facetsMediaGallery").action("grid")),c("searchFacetsSlideshow","/#!/search/:query/slideshow/:mode",i("facetsMediaGallery").action("slideshow")),c("searchFacetsGridDefault","/#!/search/:query/grid",i("facetsMediaGallery").action("grid")),c("searchFacetsSlideshowDefault","/#!/search/:query/slideshow",i("facetsMediaGallery").action("slideshow")),c("place","/#!/places/:place_id",i("PlaceT1").action("tweets")),c("trends","/#!/trends",i("trends").action("trends")),m("connect","/#!/i/connect",o({loggedIn:i("Connect").action("connect")}),"swift_interactions","/i/connect"),m("mentions","/#!/mentions",o({loggedIn:i("Connect").action("mentions")}),"swift_mentions","/mentions"),m("replies","/#!/replies",o({loggedIn:i("Connect").action("mentions")}),"swift_mentions","/replies"),m("permalink","/#!/:screen_name/status/:id",i("permalink").action("permalink"),"swift_permalink","/:screen_name/status/:id"),m("permalinkOld","/#!/:screen_name/statuses/:id",i("permalink").action("permalink"),"swift_permalink","/:screen_name/statuses/:id"),m("photoPermalink","/#!/:screen_name/status/:id/photo/:photo_index",i("permalink").action("permalink"),"swift_permalink","/:screen_name/status/:id/photo/:photo_index"),m("bigPhotoPermalink","/#!/:screen_name/status/:id/photo/:photo_index/large",i("bigPhotoPermalink").action("permalink"),"swift_permalink","/:screen_name/status/:id/photo/:photo_index/large"),c("embedDialogPermalink","/#!/:screen_name/status/:id/embed",i("permalink").action("permalinkWithEmbedDialog")),c("welcome","/#!/welcome",o({loggedIn:i("welcome").action("welcome")})),c("welcomeSearch","/#!/welcome/search/:query",o({loggedIn:i("welcome").action("search")})),c("welcomeSearchTop","/#!/welcome/search_top/:query",o({loggedIn:i("welcome").action("searchTop")})),c("welcomeSearchForm","/#!/welcome/search",o({loggedIn:i("welcome").action("search")})),c("welcomeIntro","/#!/welcome/intro",o({loggedIn:i("welcome").action("intro")})),c("welcomeInterests","/#!/welcome/interests",o({loggedIn:i("welcome").action("interests")})),c("welcomeInterestsCategory","/#!/welcome/interests/:category",o({loggedIn:i("welcome").action("category")})),c("welcomeImport","/#!/welcome/import",o({loggedIn:i("welcome").action("import")})),c("welcomeImportMatches","/#!/welcome/matches",o({loggedIn:i("welcome").action("matches")})),c("welcomeRecommendations","/#!/welcome/recommendations",o({loggedIn:i("welcome").action("recommendations")})),c("welcomeResurrect","/#!/welcome/return",o({loggedIn:i("welcome").action("resurrect")})),c("welcomeProfile","/#!/welcome/profile",o({loggedIn:i("welcome").action("profile")})),m("followers","/#!/followers",o({loggedIn:i("profile").action("followers")}),"swift_followers","/followers"),m("following","/#!/following",o({loggedIn:i("profile").action("following")}),"swift_following","/following"),m("favorites","/#!/favorites",o({loggedIn:i("profile").action("favorites")}),"swift_favorites","/favorites"),m("friends","/#!/friends",o({loggedIn:i("profile").action("following")}),"swift_following","/following"),m("lists","/#!/lists",o({loggedIn:i("profile").action("lists")}),"swift_lists","/lists"),m("followersYouFollow","/#!/:screen_name/followers_you_follow",i("profile").action("followersYouFollow"),"swift_followers_you_follow","/:screen_name/followers_you_follow"),m("profile","/#!/:screen_name",i("profile").action("profile"),"swift_profile","/:screen_name"),m("profileWithReplies","/#!/:screen_name/with_replies",i("profile").action("with_replies"),"swift_profile","/:screen_name/with_replies"),m("userFavorites","/#!/:screen_name/favorites",i("profile").action("favorites"),"swift_favorites","/:screen_name/favorites"),m("userFollowers","/#!/:screen_name/followers",i("profile").action("followers"),"swift_followers","/:screen_name/followers"),c("userMediaGrid","/#!/:screen_name/media/grid",i("userMediaGallery").action("grid")),c("userMediaSlideshow","/#!/:screen_name/media/slideshow",i("userMediaGallery").action("slideshow")),m("userFollowing","/#!/:screen_name/following",i("profile").action("following"),"swift_following","/:screen_name/following"),c("userLists","/#!/:screen_name/userlists",i("profile").action("lists")),m("memberships","/#!/:screen_name/lists/memberships",i("profile").action("memberships"),"swift_lists","/:screen_name/lists/memberships"),m("subscriptions","/#!/:screen_name/lists",i("profile").action("allLists"),"swift_lists","/:screen_name/lists"),m("followerRequests","/#!/:screen_name/follower_requests",i("profile").action("followerRequests"),"swift_follower_requests","/:screen_name/follower_requests"),m("similarTo","/#!/similar_to/:screen_name",i("profile").action("similarTo"),"swift_similar_to","/similar_to/:screen_name"),c("userList","/#!/:screen_name/:list_slug",i("list").action("list")),c("listMembers","/#!/:screen_name/:list_slug/members",i("list").action("members")),c("listSubscribers","/#!/:screen_name/:list_slug/subscribers",i("list").action("followers")),q()||(twttr.router.bind("routeFollowed",q),a())})}),provide("audit",function(a){using().as(function(b){twttr.klass("twttr.AuditTrail",function(){this.array=[]}).methods({MAX_LENGTH:20,add:function(a){this.array.unshift(a),this.array.length>this.MAX_LENGTH&&(this.array=this.array.slice(0,this.MAX_LENGTH))},trail:function(){return this.array},currentPage:function(){return this.page(0)},currentAction:function(){return this.action(0)},currentPath:function(){return this.path(0)},page:function(a){var b=this._routes();return b[a]&&b[a].page},action:function(a){var b=this._routes();return b[a]&&b[a].action},path:function(a){var b=this._routes();return b[a]&&b[a].path},_routes:function(){return twttr.filter(this.array,function(a,b){return a.type==="route"})}}),twttr.audit=new twttr.AuditTrail,twttr.router.bind("routeFollowed",function(a,b,c){var d=b.fn.pageName;twttr.audit.add({action:b.fn.actionName,page:d,path:c,type:"route"}),window.sessionStorage&&sessionStorage.setItem("ScribeTransport.internal_referer",c);var e=$("#doc").removeClass();d&&e.addClass("route-"+d.replace(/_/g,"-"))}),a(twttr.audit)})}),provide("multiGlobals/ClickTrail",function(a){using("util").as(function(b){twttr.klass("twttr.ClickTrail",function(){this.array=[]}).methods({MAX_LENGTH:5,add:function(a){this.array.unshift(a),this.array.length>this.MAX_LENGTH&&(this.array=this.array.slice(0,this.MAX_LENGTH))},lastClick:function(){if(this.array.length)return this.array[0].eventName},trail:function(){return this.array}}),twttr.clicks=new twttr.ClickTrail,twttr.app.waitForSignal("init",function(){$("body").mousedown(function(a){var c=$(a.target),d=c.closest("[data-element-term]"),e=c.closest("[data-component-term]"),f=c.closest("[data-section-term]"),g=twttr.Scribbler.getElementEventNameTerms(c),i=twttr.audit.currentPage(),j=c.closest("[href]").attr("href");g.section||(g.section=b.util.underscore(twttr.audit.currentAction())),g.component&&g.section&&i&&(g.client="web",g.page=b.util.underscore(i),g.action="navigate",twttr.clicks.add({eventName:twttr.Scribbler.clientAppEventNameGenerator(g),eventTerms:g,path:j,target:c}))}),twttr.router.bind("routeFollowed",function(a,b,c){var d=twttr.clicks.trail()[0];d&&d.path==c&&trackClient(d.eventTerms,{url:c})})}),a(twttr.clicks)})}),provide("run/defaultViews",function(a){using().as(function(b){using(">payload",function(){twttr.payload.conditionalTemplates&&($.each(twttr.payload.conditionalTemplates,function(a,b){twttr.templates[a]=b}),twttr.views.makeDefaultViews(twttr.templates))}),twttr.views.makeDefaultViews(twttr.templates),a()})}),provide("TrendLocations",function(a){using("_","constants").as(function(b,_){twttr.klass("twttr.TrendLocations",function(a){this.getLocation(a)}).statics({LOGGED_OUT_TREND_LOCATION_COOKIE:"trend_location",install:function(a){twttr.trendLocations?twttr.trendLocations.getLocation(a):twttr.trendLocations=new twttr.TrendLocations(a)}}).methods({getLocation:function(a){var b=this;twttr.API.Trend.locations({lang:twttr.pageLocale,success:function(c){b.all=c;if(twttr.currentUser)twttr.currentUser.trendLocation().first(function(c){c?b.current=c:b.current=b.worldwide(),a(b.current)});else{var d=parseInt($.cookie(b.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE),10);b.current=b.locationForWoeid(d)||b.worldwide(),a(b.current)}}})},allLocations:function(){return this.all.array},ancestorsOf:function(a){if(!a.parentid)return[];var b=this.locationForWoeid(a.parentid);return[b].concat(this.ancestorsOf(b))},withAncestorsOf:function(a){return[a].concat(this.ancestorsOf(a))},currentAncestors:function(){return this.ancestorsOf(this.current)},withCurrentAncestors:function(){return this.withAncestorsOf(this.current)},withFilterAncestors:function(){return this.withAncestorsOf(this.currentFilter())},childrenOf:function(a){return twttr.filter(this.allLocations(),function(b){return b.parentid===a.woeid})},currentChildren:function(){return this.current.isPersonalized?this.childrenOf(this.currentFilter(this.worldwide())):this.childrenOf(this.currentFilter())},locationForWoeid:function(a){return a?twttr.filter(this.allLocations(),function(b){return b.woeid==a})[0]:null},locationsForWoeids:function(a){var b=this;return twttr.map(a,function(a){return b.locationForWoeid(a)})},worldwide:function(){return this.locationForWoeid(1)},currentFilter:function(a){var c=a||this.current;return c.placeType.code===b.constants.placeTypes.city||this.childrenOf(c).length===0?this._currentFilterWoeid=c.parentid:this._currentFilterWoeid=c.woeid,this.locationForWoeid(this._currentFilterWoeid)},setPersonalized:function(a){this.current=$.extend(this.current,{isPersonalized:a})},setCurrent:function(a){this.current=this.locationForWoeid(a.woeid)||this.current,this.setPersonalized(a.isPersonalized),twttr.currentUser?twttr.currentUser.setTrendLocation(a.woeid,a.isPersonalized):(twttr.API.CurrentUser.trigger("changedLocation_success"),$.cookie(this.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE,a.woeid)),scribble("switch-trend-location",{woeid:a.woeid,input:"click",origin:a.origin})}}),a(twttr.TrendLocations)})}),provide("mixins/sideNavigationT1",function(a){using().as(function(b){var c=twttr.klass.mixin(function(){this.methods({selectCurrentSideNav:function(){this.selectSideNav(twttr.router.getCurrentRoute().name)},selectSideNav:function(a){var b=this.$find("li.js-sidenav-link[data-name='"+a+"']");this.$find("li.js-sidenav-link").removeClass("active"),b.length&&b.addClass("active")},setSideNavBadge:function(a,b){var c=$(document).find("li.js-sidenav-link a[href='"+a+"']");c.find('[class="unread"]').remove(),b&&c.append('<i class="unread"><i>')}})});a(c)})}),provide("components/PagePromise",function(a){using("mixins/serverRenderableObject").as(function(b,c){twttr.klass("twttr.PagePromise",function(a){this._queue=[],this._unavailableQueue=[],this._isUnavailable=!1,this._name=a,this.pageNodeId="page-node-"+twttr.util.underscore(a),this.$node=this.$domNode("<div/>")}).mixin(c).methods({domNodeSelector:function(){return"#"+this.pageNodeId},build:function(){var a=this,b=twttr.components.pages[this._name];b?a._build(a._name):using(twttr.bundleMore,function(){a._build(a._name)})},send:function(a,b,c,d){typeof b=="function"&&(error=c,c=b,b=[]);var e={name:a,args:b,cb:c,missing:d};this._instance?this._execute(e):this._enqueue(e)},getInstanceProperty:function(a){if(this._instance&&this._instance[a])return this._instance[a]},bind:function(){this.send("bind",Array.prototype.slice.apply(arguments))},one:function(){this.send("one",Array.prototype.slice.apply(arguments))},trigger:function(){this.send("trigger",Array.prototype.slice.apply(arguments))},$find:function(){return this.$node.find.apply(this.$node,arguments||[])},_build:function(a){var b=twttr.components.pages[a];b?(this._instance=new b(this.$node,this.preRendered),b.isAvailable()?this._flush():this._unavailable()):this._unavailable()},whenUnavailable:function(a){this._isUnavailable?a():this._unavailableQueue.push(a)},_unavailable:function(){this._isUnavailable=!0;for(var a=0;a<this._unavailableQueue.length;a++)this._unavailableQueue[a].call(null);this._unavailableQueue=[]},_enqueue:function(a){this._queue.push(a)},_execute:function(a){var b=this._instance[a.name];if(b){var c=b.apply(this._instance,a.args||[]);a.cb&&a.cb.call(null,c)}else a.missing&&a.missing.apply(null)},_flush:function(){for(var a=0;a<this._queue.length;a++)this._execute(this._queue[a]);this._queue=[]}}),a()})}),provide("components/Page",function(a){using(twttr.isT1?"mixins/sideNavigationT1":"mixins/sideNavigationP1","util","constants","mixins/serverRenderableObject").as(function(b,c){twttr.klass("twttr.components.Page",function(a,b){var c=this._namespace.match(/\.([^.]+)$/)[1];this.pageNameUnderscore=twttr.util.underscore(c),this.$node=a||this.$domNode("<div/>"),this.preRendered=!!b,b||signal(">wokeUp"),this._isOpen=!1,this.initComponentEvents()}).statics({view:function(a){return this.prototype._View=a,this},containerCssClass:function(a){return this._containerCssClass=a,this},deciderKey:function(a){return this._deciderKey=a,this},isAvailable:function(){return!this._deciderKey||twttr.decider.isAvailable(this._deciderKey)}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).mixin(b.mixins.serverRenderableObject).methods({_isActive:function(){return twttr.app.currentPageName().toLowerCase()===this.constructor._name.toLowerCase()},$find:function(){return this.$node.find.apply(this.$node,arguments)},keyevent:function(a,c){if(twttr.helpers.isModifier(a))return;var d;a.keyCode===b.constants.keyCodes.esc?d="esc":a.keyCode===b.constants.keyCodes.enter?d="return":a.which===b.constants.which.period?d="period":a.keyCode===b.constants.keyCodes.leftArrow?d="left":a.keyCode===b.constants.keyCodes.rightArrow?d="right":a.keyCode===b.constants.keyCodes.upArrow?d="up":a.keyCode===b.constants.keyCodes.downArrow?d="down":d=String.fromCharCode(a.which).toLowerCase();if(this["_"+c]&&this["_"+c][d]&&(a.which<111||a.which>118)&&!twttr.shortcuts.currentKey)return this["_"+c][d].call(this,a)},render:function(a){this.beforeRender();var b=$.extend(this.viewData(),a);return this.preRendered||(this.$node.empty(),twttr.development&&!this._View&&console.log("Missing view for page "+this.constructor.name),this.$node.html((new this._View(b)).html())),this.afterRender(),this.trigger("rendered",[this]),this},onkeydown:function(a){this.keyevent(a,"keydown")},onkeypress:function(a){this.keyevent(a,"keypress")},onkeyup:function(a){this.keyevent(a,"keyup")},addContainerComponent:function(a,b,c){c==null?a.append(b.$node):twttr.is.number(c)?a.children(":nth-child("+c+")").before(b.$node):a[c](b.$node),b.bind("notRendered",twttr.bind(this,function(a){this.componentNotRendered(b,a)})),b.trigger("addedToPage",[b])},addTopContentComponent:function(a,b){this.$topContent||(this.$topContent=this.$find("div.js-content-top")),this.addContainerComponent(this.$topContent,a,b)},addDashboardComponent:function(a,b){this.$dashboard||(this.$dashboard=this.$find(".dashboard")),a&&this.addContainerComponent(this.$dashboard,a,b)},addDashboardComponents:function(a){var b=this;twttr.each(a,function(a){b.addDashboardComponent(a)})},componentNotRendered:function(a,b){},updatePageTitle:function(a){twttr.isPreflight&&(a="PREFLIGHT :: "+a),this._pageTitle=a,this._isActive()&&(document.title=a)},hasNewItems:function(a){a?($("#global-actions .active").addClass("new"),document.title="("+a+") "+this._pageTitle):($("#global-actions .active").removeClass("new"),document.title=this._pageTitle)},shouldAutoRender:function(){return!this.noAutoRender},addImpressionData:function(a){}}),twttr.klass.page=function(a,b){return twttr.klass(a,b).subclassOf(twttr.components.Page)},$.each(["beforeRender","afterRender","onFirstSwitch","viewData","onSwitchAway","onSwitchTo"],function(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1),d="_"+b;twttr.components.Page["add"+c]=function(a){var b=[],c=this.prototype[d];if(c)for(var e=0;e<c.length;e++)b.push(c[e]);return b.push(a),this.prototype[d]=b,this},twttr.components.Page.prototype[b]=function(){var a=this,b={};return $.each(this[d]||[],function(c,d){twttr.aug(b,d.call(a))}),b}}),twttr.components.Page.addOnSwitchTo(function(){this.constructor._containerCssClass&&$("#page-container").addClass(this.constructor._containerCssClass)}).addOnSwitchAway(function(){this.constructor._containerCssClass&&$("#page-container").removeClass(this.constructor._containerCssClass),$("div.tipsy").remove()}).addBeforeRender(function(){$("div.tipsy").remove()}).addAfterRender(function(){this.$topContent=this.$find("div.js-content-top"),$("div.tipsy").remove()}).addBeforeRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?twttr.isRendering+1:1}).addAfterRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?twttr.isRendering-1:0}).addAfterRender(function(){twttr.currentUser&&twttr.currentUser.facebookProfileId&&window.setTimeout(function(){if($("#facebook-token").length==0){var a=$('<iframe style="display: none"/>');a.attr("src","/settings/facebook/token?profile_id="+twttr.currentUser.facebookProfileId),$("body").append(a)}},3e3)}).mixin(twttr.mixins.listActionable,c).click({"[data-modal='list-new']":function(a,b){(new twttr.widget.ListDialog({})).open(),trackElement(b,"click")}}),a(twttr.components.Page)})}),provide("components/pages/mixins/homeT1",function(a){using("util","mixins/t1/emptyTimelineRecommendations").as(function(b,c,d){var e=twttr.klass.mixin("twttr.components.pages.mixins.homeT1",function(){this.view(twttr.views.Page),this.methods({insertTweetbox:twttr.util.noopInT1,insertPromptbirdPrompt:function(){var a=this;using([twttr.bundleMore,"promptbird"]).as(function(a){var b=a.promptbird.getPrompt();if(!b)return;var c=a.promptbird.renderComponentFromPrompt(b);if(!c)return;var d="#js-promptbird-"+b.prompt.format.replace(/_/g,"-")+"-hook";$(d).html(c.$node)})},selectDashboardComponents:function(){return this.trendsComponent=new twttr.components.Trends,[new twttr.components.PromptbirdDashboardPlaceholder,new twttr.components.t1.dashboard.MiniHomeProfile(!0),twttr.at("twttr.currentUser.protected")&&new twttr.components.FollowerRequestLink,new twttr.components.JapaneseAd,new twttr.components.UserRecommendations({showLinks:twttr.decider.isAvailable("wtf_home_timeline_show_links")}),this.trendsComponent,new twttr.components.Footer]},getTweetBoxOptions:function(){return{condensedContent:_("Compose new Tweet..."),autocompleteSuggestionLimit:twttr.isT1?5:10}},home:function(a,b){var c=this,e=twttr.util.params().badLinkRecipient;e&&!this.warnedOfBadLink&&(this.warnedOfBadLink=!0,twttr.API.User.find(+e,function(a){twttr.showError(_("Sorry, you must be logged in as @{{screenName}} to use this link!",a))})),this.selectCurrentSideNav(),this.insertEmptyTimeline({reloadStream:!0,onDestroyCb:function(){c.trigger("emptyTimelineModuleDestroyed")}}),this.waitForSignal("emptyTimelineModuleLogicCompleted",function(){var a=c.$find('.component[data-component-term="user_recommendations"]'),b=function(){a.length===1&&(d.showing?a.hide():a.show())};b(),c.bind("emptyTimelineModuleDestroyed",function(){b()})}),this.loadPage(_("Twitter / Home"),"home","Home"),this.insertPromptbirdPrompt(),this._maybeShowReplyDialog(b)},networkActivity:function(a){this.selectCurrentSideNav(),this.loadPage(_("Twitter / Activity"),"activity","ActivityByNetworkStream")},memberships:function(a){var b=this;this.selectSideNav("lists"),this.loadPage(_("Twitter / Lists following you"),"listFollowingYou","Memberships",{screenName:twttr.currentUser.screenName})},subscriptions:function(a){var b=this;this.selectSideNav("lists"),this.loadPage(_("Twitter / Lists you follow"),"listYouFollow","AllSubscriptions",{screenName:twttr.currentUser.screenName})},messages:function(a){var b=this;using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(c,d){b.home(a),a.screen_name?(new d(twttr.widget.DirectMessageDialog.views.conversation,a.screen_name)).open():(new d).open()})},savedSearches:function(a){this.selectCurrentSideNav(),this.loadPage(_("Twitter / Saved Searches"),"savedSearches","SavedSearches")}})});a(e)})}),provide("components/pages/Home",function(a){using("_",twttr.isT1?"components/pages/mixins/homeT1":"components/pages/mixins/homeP1",twttr.isT1?"mixins/t1/emptyTimelineRecommendations":"mixins/emptyTimelineRecommendations","util","constants").as(function(b,_,c,d){var e=twttr.klass("twttr.components.pages.Home").subclassOf(twttr.components.Page).mixin(twttr.mixins.streamablePage,twttr.mixins.welcomeScribing,d).view(twttr.views.HomePage).containerCssClass("home-container").addOnSwitchTo(function(){var a=this;using([twttr.bundleMore,"TweetBox"],function(){a._hasRendered&&a.insertTweetbox(),twttr.TweetBox.bind("tweetSuccess",function(b,c){var d=a.streamManager.getCurrent().trigger("didTweet",[c])})});var b=twttr.currentUser.states;if(b&&b.pending_email&&!$.cookie("abtest_email_verification_18")){var c=twttr.abdecider.choose("email_verification-18",!0);c&&c!="control"&&using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.verifyEmail(c).open()})}this.scrollTop&&twttr.$win.scrollTop(this.scrollTop),$(".promptbird").show(),this.maybeScribeWelcomeSkip()}).addOnSwitchAway(function(){using([twttr.bundleMore,"TweetBox"],function(){twttr.TweetBox.unbind("tweetSuccess")}),$(".promptbird").hide()}).addViewData(function(){return{current_user_screen_name:twttr.currentUser.screenName}}).methods({loadPage:function(a,b,c,d){function f(){e.streamManager.switchTo(twttr.streams[c],d||{})}var e=this;this.updatePageTitle(a),twttr.themes.loadCurrentUserStyle(),twttr.streams[c]?f():(this.streamManager.switchOut(),using(twttr.bundleMore,function(){f()})),b&&(this.focusStreamTab(b),b=="home"&&twttr.currentUser.friendsCount==0&&twttr.abdecider.choose("show_wtf_recs_in_timeline_105",true)=="show_wtf"&&this.$find(".stream-tab.stream-tab-home.active a").text("Who To Follow")),this.unfocusStreamItem(),twttr.components.JapaneseAd&&twttr.components.JapaneseAd.refreshAds(),twttr.isT1||trackClient({action:"impression"})},shouldShowSubtabs:function(){return window.location.search.match(/subtabs\=1/)},componentNotRendered:function(a,b){a._namespace=="twttr.components.UserRecommendations"&&this.$dashboard.find("div.trends-inner").addClass("wide-trends")},onFirstSwitch:function(){using([twttr.bundleMore,"photo/turkey"],function(){twttr.decider.isAvailable("turkey")&&twttr.turkey.showFirstTimeTurkey()})},getTweetbox:function(){return this.tweetBox},_maybeShowReplyDialog:function(a){a&&a.in_reply_to_status_id&&a.screen_name&&(defaultContent=a.status||"",using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.reply({tweetId:a.in_reply_to_status_id,screenName:a.screen_name,dataFields:{defaultContent:defaultContent,multiple:defaultContent.split(/@/).length>2}}).open()}),$.browser.msie||window.location.replace(twttr.router.homePath()))},insertPromptbirdPrompt:function(){var a=this;using([twttr.bundleMore,"promptbird"]).as(function(b){var c=twttr.promptbird.getPrompt();if(!c)return;var d=twttr.promptbird.renderComponentFromPrompt(c);if(!d)return;switch(c.prompt.format){case"dashboard_narrow":a.addDashboardComponent(d,1);break;case"below_black_bar":a._isActive()&&twttr.app.addComponentToAppBody(d)}})},scrollEnd:function(a){this.scrollTop=a,a>100&&twttr.components.pages.Home.scribeScroll&&(trackClient({action:"scroll"}),twttr.components.pages.Home.scribeScroll=!1)}}).addAfterRender(function(){var a=this;this._hasRendered=!0,using([twttr.bundleMore,"TweetBox"],function(){a.insertTweetbox()}),using(twttr.bundleMore,function(){a.preRendered&&a.$find("div.dashboard, section.dashboard").empty(),a.addDashboardComponents(a.selectDashboardComponents()),a.signal("dashboardComponentsAdded")}),this.waitForSignal("dashboardComponentsAdded",function(){a.insertPromptbirdPrompt()})}).click({".done-right":function(a,b){twttr.currentUser.friendsCount>0?(twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is following accounts"),window.location="/"):(twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is not following any accounts"),this.$find(".stream-tab.stream-tab-home.active a").text("Timeline"),this.$find(".stream-title").css("border-bottom","none"),this.loadPage(_("Twitter / Home"),"home","Home"))}});e.mixin(c),a(e)})}),provide("themes",function(a){using().as(function(b){twttr.themes={loadUserStyleFor:function(a){twttr.helpers.isCurrentUser(a)&&(a=twttr.currentUser);if(a&&!this._hasBrokenDefaults(a)){this._setTheme("user-style-"+a.screenName);if($("style#user-style-"+a.screenName).length===0){$("head style.js-user-style").remove();var b=twttr.isT1?twttr.views.UserCssT1:twttr.views.UserCssP1;(new b(a)).render("head","append")}$("style#user-style-"+a.screenName+"-bg-img").length===0&&($("head style.js-user-style-bg-img").remove(),(new twttr.views.BgImgCss(a)).render("head","append"))}else this.loadDefaultTheme()},loadCurrentUserStyle:function(){this.loadUserStyleFor(twttr.currentUser)},loadDefaultTheme:function(){twttr.isT1?this._setTheme("default-theme"):this._setTheme("user-style-twttr")},loadFrontPageTheme:function(){this._setTheme("front-page")},loadLoadingTheme:function(){this._setTheme("loading-body")},clear:function(){this._setTheme(!1)},_setTheme:function(a){var b=$("body");this._clearExistingTheme(),a&&b.addClass(a)},_brokenTheme:{profileBackgroundColor:"9ae4e8",profileBackgroundImageUrl:/\/images\/themes\/theme1\/bg.png$/i,profileBackgroundTile:!1,profileLinkColor:"0000ff",profileSidebarBorderColor:"87bc44",profileSidebarFillColor:"e0ff92",profileTextColor:"000000",profileUseBackgroundImage:!0},_hasBrokenDefaults:function(a){for(var b in this._brokenTheme){var c=this._brokenTheme[b],d=a[b],e=!1;twttr.is.regex(c)?e=!!d.match(c):e=c===d;if(!e)return!1}return!0},_clearExistingTheme:function(){var a=$("body");$("style[id^=user-style]").each(function(){a.removeClass(this.id)}),a.removeClass("loading-body front-page default-theme"),twttr.isT1||a.removeClass("static-page user-style-twttr")}},twttr.isT1||twttr.aug(twttr.themes,{loadStaticPageTheme:function(){this._setTheme("static-page")}}),a(twttr.themes)})}),provide("Profiler",function(a){using("util").as(function(b){var c=0,d=b.util.params().profiling,e=twttr.klass("twttr.Profiler",function(a){if(!e.isEnabled()){this.waypoint=$.noop,this.waitFor=$.noop,this.done=$.noop,this.addBeforeScribbleFilter=$.noop,this.doneAfterCallback=function(a){return a};return}this.id=++c,this.description=a,this.pendingProfilers=0,this.subProfilers=[],this.startTime=new Date,this.endTime=null,this.isDone=!1,this.isComplete=!1,this.runawayProfilerTimeout=setTimeout(twttr.bind(this,this._giveUp),e.timeoutAfter),this.timedOut=!1,this.timedOutSubProfilers=[],this.beforeScribbleFilters=[],this.profilerType=e.types.GENERIC,d&&console.log("%s started",this.description)}).methods(twttr.EventProvider).statics({isEnabled:function(){return!!twttr.payload.profiling||!!d},logPreviousEvent:function(a,b,c){var d=new e(a);d.addBeforeScribbleFilter(function(a){return a.start_time_ms=b,a.end_time_ms=c,a.duration_ms=c-b,a}),d.done()},logDataSet:function(a,b,c){var d=new e(a);d.startTime=b,$.each(c,function(a,b){d.waypoint(b.name,b.timestamp)}),d.done()},timeoutAfter:15e3,types:{GENERIC:0,FIRST_PAGE_LOAD:1}}).methods({addBeforeScribbleFilter:function(a){this.beforeScribbleFilters.push(a)},doneAfterCallback:function(a){var b=this,c=function(a){return function(){twttr.is.fn(a)||console.warn("Invalid call to doneAfterCallback");var c=a.apply(this,arguments);return b.done(),c}};return twttr.is.fn(a)?c(a):(a.cancel=a.cancel||$.noop,a.cancel=c(a.cancel),a.complete=a.complete||$.noop,a.complete=c(a.complete),a)},waitFor:function(){this.isDone&&console.warn(".waitFor called on a profiler that's already complete",this);var a=this;$(arguments).each(function(b,c){if(!c||!(c instanceof e)){if(!twttr.is.def(c.profiler)){console.error("Non-profiler passed in, and it doesn't have a .profiler property");return}c=c.profiler}if(c.isComplete)return;d&&console.log("%s waiting for %o",a.description,c),a.pendingProfilers++,a.subProfilers.push(c),c.bind("complete",function(b,c,e){d&&(e?console.log("%s noticed that %o timed out",a.description,c):console.log("%s noticed that %o finished",a.description,c)),a.pendingProfilers--,e&&a.timedOutSubProfilers.push(c),a.pendingProfilers===0&&a.isDone&&a._complete()})})},done:function(){if(this.isDone)return;d&&console.log("%s is done",this.description),this.isDone=!0,clearTimeout(this.runawayProfilerTimeout),this.runawayProfilerTimeout=null,this.pendingProfilers===0&&!this.isComplete&&this._complete()},_complete:function(){d&&console.log("%s is complete",this.description),this.isComplete=!0,this.endTime=new Date,this.waypoint("complete"),this.trigger("complete",[this,this.timedOut])},_giveUp:function(){console.warn("Runaway profiler detected!",this),this.timedOut=!0,this.done()},waypoint:function(a,c){c=c||new Date;var e={profiler_type:this.profilerType,product:"webclient",start_time_ms:twttr.appStartTime,impression_id:twttr.session&&twttr.session.impressionId?twttr.session.impressionId.toString():null,id:this.id,description:this.description};this.isComplete?(e.end_time_ms=this.endTime.getTime(),e.duration_ms=this.endTime-this.startTime):(e.waypoint_time_ms=c.getTime(),e.duration_ms=e.waypoint_time_ms-this.startTime,e.waypoint_key=a),this.timedOut&&(e.timed_out=!0);var f=this;$.each(["subProfilers","timedOutSubProfilers"],function(a,c){f[c].length>0&&(e[b.util.underscore(c)]=twttr.map(f[c],function(a){return a.description}))}),$.each(this.beforeScribbleFilters,function(a,b){e=b.call(f,e)}),scribble("profiler_waypoint",e,"perftown"),d&&(this.isComplete?console.log("%s: complete after %d ms; data %o",this.description,e.duration_ms,e):console.log("%s: %s waypoint after %d ms; data %o",this.description,a,e.waypoint_time_ms-this.startTime,e))}});e.verboseProfiling=d,a(e)})}),provide("RouteTimer",function(a){using("util").as(function(b){twttr.provide("twttr.RouteTimer",{previousRoute:null,previousPath:null,trackedRoute:null,trackedPath:null,trackedStream:null,trackAjax:!1,prestreamAjaxCount:0,poststreamAjax:{},routeTiming:{},timeoutId:0,routeStart:function(a,b){var c=this;this.routeTiming.next_time=(new Date).getTime(),this._scribeResultsAndReset(),this.previousRoute=this.trackedRoute||a,this.previousPath=this.trackedPath||b,this.trackedRoute=a,this.trackedPath=b,this.trackedStream=null,this.routeTiming.start_time=(new Date).getTime(),this.timeoutId=window.setTimeout(function(){c._scribeResultsAndReset()},2e4)},streamSwitch:function(a){var b=this,c=twttr.router.getCurrentRoute(),d=twttr.Router.getCurrentPath();if(!this.routeTiming.start_time||!this._routesEqual(c,this.trackedRoute)||d!==this.trackedPath||this._routesEqual(this.previousRoute,this.trackedRoute)&&this.previousPath===this.trackedPath){this._reset();return}this.routeTiming.stream_switch_time=(new Date).getTime(),this.trackedStream=a},streamAfterSwitch:function(a,b){this.trackedStream===a&&this.routeTiming.stream_switch_time?(this.routeTiming.stream_complete_time=(new Date).getTime(),this.routeTiming.cached=b,this._startAjaxTracking()):this._reset()},onAjaxComplete:function(a,b){if(!this.trackAjax||this.prestreamAjaxCount==0)return;if(b&&b.url in this.poststreamAjax)for(i=0;i<this.poststreamAjax[b.url].length;i++)if(b===this.poststreamAjax[b.url][i]){this.poststreamAjax[b.url].splice(i,1);return}this.prestreamAjaxCount--;if(this.prestreamAjaxCount==0||$.active==0)this.trackAjax=!1,this.routeTiming.ajax_complete_time=(new Date).getTime(),this._scribeResultsAndReset()},onAjaxSend:function(a,b){this.trackAjax&&b&&b.url&&(this.poststreamAjax[b.url]||(this.poststreamAjax[b.url]=[]),this.poststreamAjax[b.url].push(b))},_scribeResultsAndReset:function(){var a=this;if(this.routeTiming){var c=!0;$.each(["start_time","stream_switch_time","stream_complete_time","cached"],function(b,d){d in a.routeTiming||(c=!1)}),c&&(b.util.params().routetimer&&twttr.showMessage("switch: "+(this.routeTiming.stream_switch_time-this.routeTiming.start_time)+"<br>stream: "+(this.routeTiming.stream_complete_time-this.routeTiming.start_time)+"<br>ajax: "+(this.routeTiming.ajax_complete_time-this.routeTiming.start_time)+"<br>cached: "+this.routeTiming.cached,!0),scribble("route_time",$.extend({source_page:this.previousRoute.fn.pageName,source_action:this.previousRoute.fn.actionName,source_path:this.previousPath,dest_page:this.trackedRoute.fn.pageName,dest_action:this.trackedRoute.fn.actionName,dest_path:this.trackedPath},this.routeTiming),"route_timing"))}this._reset()},_startAjaxTracking:function(){var a=this;this.routeTiming.ajax_count=this.prestreamAjaxCount=$.active,this.prestreamAjaxCount==0?(this.routeTiming.ajax_complete_time=(new Date).getTime(),this._scribeResultsAndReset()):this.trackAjax=!0},_routesEqual:function(a,b){return a.name===b.name&&a.path===b.path},_reset:function(){this.routeTiming={},this.trackAjax=!1,this.prestreamAjaxCount=0,this.poststreamAjax={},this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=0}}),twttr.loggedIn&&(twttr.decider.isAvailable("route_timing")||b.util.params().routetimer)&&(twttr.router.bind("routeFollowed",function(a,b,c){twttr.RouteTimer.routeStart(b,c)}),$(document).ajaxComplete(function(a,b,c){twttr.RouteTimer.onAjaxComplete(b,c)}),$(document).ajaxSend(function(a,b,c){twttr.RouteTimer.onAjaxSend(b,c)})),a(twttr.RouteTimer)})}),provide("bundle/t1-core",function(a){using(["$lib/jquery-1.7.1.js","libwrap/jquery","$lib/json2.js","libwrap/json","$lib/hogan.js","libwrap/hogan","run/base","_","/account/templates_t1_core.js","EventProvider","bluejs/init","bluejs/config/endpoints","bluejs/util/request_helpers","bluejs/util/local_storage_cache","bluejs/util/object_cache","bluejs/util/request_cache","bluejs/util/helpers","bluejs/util/model","bluejs/util/remote_request","bluejs/util/base_collection","bluejs/mixins/status_actions","bluejs/mixins/phoenix/user","bluejs/mixins/phoenix/current_user","bluejs/mixins/phoenix/status","bluejs/mixins/phoenix/rate_user_recommendation","bluejs/models/base","bluejs/models/user","bluejs/models/direct_message","bluejs/models/saved_search","bluejs/models/list","bluejs/models/location","bluejs/models/trend","bluejs/models/status","bluejs/models/promptbird","bluejs/models/search_result","bluejs/models/place","bluejs/models/user_recommendation","bluejs/models/suggestion_category","bluejs/models/related_tweets","bluejs/models/related_result","bluejs/util/promoted_content","bluejs/models/address_book","bluejs/models/promo","bluejs/models/urls","bluejs/models/blob","bluejs/models/device","bluejs/models/search","bluejs/models/conversation","bluejs/models/activity","bluejs/models/topic_story","bluejs/models/news_article","bluejs/models/news_story","bluejs/models/user_story","bluejs/models/tweet_story","bluejs/models/story","bluejs/models/search_story","bluejs/models/stories","bluejs/models/discovery","bluejs/models/sports_story","bluejs/models/soccer_events","bluejs/models/us_political_rep","bluejs/models/social_proof","bluejs/models/referenced_by","extendAPI","bluejs/api","$lib/jquery.color.js","$lib/modernizr-1.5.js","$lib/jquery.hashchange.js","$lib/jquery.cookie.js","$lib/jquery.tipsy.js","$lib/jquery.cssanimation.js","IFrame","util","constants","cache","singletons/namespaced_store","singletons/promoted_account_store","singletons/promoted_tweet_store","decider","multiGlobals/scribble","abdecider","app","singletons/external_url_store","singletons/Router","streams/Stream","scribbles","Cards","multiGlobals/client_app_tracking","mixins/streamablePageDetailsPane","mixins/streamablePageDropdownEdition","mixins/streamablePageWithInlineMedia","mixins/itemActionableScribing","mixins/streamablePage","mixins/userActionableT1","mixins/userActionable","mixins/profilePopupActionable","mixins/listActionable","mixins/tweetActionable","mixins/pendingActions","mixins/i18nTweet","mixins/i18nTweetBox","mixins/promotedTweetStream","mixins/componentEvents","mixins/protectedUserActionable","mixins/serverRenderableObject","mixins/welcomeScribing","mixins/t1/emptyTimelineRecommendations","lib/natcompare","$lib/twitter-text-1.4.16.js","setup","search","helpers","errors","viewHelpers","components/Base","idleDetector","interface","run/topbarDropdown","tco","streams/TweetStream","streams/Home","streams/StreamManager","view","urlResolver","multiGlobals/core_views","multiGlobals/core_views_t1","router_t1","audit","multiGlobals/ClickTrail","run/defaultViews","TrendLocations","mixins/sideNavigationT1","components/PagePromise","components/Page","components/pages/mixins/homeT1","components/pages/Home","themes","Profiler","RouteTimer"],function(){a()})});